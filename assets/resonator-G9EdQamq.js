var W=Object.defineProperty;var X=(s,e,t)=>e in s?W(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var n=(s,e,t)=>X(s,typeof e!="symbol"?e+"":e,t);import{$ as z}from"./index-BYgdPpyf.js";import{g as I,a as J}from"./utils-CBNJlnqw.js";const Q={ATTR:"基礎屬性"},ue={SKILL_DMG_ADDITION:"skill_dmg_addition",MAGNIFIER:"magnifier",AMPLIFIER:"amplifier",BONUS:"bonus",HP_P:"hp_p",HP:"hp",ATK_P:"atk_p",ATK:"atk",DEF_P:"def_p",DEF:"def",CRIT_RATE:"crit_rate",CRIT_DMG:"crit_dmg",IGNORE_DEF:"ignore_def",REDUCE_RES:"reduce_res"},_={SKILL_DMG_ADDITION:"招式倍率",MAGNIFIER:"倍率",AMPLIFIER:"加深",BONUS:"加成",HP_P:"生命百分比",HP:"生命",ATK_P:"攻擊百分比",ATK:"攻擊",DEF_P:"防禦百分比",DEF:"防禦",CRIT_RATE:"暴擊",CRIT_DMG:"暴擊傷害",IGNORE_DEF:"忽視防禦",REDUCE_RES:"抗性降低"},f={GLACIO:"冷凝",FUSION:"熱熔",ELECTRO:"導電",AERO:"氣動",SPECTRO:"衍射",HAVOC:"湮滅"},c={BASIC:"普攻",HEAVY:"重擊",SKILL:"共鳴技能",LIBERATION:"共鳴解放",INTRO:"變奏",OUTRO:"延奏",ECHO:"聲骸",COORDINATED_ATTACK:"協同攻擊",NONE:"無"},Se={HP:"生",ATK:"攻",DEF:"防",CRIT_RATE:"暴",CRIT_DMG:"暴傷",ENERGY_REGEN:"共效",BONUS_HEALING:"治"},r={CRIT_RATE:"crit_rate",CRIT_DMG:"crit_dmg",HP:"hp",HP_P:"hp_p",ATK:"atk",ATK_P:"atk_p",DEF:"def",DEF_P:"def_p",ENERGY_REGEN:"energy_regen",BONUS_PHYSICS:"bonus_physics",BONUS_GLACIO:"bonus_glacio",BONUS_FUSION:"bonus_fusion",BONUS_ELECTRO:"bonus_electro",BONUS_AERO:"bonus_aero",BONUS_SPECTRO:"bonus_spectro",BONUS_HAVOC:"bonus_havoc",BONUS_RESONANCE_SKILL:"bonus_resonance_skill",BONUS_BASIC_ATTACK:"bonus_basic_attack",BONUS_HEAVY_ATTACK:"bonus_heavy_attack",BONUS_RESONANCE_LIBERATION:"bonus_resonance_liberation",BONUS_HEALING:"bonus_healing"},Ae={CRIT_RATE:"暴擊",CRIT_DMG:"暴擊傷害",HP:"生命",HP_P:"生命百分比",ATK:"攻擊",ATK_P:"攻擊百分比",DEF:"防禦",DEF_P:"防禦百分比",ENERGY_REGEN:"共鳴效率",BONUS_PHYSICS:"物理傷害加成",BONUS_GLACIO:"冷凝傷害加成",BONUS_FUSION:"熱熔傷害加成",BONUS_ELECTRO:"導電傷害加成",BONUS_AERO:"氣動傷害加成",BONUS_SPECTRO:"衍射傷害加成",BONUS_HAVOC:"湮滅傷害加成",BONUS_RESONANCE_SKILL:"共鳴技能傷害加成",BONUS_BASIC_ATTACK:"普攻傷害加成",BONUS_HEAVY_ATTACK:"重擊傷害加成",BONUS_RESONANCE_LIBERATION:"共鳴解放傷害加成",BONUS_HEALING:"治療效果加成"},Z={BASE:"基礎",ATTR:Q.ATTR,RESONATOR:"共鳴者",ECHO:"聲骸",MONSTER:"怪物",SONATA:"合鳴",STAT:"屬性加成",MANUAL:"手動"},Oe={PASSIVE:"被動",TUNE:"諧振",MAIN_SLOT:"首位裝配",MAIN_AFFIX:"主詞條",SUB_AFFIX:"副詞條"};class ee{constructor(){n(this,"id","");n(this,"category","");n(this,"source","");n(this,"suffix","");n(this,"type","");n(this,"value","");n(this,"stack","");n(this,"duration","");n(this,"target","");n(this,"element","");n(this,"skill_bonus_type","")}getId(){let e=this.type;e?this.element?this.skill_bonus_type?e=c.NONE:e=this.element:this.skill_bonus_type?e=this.skill_bonus_type:e=this.type:e=c.NONE;let t;return this.target?t=`[${e}-${this.target}]`:t=`[${e}]`,this.source&&(t=`${t}${this.source}`),this.suffix&&(t=`${t}-${this.suffix}`),t}updateId(){this.id=this.getId()}}const te={HP:"生命",ATK:"攻擊",DEF:"防禦"},S={NORMAL_ATTACK:"常態攻擊",RESONANCE_SKILL:"共鳴技能",FORTE_CIRCUIT:"共鳴回路",RESONANCE_LIBERATION:"共鳴解放",INTRO_SKILL:"變奏技能"};/*!
  * mande v2.0.8
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */function se(s){let e=Object.keys(s).map(t=>[t,s[t]].map(encodeURIComponent).join("=")).join("&");return e?"?"+e:""}let ne=/^\/+/;function re(s,e){return s+(e&&(s.endsWith("/")?e.replace(ne,""):e.startsWith("/")?e:"/"+e))}function ae(s){return Object.keys(s).reduce((e,t)=>(s[t]!=null&&(e[t]=s[t]),e),{})}const C={responseAs:"json",headers:{Accept:"application/json"},stringify:JSON.stringify};function oe(s,e={},t){function a(u,i,o,E={}){let l,O;typeof i=="object"?(l="",E=o||i||{},O=i):(l=i,O=o);let T={...C,...N,method:u,...E,headers:ae({"Content-Type":O instanceof FormData?null:"application/json",...C.headers,...N.headers,...E.headers})},q={...C.query,...N.query,...E.query},{responseAs:B}=T;l=re(s,typeof l=="number"?""+l:l||""),l+=se(q),u[0]==="P"&&O&&!T.body&&(T.body=O instanceof FormData?O:T.stringify(O));const y=typeof fetch<"u"?fetch:t;if(!y)throw new Error("No fetch function exists. Make sure to include a polyfill on Node.js.");return y(l,T).then(A=>Promise.all([A,B==="response"?A:A[B]().catch(()=>null)])).then(([A,m])=>{if(A.status>=200&&A.status<300)return B!=="response"&&A.status==204?null:m;let R=new Error(A.statusText);throw R.response=A,R.body=m,R})}const N={query:{},headers:{},...e};return{options:N,post:a.bind(null,"POST"),put:a.bind(null,"PUT"),patch:a.bind(null,"PATCH"),get:(u,i)=>a("GET",u,null,i),delete:(u,i)=>a("DELETE",u,null,i)}}var b,g,U,k,p,L,d,P,K,D,H,F,G,w,M,$,V,j,v,Y,x;x=r.CRIT_RATE,Y=r.CRIT_DMG,v=r.HP,j=r.HP_P,V=r.ATK,$=r.ATK_P,M=r.DEF,w=r.DEF_P,G=r.ENERGY_REGEN,F=r.BONUS_PHYSICS,H=r.BONUS_GLACIO,D=r.BONUS_FUSION,K=r.BONUS_ELECTRO,P=r.BONUS_AERO,d=r.BONUS_SPECTRO,L=r.BONUS_HAVOC,p=r.BONUS_RESONANCE_SKILL,k=r.BONUS_BASIC_ATTACK,U=r.BONUS_HEAVY_ATTACK,g=r.BONUS_RESONANCE_LIBERATION,b=r.BONUS_HEALING;class ie{constructor(){n(this,x,"");n(this,Y,"");n(this,v,"");n(this,j,"");n(this,V,"");n(this,$,"");n(this,M,"");n(this,w,"");n(this,G,"");n(this,F,"");n(this,H,"");n(this,D,"");n(this,K,"");n(this,P,"");n(this,d,"");n(this,L,"");n(this,p,"");n(this,k,"");n(this,U,"");n(this,g,"");n(this,b,"")}addStatBuff(e){Object.values(r).forEach(a=>{const N=I(this[a]),u=I(e[a]);this[a]=I(N+u).toString()})}getKeys(){const e=[];return Object.values(r).forEach(t=>{const a=this[t];I(a)>0&&e.push(t)}),e}getRowBuffs(e){const t=[];return this.getKeys().forEach(N=>{const u=I(this[N]);if(u===0)return;const i=new ee;i.category=Z.STAT,i.stack="1",i.value=u.toString(),e?i.source=`${e}-${i.category}`:i.source=i.category;let o="",E="",l="";switch(N){case r.CRIT_RATE:o=_.CRIT_RATE;break;case r.CRIT_DMG:o=_.CRIT_DMG;break;case r.HP:o=_.HP;break;case r.HP_P:o=_.HP_P;break;case r.ATK:o=_.ATK;break;case r.ATK_P:o=_.ATK_P;break;case r.DEF:o=_.DEF;break;case r.DEF_P:o=_.DEF_P;break;case r.BONUS_GLACIO:o=_.BONUS,E=f.GLACIO;break;case r.BONUS_FUSION:o=_.BONUS,E=f.FUSION;break;case r.BONUS_ELECTRO:o=_.BONUS,E=f.ELECTRO;break;case r.BONUS_AERO:o=_.BONUS,E=f.AERO;break;case r.BONUS_SPECTRO:o=_.BONUS,E=f.SPECTRO;break;case r.BONUS_HAVOC:o=_.BONUS,E=f.HAVOC;break;case r.BONUS_RESONANCE_SKILL:o=_.BONUS,l=c.SKILL;break;case r.BONUS_BASIC_ATTACK:o=_.BONUS,l=c.BASIC;break;case r.BONUS_HEAVY_ATTACK:o=_.BONUS,l=c.HEAVY;break;case r.BONUS_RESONANCE_LIBERATION:o=_.BONUS,l=c.LIBERATION;break;default:return}i.type=o,i.element=E,i.skill_bonus_type=l,i.updateId(),t.push(i)}),t}}function fe(){return[...Object.values(f),c.BASIC,c.HEAVY,c.SKILL,c.LIBERATION,c.INTRO,c.OUTRO,c.ECHO,c.COORDINATED_ATTACK]}class _e{constructor(e){n(this,"no","");n(this,"name","");n(this,"rank","");n(this,"is_permanent");n(this,"stat_bonus",new ie);n(this,"element_zh_tw","");n(this,"element_en","");n(this,"attrs",[]);n(this,"skills",[]);n(this,"skill_infos",{});Object.assign(this,e)}getHp(e){const t=this.attrs;for(const a of t)if(a.lv===e)return a.hp;return""}getAtk(e){const t=this.attrs;for(const a of t)if(a.lv===e)return a.atk;return""}getDef(e){const t=this.attrs;for(const a of t)if(a.lv===e)return a.def;return""}getHtmlInfoBySkillType(e){let t="",a="";switch(e){case S.NORMAL_ATTACK:t=`【${S.NORMAL_ATTACK}】${this.skill_infos.normal_attack.name}<br /><br />`,a=this.skill_infos.normal_attack.description.replace(/\n/g,"<br />");break;case S.RESONANCE_SKILL:t=`【${S.RESONANCE_SKILL}】${this.skill_infos.resonance_skill.name}<br /><br />`,a=this.skill_infos.resonance_skill.description.replace(/\n/g,"<br />");break;case S.FORTE_CIRCUIT:t=`【${S.FORTE_CIRCUIT}】${this.skill_infos.forte_circuit.name}<br /><br />`,a=this.skill_infos.forte_circuit.description.replace(/\n/g,"<br />");break;case S.RESONANCE_LIBERATION:t=`【${S.RESONANCE_LIBERATION}】${this.skill_infos.resonance_liberation.name}<br /><br />`,a=this.skill_infos.resonance_liberation.description.replace(/\n/g,"<br />");break;case S.INTRO_SKILL:t=`【${S.INTRO_SKILL}】${this.skill_infos.intro_skill.name}<br /><br />`,a=this.skill_infos.intro_skill.description.replace(/\n/g,"<br />");break;default:return""}return t+a}getDamageSkillItems(){const e=[];return this.skills.forEach(a=>{if(a.id&&a.type==="Damage"){const N=a.skill_type;a.tooltip=this.getHtmlInfoBySkillType(N),e.push({title:a.id,value:a})}}),e}}function Te(){return Object.values(te)}function Ie(){return[c.SKILL,c.BASIC,c.HEAVY,c.LIBERATION]}const h={散華:"1102",白芷:"1103",凌陽:"1104",折枝:"1105",釉瑚:"1106",珂萊塔:"1107",熾霞:"1202",安可:"1203",莫特斐:"1204",長離:"1205",布蘭特:"1206",卡卡羅:"1301",吟霖:"1302",淵武:"1303",今汐:"1304",相里要:"1305",秧秧:"1402",秋水:"1403",忌炎:"1404",鑒心:"1405","漂泊者·衍射(男)":"1501","漂泊者·衍射(女)":"1502",維里奈:"1503",守岸人:"1505",菲比:"1506",桃祈:"1601",丹瑾:"1602",椿:"1603","漂泊者·湮滅(女)":"1604","漂泊者·湮滅(男)":"1605",洛可可:"1606"},ce=["布蘭特"],Be=z("resonator",{state:()=>({}),actions:{getNames(s=!1){const e=Object.keys(h);if(s===!0)return e;const t=[];return e.forEach(a=>{ce.includes(a)||t.push(a)}),t},getChains(){return new Array("1","2","3","4","5","6")},getLevels(){return new Array("1","20","20+","40","40+","50","50+","60","60+","70","70+","80","80+","90")},getSkillLevels(){return new Array("1","2","3","4","5","6","7","8","9","10")},getNoByName(s){return h[s]},getNameByNo(s){return J(h,s)},getIconSrcByNo(s){return`/assets/resonators/${s}/icon.png`},getIconSrcByName(s){const e=this.getNoByName(s);return this.getIconSrcByNo(e)},async getInfoByNo(s){try{const e=oe(`/data/resonators/${s}/info.json`);return new _e(await e.get())}catch(e){throw e}},async getInfoByName(s){const e=this.getNoByName(s);return await this.getInfoByNo(e)},async getElementEnByNo(s){return(await this.getInfoByNo(s)).element_en},async getElementEnByName(s){const e=this.getNoByName(s);return await this.getElementEnByNo(e)},async getElementSrcByNo(s){return`/assets/elements/${await this.getElementEnByNo(s)}.png`},async getElementSrcByName(s){const e=this.getNoByName(s);return await this.getElementSrcByNo(e)},async getDamageSkillItems(s){return(await this.getInfoByName(s)).getDamageSkillItems()}}});export{Se as A,Q as B,f as E,ee as R,ie as S,te as a,Z as b,_ as c,S as d,c as e,Oe as f,Ae as g,r as h,ue as i,Te as j,Ie as k,fe as l,oe as m,ce as s,Be as u};
