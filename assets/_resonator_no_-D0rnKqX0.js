import{_ as w}from"./ResonatorInfo-3XU6Y2So.js";import{_ as C}from"./ImageDownloadPanel.vue_vue_type_script_setup_true_lang-4CO-XzrH.js";import{_ as N}from"./ResonatorTier-DqXmWhVC.js";import{m as I,u as $}from"./resonator-COqTDQhw.js";import{ai as k,d as B,u as R,p as T,g as V,h as v,e as f,o as p,w as n,a as l,c as j,k as h,F as x,j as q,aj as F,V as b,l as P,i as L,t as M}from"./index-BndpXxgB.js";import{T as W}from"./template-BvGKgRxm.js";import{T as z}from"./damage-DX6l06Nh.js";import"./VTooltip-DohrLjXR.js";import"./VDataTable-GDCBWToW.js";import"./VTextField-vWpKfa4g.js";import"./index-w9x-gpYu.js";import"./VList-jEY_DqCL.js";import"./VAvatar-C1OV60Oa.js";import"./affix-NmzP8Gk5.js";import"./echoes-Dkl7vNSD.js";import"./rotation-CsFoYx0c.js";const A=k("echoComparison",{state:()=>({}),actions:{async getEchoComparison(g,s,_){const o=await I(`/data/calculation/template/${g}/${s}/echo_comparison/${_}.json`).get(),r=[];return o.damage_distributions.forEach(u=>{const e=new z(u);r.push(e)}),o.damage_distributions=r,o.resonator_template=new W(o.resonator_template),o}}}),G=["id"],mo=B({__name:"[resonator_no]",setup(g){const s=R(),_=s.params.id,D=s.params.affix_policy,o=s.params.resonator_no,r=$(),u=A(),e=r.getNameByNo(o),m=T([]),y=V([]);return v(async()=>{const t=await u.getEchoComparison(_,D,o);m.value=t.damage_distributions;const E=t.resonator_template.getResonatorEcho1(e);m.value.forEach(async d=>{const i=d.resonators[e].resonator_id,a=t.resonator_models[i],c=await r.getElementSrcByName(e);a.resonatorID=i,a.echo1=E,a.elementSrc=c,y.push(a)})}),(t,E)=>{const d=N,i=C,a=w;return p(),f(b,null,{default:n(()=>[l(i,{fname:t.$t("template.header.echo_damage_comparison",{name:h(e)})},{default:n(()=>[(p(),f(d,{title:t.$t("template.header.echo_damage_comparison",{name:h(e)}),resonatorNo:h(o),teamDamageDistributions:m.value,isWarning:!1,toSort:!1,key:m.value.length},null,8,["title","resonatorNo","teamDamageDistributions"]))]),_:1},8,["fname"]),(p(!0),j(x,null,q(y,(c,S)=>(p(),f(F,{key:S},{default:n(()=>[l(b,null,{default:n(()=>[l(P,{class:"mb-2"},{default:n(()=>[L("h2",{id:`resonator${S}`},M(c.resonatorID),9,G)]),_:2},1024)]),_:2},1024),l(a,{resonator:c},null,8,["resonator"])]),_:2},1024))),128))]),_:1})}}});export{mo as default};
