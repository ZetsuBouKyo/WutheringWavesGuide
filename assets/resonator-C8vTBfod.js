var Q=Object.defineProperty;var Z=(n,e,s)=>e in n?Q(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var a=(n,e,s)=>Z(n,typeof e!="symbol"?e+"":e,s);import{ai as ee}from"./index-C7j9b9qh.js";import{d as I,g as te}from"./utils-CKOygh4Q.js";/*!
  * mande v2.0.8
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */function se(n){let e=Object.keys(n).map(s=>[s,n[s]].map(encodeURIComponent).join("=")).join("&");return e?"?"+e:""}let ne=/^\/+/;function ie(n,e){return n+(e&&(n.endsWith("/")?e.replace(ne,""):e.startsWith("/")?e:"/"+e))}function ae(n){return Object.keys(n).reduce((e,s)=>(n[s]!=null&&(e[s]=n[s]),e),{})}const R={responseAs:"json",headers:{Accept:"application/json"},stringify:JSON.stringify};function _e(n,e={},s){function i(c,l,_,S={}){let N,m;typeof l=="object"?(N="",S=_||l||{},m=l):(N=l,m=_);let T={...R,...E,method:c,...S,headers:ae({"Content-Type":m instanceof FormData?null:"application/json",...R.headers,...E.headers,...S.headers})},X={...R.query,...E.query,...S.query},{responseAs:B}=T;N=ie(n,typeof N=="number"?""+N:N||""),N+=se(X),c[0]==="P"&&m&&!T.body&&(T.body=m instanceof FormData?m:T.stringify(m));const b=typeof fetch<"u"?fetch:s;if(!b)throw new Error("No fetch function exists. Make sure to include a polyfill on Node.js.");return b(N,T).then(A=>Promise.all([A,B==="response"?A:A[B]().catch(()=>null)])).then(([A,C])=>{if(A.status>=200&&A.status<300)return B!=="response"&&A.status==204?null:C;let f=new Error(A.statusText);throw f.response=A,f.body=C,f})}const E={query:{},headers:{},...e};return{options:E,post:i.bind(null,"POST"),put:i.bind(null,"PUT"),patch:i.bind(null,"PATCH"),get:(c,l)=>i("GET",c,null,l),delete:(c,l)=>i("DELETE",c,null,l)}}const le={ATTR:"基礎屬性"},me={SKILL_DMG_ADDITION:"skill_dmg_addition",MAGNIFIER:"magnifier",AMPLIFIER:"amplifier",BONUS:"bonus",HP_P:"hp_p",HP:"hp",ATK_P:"atk_p",ATK:"atk",DEF_P:"def_p",DEF:"def",CRIT_RATE:"crit_rate",CRIT_DMG:"crit_dmg",IGNORE_DEF:"ignore_def",REDUCE_RES:"reduce_res"},r={SKILL_DMG_ADDITION:"招式倍率",MAGNIFIER:"倍率",AMPLIFIER:"加深",BONUS:"加成",HP_P:"生命百分比",HP:"生命",ATK_P:"攻擊百分比",ATK:"攻擊",DEF_P:"防禦百分比",DEF:"防禦",CRIT_RATE:"暴擊",CRIT_DMG:"暴擊傷害",IGNORE_DEF:"忽視防禦",REDUCE_RES:"抗性降低"},u={GLACIO:"冷凝",FUSION:"熱熔",ELECTRO:"導電",AERO:"氣動",SPECTRO:"衍射",HAVOC:"湮滅"},o={BASIC:"普攻",HEAVY:"重擊",SKILL:"共鳴技能",LIBERATION:"共鳴解放",INTRO:"變奏",OUTRO:"延奏",ECHO:"聲骸",COORDINATED_ATTACK:"協同攻擊",NONE:"無"},re={HP:"生",ATK:"攻",DEF:"防",CRIT_RATE:"暴",CRIT_DMG:"暴傷",ENERGY_REGEN:"共效",BONUS_RESONANCE_SKILL:"共技",BONUS_BASIC_ATTACK:"普",BONUS_HEAVY_ATTACK:"重",BONUS_RESONANCE_LIBERATION:"共解",BONUS_HEALING:"治"},Te={...re,...u},t={CRIT_RATE:"crit_rate",CRIT_DMG:"crit_dmg",HP:"hp",HP_P:"hp_p",ATK:"atk",ATK_P:"atk_p",DEF:"def",DEF_P:"def_p",ENERGY_REGEN:"energy_regen",BONUS_PHYSICS:"bonus_physics",BONUS_GLACIO:"bonus_glacio",BONUS_FUSION:"bonus_fusion",BONUS_ELECTRO:"bonus_electro",BONUS_AERO:"bonus_aero",BONUS_SPECTRO:"bonus_spectro",BONUS_HAVOC:"bonus_havoc",BONUS_RESONANCE_SKILL:"bonus_resonance_skill",BONUS_BASIC_ATTACK:"bonus_basic_attack",BONUS_HEAVY_ATTACK:"bonus_heavy_attack",BONUS_RESONANCE_LIBERATION:"bonus_resonance_liberation",BONUS_HEALING:"bonus_healing"},Ie={CRIT_RATE:"暴擊",CRIT_DMG:"暴擊傷害",HP:"生命",HP_P:"生命百分比",ATK:"攻擊",ATK_P:"攻擊百分比",DEF:"防禦",DEF_P:"防禦百分比",ENERGY_REGEN:"共鳴效率",BONUS_PHYSICS:"物理傷害加成",BONUS_GLACIO:"冷凝傷害加成",BONUS_FUSION:"熱熔傷害加成",BONUS_ELECTRO:"導電傷害加成",BONUS_AERO:"氣動傷害加成",BONUS_SPECTRO:"衍射傷害加成",BONUS_HAVOC:"湮滅傷害加成",BONUS_RESONANCE_SKILL:"共鳴技能傷害加成",BONUS_BASIC_ATTACK:"普攻傷害加成",BONUS_HEAVY_ATTACK:"重擊傷害加成",BONUS_RESONANCE_LIBERATION:"共鳴解放傷害加成",BONUS_HEALING:"治療效果加成"},oe={BASE:"基礎",ATTR:le.ATTR,RESONATOR:"共鳴者",ECHO:"聲骸",MONSTER:"怪物",SONATA:"合鳴",STAT:"屬性加成",MANUAL:"手動"},Be={PASSIVE:"被動",TUNE:"諧振",MAIN_SLOT:"首位裝配",MAIN_AFFIX:"主詞條",SUB_AFFIX:"副詞條"},Ne={HP:"生命",ATK:"攻擊",DEF:"防禦"},O={NORMAL_ATTACK:"常態攻擊",RESONANCE_SKILL:"共鳴技能",FORTE_CIRCUIT:"共鳴回路",RESONANCE_LIBERATION:"共鳴解放",INTRO_SKILL:"變奏技能"};class Ee{constructor(){a(this,"id","");a(this,"category","");a(this,"source","");a(this,"suffix","");a(this,"type","");a(this,"value","");a(this,"stack","");a(this,"duration","");a(this,"target","");a(this,"element","");a(this,"skill_bonus_type","")}getId(){let e=this.type;e?this.element?this.skill_bonus_type?e=o.NONE:e=this.element:this.skill_bonus_type?e=this.skill_bonus_type:e=this.type:e=o.NONE;let s;return this.target?s=`[${e}-${this.target}]`:s=`[${e}]`,this.source&&(s=`${s}${this.source}`),this.suffix&&(s=`${s}-${this.suffix}`),s}updateId(){this.id=this.getId()}}var k,p,U,L,P,K,H,D,F,G,w,M,V,v,Y,$,j,J,x,q,z;z=t.CRIT_RATE,q=t.CRIT_DMG,x=t.HP,J=t.HP_P,j=t.ATK,$=t.ATK_P,Y=t.DEF,v=t.DEF_P,V=t.ENERGY_REGEN,M=t.BONUS_PHYSICS,w=t.BONUS_GLACIO,G=t.BONUS_FUSION,F=t.BONUS_ELECTRO,D=t.BONUS_AERO,H=t.BONUS_SPECTRO,K=t.BONUS_HAVOC,P=t.BONUS_RESONANCE_SKILL,L=t.BONUS_BASIC_ATTACK,U=t.BONUS_HEAVY_ATTACK,p=t.BONUS_RESONANCE_LIBERATION,k=t.BONUS_HEALING;const g=class g{constructor(){a(this,z,"");a(this,q,"");a(this,x,"");a(this,J,"");a(this,j,"");a(this,$,"");a(this,Y,"");a(this,v,"");a(this,V,"");a(this,M,"");a(this,w,"");a(this,G,"");a(this,F,"");a(this,D,"");a(this,H,"");a(this,K,"");a(this,P,"");a(this,L,"");a(this,U,"");a(this,p,"");a(this,k,"")}duplicate(){const e=new g;return e[t.CRIT_RATE]=this[t.CRIT_RATE],e[t.CRIT_DMG]=this[t.CRIT_DMG],e[t.HP]=this[t.HP],e[t.HP_P]=this[t.HP_P],e[t.ATK]=this[t.ATK],e[t.ATK_P]=this[t.ATK_P],e[t.DEF]=this[t.DEF],e[t.DEF_P]=this[t.DEF_P],e[t.ENERGY_REGEN]=this[t.ENERGY_REGEN],e[t.BONUS_PHYSICS]=this[t.BONUS_PHYSICS],e[t.BONUS_GLACIO]=this[t.BONUS_GLACIO],e[t.BONUS_FUSION]=this[t.BONUS_FUSION],e[t.BONUS_ELECTRO]=this[t.BONUS_ELECTRO],e[t.BONUS_AERO]=this[t.BONUS_AERO],e[t.BONUS_SPECTRO]=this[t.BONUS_SPECTRO],e[t.BONUS_HAVOC]=this[t.BONUS_HAVOC],e[t.BONUS_RESONANCE_SKILL]=this[t.BONUS_RESONANCE_SKILL],e[t.BONUS_BASIC_ATTACK]=this[t.BONUS_BASIC_ATTACK],e[t.BONUS_HEAVY_ATTACK]=this[t.BONUS_HEAVY_ATTACK],e[t.BONUS_RESONANCE_LIBERATION]=this[t.BONUS_RESONANCE_LIBERATION],e[t.BONUS_HEALING]=this[t.BONUS_HEALING],e}addStatBuff(e){Object.values(t).forEach(i=>{const E=I(this[i]),c=I(e[i]);this[i]=I(E+c).toString()})}getKeys(){const e=[];return Object.values(t).forEach(s=>{const i=this[s];I(i)>0&&e.push(s)}),e}getRowBuffs(e){const s=[];return this.getKeys().forEach(E=>{const c=I(this[E]);if(c===0)return;const l=new Ee;l.category=oe.STAT,l.stack="1",l.value=c.toString(),e?l.source=`${e}-${l.category}`:l.source=l.category;let _="",S="",N="";switch(E){case t.CRIT_RATE:_=r.CRIT_RATE;break;case t.CRIT_DMG:_=r.CRIT_DMG;break;case t.HP:_=r.HP;break;case t.HP_P:_=r.HP_P;break;case t.ATK:_=r.ATK;break;case t.ATK_P:_=r.ATK_P;break;case t.DEF:_=r.DEF;break;case t.DEF_P:_=r.DEF_P;break;case t.BONUS_GLACIO:_=r.BONUS,S=u.GLACIO;break;case t.BONUS_FUSION:_=r.BONUS,S=u.FUSION;break;case t.BONUS_ELECTRO:_=r.BONUS,S=u.ELECTRO;break;case t.BONUS_AERO:_=r.BONUS,S=u.AERO;break;case t.BONUS_SPECTRO:_=r.BONUS,S=u.SPECTRO;break;case t.BONUS_HAVOC:_=r.BONUS,S=u.HAVOC;break;case t.BONUS_RESONANCE_SKILL:_=r.BONUS,N=o.SKILL;break;case t.BONUS_BASIC_ATTACK:_=r.BONUS,N=o.BASIC;break;case t.BONUS_HEAVY_ATTACK:_=r.BONUS,N=o.HEAVY;break;case t.BONUS_RESONANCE_LIBERATION:_=r.BONUS,N=o.LIBERATION;break;default:return}l.type=_,l.element=S,l.skill_bonus_type=N,l.updateId(),s.push(l)}),s}};let y=g;function fe(){return[...Object.values(u),o.BASIC,o.HEAVY,o.SKILL,o.LIBERATION,o.INTRO,o.OUTRO,o.ECHO,o.COORDINATED_ATTACK]}function Re(){return Object.values(r)}class h{constructor(e={}){a(this,"no","");a(this,"name","");a(this,"rank","");a(this,"is_permanent");a(this,"stat_bonus",new y);a(this,"element_zh_tw","");a(this,"element_en","");a(this,"attrs",[]);a(this,"skills",[]);a(this,"skill_infos",{});Object.keys(e).length>0&&Object.assign(this,e)}duplicate(){const e=new h;return e.no=this.no,e.name=this.name,e.rank=this.rank,e.is_permanent=this.is_permanent,this.stat_bonus.duplicate!==void 0?e.stat_bonus=this.stat_bonus.duplicate():e.stat_bonus=JSON.parse(JSON.stringify(this.stat_bonus)),e.element_zh_tw=this.element_zh_tw,e.element_en=this.element_en,e.attrs=JSON.parse(JSON.stringify(this.attrs)),e.skills=JSON.parse(JSON.stringify(this.skills)),e.skill_infos=JSON.parse(JSON.stringify(this.skill_infos)),e}getHp(e){const s=this.attrs;for(const i of s)if(i.lv===e)return i.hp;return""}getAtk(e){const s=this.attrs;for(const i of s)if(i.lv===e)return i.atk;return""}getDef(e){const s=this.attrs;for(const i of s)if(i.lv===e)return i.def;return""}getHtmlInfoBySkillType(e){let s="",i="";switch(e){case O.NORMAL_ATTACK:s=`【${O.NORMAL_ATTACK}】${this.skill_infos.normal_attack.name}<br /><br />`,i=this.skill_infos.normal_attack.description.replace(/\n/g,"<br />");break;case O.RESONANCE_SKILL:s=`【${O.RESONANCE_SKILL}】${this.skill_infos.resonance_skill.name}<br /><br />`,i=this.skill_infos.resonance_skill.description.replace(/\n/g,"<br />");break;case O.FORTE_CIRCUIT:s=`【${O.FORTE_CIRCUIT}】${this.skill_infos.forte_circuit.name}<br /><br />`,i=this.skill_infos.forte_circuit.description.replace(/\n/g,"<br />");break;case O.RESONANCE_LIBERATION:s=`【${O.RESONANCE_LIBERATION}】${this.skill_infos.resonance_liberation.name}<br /><br />`,i=this.skill_infos.resonance_liberation.description.replace(/\n/g,"<br />");break;case O.INTRO_SKILL:s=`【${O.INTRO_SKILL}】${this.skill_infos.intro_skill.name}<br /><br />`,i=this.skill_infos.intro_skill.description.replace(/\n/g,"<br />");break;default:return""}return s+i}getDamageSkillItems(){const e=[];return this.skills.forEach(i=>{if(i.id&&i.type==="Damage"){const E=i.skill_type;i.tooltip=this.getHtmlInfoBySkillType(E),e.push({title:i.id,value:i})}}),e}getDamageSkillItemById(e){const s=this.skills;for(const i of s)if(i.type==="Damage"&&i.id&&i.id===e){const E=i.skill_type;return i.tooltip=this.getHtmlInfoBySkillType(E),{title:i.id,value:i}}}}function de(){return Object.values(Ne)}function ye(){return[o.SKILL,o.BASIC,o.HEAVY,o.LIBERATION]}const W=[{id:"五星 輝螢軍勢-1",element:"冷凝",base_attr:"攻擊",skill_type:"聲骸",dmg:"200.16%"},{id:"五星 輝螢軍勢-2",element:"冷凝",base_attr:"攻擊",skill_type:"聲骸",dmg:"200.16%"},{id:"五星 輝螢軍勢-3",element:"冷凝",base_attr:"攻擊",skill_type:"聲骸",dmg:"266.88%"},{id:"五星 輝螢軍勢",element:"冷凝",base_attr:"攻擊",skill_type:"聲骸",dmg:"667.20%"},{id:"五星 角-1",element:"衍射",base_attr:"攻擊",skill_type:"聲骸",dmg:"48.86%"},{id:"五星 角-2",element:"衍射",base_attr:"攻擊",skill_type:"聲骸",dmg:"19.46%"},{id:"五星 角-3",element:"衍射",base_attr:"攻擊",skill_type:"聲骸",dmg:"48.86%"},{id:"五星 角-4",element:"衍射",base_attr:"攻擊",skill_type:"共鳴技能",dmg:"16.00%"},{id:"五星 角",element:"衍射",base_attr:"攻擊",skill_type:"聲骸",dmg:"243.44%"},{id:"五星 角 光陰之祝",element:"衍射",base_attr:"攻擊",skill_type:"共鳴技能",dmg:"240.00%"},{id:"五星 燎照之騎-1",element:"熱熔",base_attr:"攻擊",skill_type:"聲骸",dmg:"242.40%"},{id:"五星 燎照之騎-2",element:"熱熔",base_attr:"攻擊",skill_type:"聲骸",dmg:"282.80%"},{id:"五星 燎照之騎-3",element:"熱熔",base_attr:"攻擊",skill_type:"聲骸",dmg:"282.80%"},{id:"五星 飛廉之猩-1",element:"氣動",base_attr:"攻擊",skill_type:"聲骸",dmg:"231.84%"},{id:"五星 飛廉之猩-2",element:"氣動",base_attr:"攻擊",skill_type:"聲骸",dmg:"283.36%"},{id:"五星 聚械機偶-1",element:"導電",base_attr:"攻擊",skill_type:"聲骸",dmg:"48.64%"},{id:"五星 聚械機偶-2",element:"導電",base_attr:"攻擊",skill_type:"聲骸",dmg:"320.00%"},{id:"五星 聚械機偶-3",element:"導電",base_attr:"攻擊",skill_type:"聲骸",dmg:"160.00%"},{id:"五星 雲閃之鱗-1",element:"導電",base_attr:"攻擊",skill_type:"聲骸",dmg:"132.61%"},{id:"五星 雲閃之鱗-2",element:"導電",base_attr:"攻擊",skill_type:"聲骸",dmg:"189.44%"},{id:"五星 雲閃之鱗-3",element:"導電",base_attr:"攻擊",skill_type:"聲骸",dmg:"31.57%"},{id:"五星 朔雷之鱗-1",element:"導電",base_attr:"攻擊",skill_type:"聲骸",dmg:"102.48%"},{id:"五星 朔雷之鱗-2",element:"導電",base_attr:"攻擊",skill_type:"聲骸",dmg:"175.68%"},{id:"五星 無常凶鷺-1",element:"湮滅",base_attr:"攻擊",skill_type:"聲骸",dmg:"310.56%"},{id:"五星 無常凶鷺-2",element:"湮滅",base_attr:"攻擊",skill_type:"聲骸",dmg:"55.73%"},{id:"五星 鳴鐘之龜",element:"冷凝",base_attr:"防禦",skill_type:"聲骸",dmg:"145.92%"},{id:"五星 無歸的謬誤-1",element:"衍射",base_attr:"生命",skill_type:"聲骸",dmg:"15.86%"},{id:"五星 無歸的謬誤-2",element:"衍射",base_attr:"生命",skill_type:"聲骸",dmg:"1.58%"},{id:"五星 無歸的謬誤-3",element:"衍射",base_attr:"生命",skill_type:"聲骸",dmg:"19.82%"},{id:"五星 無妄者-1",element:"湮滅",base_attr:"攻擊",skill_type:"聲骸",dmg:"54.08%"},{id:"五星 無妄者-2",element:"湮滅",base_attr:"攻擊",skill_type:"聲骸",dmg:"270.40%"},{id:"五星 異構武裝-1",element:"冷凝",base_attr:"攻擊",skill_type:"聲骸",dmg:"405.00%"}],d={散華:"1102",白芷:"1103",凌陽:"1104",折枝:"1105",釉瑚:"1106",珂萊塔:"1107",熾霞:"1202",安可:"1203",莫特斐:"1204",長離:"1205",布蘭特:"1206",卡卡羅:"1301",吟霖:"1302",淵武:"1303",今汐:"1304",相里要:"1305",秧秧:"1402",秋水:"1403",忌炎:"1404",鑒心:"1405","漂泊者·衍射(男)":"1501","漂泊者·衍射(女)":"1502",維里奈:"1503",守岸人:"1505",菲比:"1506",桃祈:"1601",丹瑾:"1602",椿:"1603","漂泊者·湮滅(女)":"1604","漂泊者·湮滅(男)":"1605",洛可可:"1606"},Se=[];function ce(){const n=[];return W.forEach(e=>{n.push({title:e.id,value:e})}),n}function he(n){for(const e of W)if(n===e.id)return{title:e.id,value:e}}const ge=ee("resonator",{state:()=>({}),actions:{getNames(n=!1){const e=Object.keys(d);if(n===!0)return e;const s=[];return e.forEach(i=>{Se.includes(i)||s.push(i)}),s},getChains(){return new Array("0","1","2","3","4","5","6")},getLevels(){return new Array("1","20","20+","40","40+","50","50+","60","60+","70","70+","80","80+","90")},getSkillLevels(){return new Array("1","2","3","4","5","6","7","8","9","10")},getNoByName(n){return d[n]},getNameByNo(n){return te(d,n)},getIconSrcByNo(n){return`/assets/resonators/${n}/icon.png`},getIconSrcByName(n){const e=this.getNoByName(n);return this.getIconSrcByNo(e)},async getInfoByNo(n){try{const e=_e(`/data/resonators/${n}/info.json`);return new h(await e.get())}catch(e){throw e}},async getInfoByName(n){const e=this.getNoByName(n);return await this.getInfoByNo(e)},async getElementEnByNo(n){return(await this.getInfoByNo(n)).element_en},async getElementEnByName(n){const e=this.getNoByName(n);return await this.getElementEnByNo(e)},async getElementSrcByNo(n){return`/assets/elements/${await this.getElementEnByNo(n)}.png`},async getElementSrcByName(n){const e=this.getNoByName(n);return await this.getElementSrcByNo(e)},async getDamageSkillItems(n){return[...(await this.getInfoByName(n)).getDamageSkillItems(),...ce()]}}});export{Te as A,r as B,u as E,Ee as R,Ne as S,ye as a,fe as b,Re as c,y as d,oe as e,le as f,de as g,O as h,o as i,he as j,Be as k,Ie as l,_e as m,t as n,me as o,re as p,Se as s,ge as u};
