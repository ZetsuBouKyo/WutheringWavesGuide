var ds=Object.defineProperty;var fs=(f,t,l)=>t in f?ds(f,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):f[t]=l;var u=(f,t,l)=>fs(f,typeof t!="symbol"?t+"":t,l);import{_ as _s}from"./Explorer-Bob585fA.js";import{d as B,g as ms,m as cs,t as ge}from"./utils-CKOygh4Q.js";import{V as te}from"./VTooltip-BWJ1mprC.js";import{g as ps,p as bs,ak as gs,aL as hs,j as xs,b as vs,au as ws,a as r,a5 as Z,aM as $s,d as D,c as h,a9 as M,a4 as s,o as _,O as U,a1 as a,a2 as g,F as q,a3 as z,ad as J,ac as fe,N as W,ai as ee,M as we,a8 as ue,ae as ks,Z as ze,aN as Rs,aO as Vs,Q as ye,aP as ys,aQ as oe,ah as Es,aR as Ss,aS as ne,ao as As}from"./index-D_UKwKBy.js";import{a as H,R as Y,S as T,b as G,c as $e,B as w,u as Xe,d as ie,e as P,m as Is,f as de,g as Ns,h as Ee,E as A,i as N,A as L,j as Ye,k as Bs,l as Us}from"./resonator-BMEUadlQ.js";import{u as Ts,b as Se,i as Ae,g as Os,j as Ms,V as Ie,h as p,k as C}from"./VDataTable-vynbB3Ni.js";import{V as ae}from"./VCombobox-D0X-mKo4.js";import{A as X}from"./affix-NmzP8Gk5.js";import{V as Ls}from"./VList-C1hTlaGd.js";import{b as Ne}from"./route-block-B_A1xBdJ.js";import"./VOverlay-BFuWu1sH.js";import"./VAvatar-DLGjh_c-.js";const Cs=bs({...Os(),...$s(Ms(),["inline"])},"VCheckbox"),Be=ps()({name:"VCheckbox",inheritAttrs:!1,props:Cs(),emits:{"update:modelValue":f=>!0,"update:focused":f=>!0},setup(f,t){let{attrs:l,slots:e}=t;const n=gs(f,"modelValue"),{isFocused:i,focus:o,blur:b}=Ts(f),k=hs(),R=xs(()=>f.id||`checkbox-${k}`);return vs(()=>{const[x,d]=ws(l),y=Se.filterProps(f),I=Ae.filterProps(f);return r(Se,Z({class:["v-checkbox",f.class]},x,y,{modelValue:n.value,"onUpdate:modelValue":O=>n.value=O,id:R.value,focused:i.value,style:f.style}),{...e,default:O=>{let{id:$,messagesId:S,isDisabled:V,isReadonly:K,isValid:v}=O;return r(Ae,Z(I,{id:$.value,"aria-describedby":S.value,disabled:V.value,readonly:K.value},d,{error:v.value===!1,modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,onFocus:o,onBlur:b}),e)}})}),{}}}),Fs={key:0},Ps={key:0},Ds={key:1},Gs=D({__name:"RowDetailedDamageNumber",props:{row:{type:Object,required:!0}},setup(f){const l=f.row;return(e,n)=>s(B)(s(l).stack)>0?(_(),h("div",Fs,[s(B)(s(l).stack)===1?(_(),h("div",Ps,[r(te,{location:"bottom",text:s(l).id},{activator:U(({props:i})=>[a("span",Z({class:"text-white"},i),g(s(l).value),17)]),_:1},8,["text"])])):(_(),h("div",Ds,[r(te,{location:"bottom",text:s(l).id},{activator:U(({props:i})=>[a("div",Z({class:"d-flex flex-row text-white"},i),[a("span",null,"("+g(s(l).value),1),n[0]||(n[0]=a("span",null,"×",-1)),a("span",null,g(s(l).stack)+")",1)],16)]),_:1},8,["text"])]))])):M("",!0)}}),Hs=["keys"],Ks={key:0,class:"d-flex flex-row"},Ws={key:0,class:"d-flex flex-row"},js={key:1},qs={key:1,class:"d-flex flex-row"},zs={class:"d-flex flex-row"},Xs={key:0,class:"d-flex flex-row"},Ys={key:0,class:"d-flex flex-row"},Zs={key:1},Js={key:2},Qs=D({__name:"RowDetailedDamageNumbers",props:{rows:{type:Object,required:!0},is1:{type:Boolean,default:!1},operator:{type:String,default:"+"}},setup(f){const t=f,l=t.rows,e=t.is1,n=t.operator;return(i,o)=>{const b=Gs;return _(),h("div",{class:"d-flex flex-row",keys:s(l).length},[s(l).length===1?(_(),h("div",Ks,[s(e)?(_(),h("div",Ws,[o[0]||(o[0]=a("span",null,"(",-1)),o[1]||(o[1]=a("span",null,"1",-1)),a("span",null,g(s(n)),1)])):M("",!0),r(b,{row:s(l)[0]},null,8,["row"]),s(e)?(_(),h("span",js,")")):M("",!0)])):(_(),h("div",qs,[(_(!0),h(q,null,z(s(l),(k,R)=>(_(),h("div",zs,[(_(),h("div",{class:"d-flex flex-row",key:k.id},[R===0?(_(),h("div",Xs,[o[3]||(o[3]=a("span",null,"(",-1)),s(e)?(_(),h("div",Ys,[o[2]||(o[2]=a("span",null,"1",-1)),a("span",null,g(s(n)),1)])):M("",!0)])):M("",!0),r(b,{row:k},null,8,["row"]),R>=0&&R<s(l).length-1?(_(),h("span",Zs,g(s(n)),1)):M("",!0),R===s(l).length-1?(_(),h("span",Js,")")):M("",!0)]))]))),256))]))],8,Hs)}}});class he{constructor(){u(this,"id","");u(this,"type","");u(this,"base_attr","");u(this,"bonus_types",[]);u(this,"elment_zh_tw","");u(this,"dmg","")}}class Ze{constructor(){u(this,"id","");u(this,"no","");u(this,"name","");u(this,"element_zh_tw","");u(this,"level","90");u(this,"chain","1");u(this,"hp","");u(this,"atk","");u(this,"def","");u(this,"normal_attack_lv","10");u(this,"resonance_skill_lv","10");u(this,"forte_circuit_lv","10");u(this,"resonance_liberation_lv","10");u(this,"intro_skill_lv","10");u(this,"inherent_skill_1",!0);u(this,"inherent_skill_2",!0);u(this,"stat_bonus",new H);u(this,"skill",new he);u(this,"_skill_item",{title:"",value:void 0})}getBaseAttrs(){const t=[],l=new Y;l.stack="1";let e,n=this.skill.base_attr;switch(this.skill.base_attr){case T.HP:e=B(this.hp).toString();break;case T.DEF:e=B(this.def).toString();break;case T.ATK:default:e=B(this.atk).toString(),n=T.ATK;break}return this.name&&(n=`${this.name}-${n}`),l.category=G.ATTR,l.source=n,l.value=e,l.type=$e.ATTR,l.updateId(),t.push(l),t}getRowBuffs(){return this.stat_bonus.getRowBuffs(this.name)}getSkillRowBuffs(){const t=[],l=new Y;l.category=G.RESONATOR,l.type=w.SKILL_DMG_ADDITION,l.value=B(this.skill.dmg).toString(),l.stack="1";let e="";return this.name&&(e=this.name),this.skill.type&&(e=`${e}-${this.skill.type}`),this.skill.id&&(e=`${e}-${this.skill.id}`),l.source=e,l.updateId(),l.value&&t.push(l),t}async updateByName(){const t=Xe();this.stat_bonus=new H,this.skill=new he,this._skill_item={title:"",value:void 0};const l=this.name,e=t.getNoByName(l);if(!e)return;this.no=e;const n=await t.getInfoByName(l);this.element_zh_tw=n.element_zh_tw;const i=this.level;this.hp=n.getHp(i),this.atk=n.getAtk(i),this.def=n.getDef(i);const o=n.stat_bonus;Object.keys(o).forEach(b=>{const k=o[b];this.stat_bonus[b]=k})}updateSkillDmg(t){if(t.dmg){this.skill.dmg=t.dmg;return}const l=this.skill.type;let e;switch(l){case ie.NORMAL_ATTACK:e=this.normal_attack_lv;break;case ie.RESONANCE_SKILL:e=this.resonance_skill_lv;break;case ie.FORTE_CIRCUIT:e=this.forte_circuit_lv;break;case ie.RESONANCE_LIBERATION:e=this.resonance_liberation_lv;break;case ie.INTRO_SKILL:e=this.intro_skill_lv;break;default:e="10"}this.skill.dmg=t[`lv${e}`]}updateSkill(t=void 0){if(!t){if(!this._skill_item)return;t=this._skill_item.value}t&&(this.skill=new he,this.skill.id=t.id,this.skill.type=t.skill_type,this.skill.base_attr=t.base_attr,t.element&&(this.skill.elment_zh_tw=t.element,this.skill.bonus_types.push(t.element)),t.bonus_type&&this.skill.bonus_types.push(t.bonus_type),t.coordinated&&this.skill.bonus_types.push(P.COORDINATED_ATTACK),this.updateSkillDmg(t))}}const pe={教學長刃:"21010011","原初長刃·朴石":"21010012","暗夜長刃·玄明":"21010013",浩境粼光:"21010015",蒼鱗千嶂:"21010016","源能長刃·測壹":"21010023",異響空靈:"21010024",時和歲稔:"21010026","重破刃-41型":"21010034","遠行者長刃·辟路":"21010043",永夜長明:"21010044","戍關長刃·定軍":"21010053",鈞天正音:"21010063",東落:"21010064",紋秋:"21010074",凋亡頻移:"21010084",容赦的沉思錄:"21010094",教學迅刀:"21020011","原初迅刀·鳴雨":"21020012","暗夜迅刀·黑閃":"21020013",千古洑流:"21020015",赫奕流明:"21020016",心之錨:"21020017","源能迅刀·測貳":"21020023",行進序曲:"21020024",裁春:"21020026","瞬斬刀-18型":"21020034",不滅航路:"21020036","遠行者迅刀·旅跡":"21020043",不歸孤軍:"21020044","戍關迅刀·鎮海":"21020053",西升:"21020064",飛景:"21020074",永續坍縮:"21020084",風流的寓言詩:"21020094",教學佩槍:"21030011","原初佩槍·穿林":"21030012","暗夜佩槍·暗星":"21030013",停駐之煙:"21030015",死與舞:"21030016","源能佩槍·測叄":"21030023",華彩樂段:"21030024","穿擊槍-26型":"21030034","遠行者佩槍·洞察":"21030043",無眠烈火:"21030044","戍關佩槍·平雲":"21030053",飛逝:"21030064",奔雷:"21030074",悖論噴流:"21030084",敘別的羅曼史:"21030094",教學臂鎧:"21040011","原初臂鎧·磐岩":"21040012","暗夜臂鎧·夜芒":"21040013",擎淵怒濤:"21040015",諸方玄樞:"21040016","源能臂鎧·測肆":"21040023",呼嘯重音:"21040024",悲喜劇:"21040026","鋼影拳-21丁型":"21040034","遠行者臂鎧·破障":"21040043",袍澤之固:"21040044","戍關臂鎧·拔山":"21040053",駭行:"21040064",金掌:"21040074",塵雲旋臂:"21040084",酩酊的英雄志:"21040094",教學音感儀:"21050011","原初音感儀·聽浪":"21050012","暗夜矩陣·暝光":"21050013",漪瀾浮錄:"21050015",掣傀之手:"21050016",淵海回聲:"21050017","源能音感儀·測五":"21050023",奇幻變奏:"21050024",瓊枝冰綃:"21050026",大海的饋贈:"21050027","鳴動儀-25型":"21050034",星序協響:"21050036","遠行者矩陣·探幽":"21050043",今州守望:"21050044",和光回唱:"21050046","戍關音感儀·留光":"21050053",異度:"21050064",清音:"21050074",核熔星盤:"21050084",虛飾的華爾茲:"21050094"},et=Object.values(pe),st=[],Je=J("weapon",{state:()=>({}),actions:{getNames(f=!1){const t=Object.keys(pe);if(f===!0)return t;const l=[];return t.forEach(e=>{st.includes(e)||l.push(e)}),l},getTunes(){return new Array("1","2","3","4","5")},getNoByName(f){return pe[f]},getNameByNo(f){return ms(pe,f)},async getInfoByNo(f){try{const t=Is(`/data/weapons/${f}/info.json`);return et.includes(f)?await t.get():void 0}catch(t){return t}},async getInfoByName(f){const t=this.getNoByName(f);return await this.getInfoByNo(t)}}});class tt{constructor(t){u(this,"no","");u(this,"name","");u(this,"star","");u(this,"type","");u(this,"passive",{name:"",description:"",passive_buffs:[]});u(this,"attrs",[]);Object.assign(this,t)}getMaxLevel(){const t=this.attrs;let l=B(0);for(const e of t){const n=B(e.lv);l=Math.max(l,n)}return l.toString()}getAtk(t){const l=this.attrs;for(const e of l)if(t===e.lv)return e.atk;return""}getStatBonus(t){const l=this.attrs;for(const e of l)if(t===e.lv){const n=Object.keys(e);for(const i of n)if(i!=="lv"&&i!=="atk")return{[i]:e[i]}}return{}}getPassiveStatBonus(t){const l=this.passive.passive_buffs;if(l.length===0)return{};const e=parseInt(t)-1;return e<0||e>4?{}:l[e]}}class Qe{constructor(){u(this,"no","");u(this,"name","");u(this,"star","");u(this,"type","");u(this,"level","90");u(this,"tune","1");u(this,"atk","");u(this,"stat_bonus",new H);u(this,"passive_stat_bonus",new H);u(this,"_info")}getBaseAttrs(){const t=[],l=new Y;let e=T.ATK;return this.name&&(e=`${this.name}-${e}`),l.source=e,l.category=G.ATTR,l.value=this.atk,l.stack="1",l.type=$e.ATTR,l.updateId(),l.value&&t.push(l),t}getRowBuffs(){let t="";this.name&&(t=this.name),this.tune&&(t=`${t}-${this.tune}${de.TUNE}`);let l=`${t}-${de.PASSIVE}`;const e=this.passive_stat_bonus.getRowBuffs(l);return[...this.stat_bonus.getRowBuffs(t),...e]}getMaxLevel(){return this._info?this._info.getMaxLevel():"90"}getLevels(){const t=new Array("1","20","20+","40","40+","50","50+","60","60+","70","70+","80","80+","90"),l=[],e=B(this.getMaxLevel());t.forEach(i=>{B(i)<=e&&l.push(i)});const n=l.at(-1);return n&&n.includes("+")&&l.pop(),l}async updateRowWeaponByName(){const t=this.name;if(!t)return;const l=Je();this.stat_bonus=new H,this.passive_stat_bonus=new H;const e=l.getNoByName(t);if(this.no=e,!this.no)return;const n=new tt(await l.getInfoByNo(e));this._info=n,this.star=n.star,this.type=n.type;const i=n.getMaxLevel(),o=B(this.level),b=B(i);o>b?this.level=i:o===b&&this.level.includes("+")&&(this.level=i);const k=this.level;if(k){this.atk=n.getAtk(k);const R=n.getStatBonus(k);Object.keys(R).forEach(x=>{const d=R[x];this.stat_bonus[x]=B(d).toString()})}if(this.tune){const R=n.getPassiveStatBonus(this.tune);Object.keys(R).forEach(x=>{const d=R[x];this.passive_stat_bonus[x]=B(d).toString()})}}}const j={HECATE:"赫卡忒",SENTRY_CONSTRUCT:"異構武裝",LORELEI:"羅蕾萊",NIGHTMARE_INFERNO_RIDER:"夢魘·燎照之騎",NIGHTMARE_THUNDERING_MEPHIS:"夢魘·雲閃之鱗",NIGHTMARE_TEMPEST_MEPHIS:"夢魘·朔雷之鱗",DRAGON_OF_DIRGE:"嘆息古龍",NIGHTMARE_CROWNLESS:"夢魘·無冠者",NIGHTMARE_MOURNING_AIX:"夢魘·哀聲鷙",NIGHTMARE_IMPERMANENCE_HERON:"夢魘·無常凶鷺",NIGHTMARE_FEILIAN_BERINGAL:"夢魘·飛廉之猩"},E={FREEZING_FROST:"凝夜白霜",MOLTEN_RIFT:"熔山裂谷",VOID_THUNDER:"徹空冥雷",SIERRA_GALE:"嘯谷長風",CELESTIAL_LIGHT:"浮星祛暗",SUN_SINKING_ECLIPSE:"沉日劫明",REJUVENATING_GLOW:"隱世回光",MOONLIT_CLOUDS:"輕雲出月",LINGERING_TUNES:"不絕餘音",FROSTY_RESOLVE:"凌冽決斷之心",ETERNAL_RADIANCE:"此間永駐之光",MIDNIGHT_VEIL:"幽夜隱匿之帷",EMPYREAN_ANTHEM:"高天共奏之曲",TIDEBREAKING_COURAGE:"無懼浪濤之勇"},at={1:{hp:"2280"},3:{atk:"100"},4:{atk:"150"}},lt={1:{hp_p:"0.228",atk_p:"0.18",def_p:"0.18"},3:{hp_p:"0.3",atk_p:"0.3",def_p:"0.38",bonus_glacio:"0.3",bonus_fusion:"0.3",bonus_electro:"0.3",bonus_aero:"0.3",bonus_spectro:"0.3",bonus_havoc:"0.3",energy_regen:"0.32"},4:{hp_p:"0.33",atk_p:"0.33",def_p:"0.418",crit_rate:"0.22",crit_dmg:"0.44",bonus_healing:"0.264"}},ot=at,nt=lt;function se(f){if(!f)return"";const t=f.toUpperCase(),l=Ns[t];return l||""}function es(f){return ot[f]}function re(f){return nt[f]}class it{constructor(){u(this,"no","");u(this,"name","");u(this,"sonata","");u(this,"cost","");u(this,"main_affix",new H);u(this,"sub_affix",new H);u(this,"_fixed_main_affix_key","");u(this,"_main_affix_item",{title:"",value:void 0});u(this,"_item",{title:"",value:void 0})}reset(){this.cost="",this._item={title:"",value:void 0},this.resetMainAffix(),this.resetSubAffix()}resetMainAffix(){this.main_affix=new H,this._fixed_main_affix_key="",this._main_affix_item={title:"",value:void 0}}resetSubAffix(){this.sub_affix=new H}updateByEchoItem(t){if(!t||!t.title||!t.value)return;switch(this.resetMainAffix(),this.resetSubAffix(),this.sonata="",this.name=t.value.name,this.cost=t.value.cost,this.cost){case"4":case"3":this._fixed_main_affix_key=Ee.ATK;break;case"1":this._fixed_main_affix_key=Ee.HP;break}const l=es(this.cost);this.main_affix[this._fixed_main_affix_key]=l[this._fixed_main_affix_key],this._main_affix_item={title:"",value:void 0}}}class rt{constructor(){u(this,"name1","");u(this,"sonatas",[]);u(this,"total_cost",0);u(this,"main_affix",new H);u(this,"sub_affix",new H)}getRowBuffs(){const t=this.main_affix.getRowBuffs(`${G.ECHO}-${de.MAIN_AFFIX}`),l=this.sub_affix.getRowBuffs(`${G.ECHO}-${de.SUB_AFFIX}`);return[...t,...l]}}class ss{constructor(){u(this,"policy","");u(this,"base_attr","");u(this,"main_skill_bonus","");u(this,"echoes",[]);u(this,"summary",new rt);this.echoes=Array.from({length:5},(t,l)=>new it)}getRowBuffs(){return this.summary.getRowBuffs()}getPassiveSkillRowBuff(t,l,e,n,i){const o=new Y;return o.category=G.ECHO,o.source=t,o.type=l,o.value=i,o.stack="1",o.element=e,o.skill_bonus_type=n,o.updateId(),o}getPassiveSkillRowBuffs(){const t=[],l=this.summary.name1;if(!l)return t;const e=`${l}-${de.MAIN_SLOT}`;switch(l){case j.HECATE:t.push(this.getPassiveSkillRowBuff(e,w.BONUS,"",P.COORDINATED_ATTACK,"0.4"));break;case j.SENTRY_CONSTRUCT:t.push(this.getPassiveSkillRowBuff(e,w.BONUS,A.GLACIO,"","0.12")),t.push(this.getPassiveSkillRowBuff(e,w.BONUS,"",P.SKILL,"0.12"));break;case j.LORELEI:t.push(this.getPassiveSkillRowBuff(e,w.BONUS,A.HAVOC,"","0.12")),t.push(this.getPassiveSkillRowBuff(e,w.BONUS,"",P.BASIC,"0.12"));break;case j.NIGHTMARE_INFERNO_RIDER:t.push(this.getPassiveSkillRowBuff(e,w.BONUS,A.FUSION,"","0.12")),t.push(this.getPassiveSkillRowBuff(e,w.BONUS,"",P.SKILL,"0.12"));case j.NIGHTMARE_THUNDERING_MEPHIS:t.push(this.getPassiveSkillRowBuff(e,w.BONUS,A.ELECTRO,"","0.12")),t.push(this.getPassiveSkillRowBuff(e,w.BONUS,"",P.LIBERATION,"0.12"));case j.NIGHTMARE_TEMPEST_MEPHIS:t.push(this.getPassiveSkillRowBuff(e,w.BONUS,A.ELECTRO,"","0.12")),t.push(this.getPassiveSkillRowBuff(e,w.BONUS,"",P.SKILL,"0.12"));case j.DRAGON_OF_DIRGE:t.push(this.getPassiveSkillRowBuff(e,w.BONUS,A.FUSION,"","0.12")),t.push(this.getPassiveSkillRowBuff(e,w.BONUS,"",P.BASIC,"0.12"));case j.NIGHTMARE_CROWNLESS:t.push(this.getPassiveSkillRowBuff(e,w.BONUS,A.HAVOC,"","0.12")),t.push(this.getPassiveSkillRowBuff(e,w.BONUS,"",P.BASIC,"0.12"));case j.NIGHTMARE_MOURNING_AIX:t.push(this.getPassiveSkillRowBuff(e,w.BONUS,A.SPECTRO,"","0.12"));case j.NIGHTMARE_IMPERMANENCE_HERON:t.push(this.getPassiveSkillRowBuff(e,w.BONUS,A.HAVOC,"","0.12")),t.push(this.getPassiveSkillRowBuff(e,w.BONUS,"",P.HEAVY,"0.12"));case j.NIGHTMARE_FEILIAN_BERINGAL:t.push(this.getPassiveSkillRowBuff(e,w.BONUS,A.AERO,"","0.12")),t.push(this.getPassiveSkillRowBuff(e,w.BONUS,"",P.HEAVY,"0.12"));default:return t}return t}getSonataRowBuff(t,l,e,n,i){const o=new Y;return o.category=G.SONATA,o.source=`${t}-2/2`,o.type=l,o.value=i,o.stack="1",o.element=e,o.skill_bonus_type=n,o.updateId(),o}getSonataRowBuffs(){const t=[],l={[E.FREEZING_FROST]:0,[E.MOLTEN_RIFT]:0,[E.VOID_THUNDER]:0,[E.SIERRA_GALE]:0,[E.CELESTIAL_LIGHT]:0,[E.SUN_SINKING_ECLIPSE]:0,[E.REJUVENATING_GLOW]:0,[E.MOONLIT_CLOUDS]:0,[E.LINGERING_TUNES]:0,[E.FROSTY_RESOLVE]:0,[E.ETERNAL_RADIANCE]:0,[E.MIDNIGHT_VEIL]:0,[E.EMPYREAN_ANTHEM]:0,[E.TIDEBREAKING_COURAGE]:0};if(this.echoes.forEach(e=>{const n=e.sonata;n&&(l[n]+=1)}),l[E.FREEZING_FROST]>=2){const e=this.getSonataRowBuff(E.FREEZING_FROST,w.BONUS,A.GLACIO,"","0.1");t.push(e)}if(l[E.MOLTEN_RIFT]>=2){const e=this.getSonataRowBuff(E.MOLTEN_RIFT,w.BONUS,A.FUSION,"","0.1");t.push(e)}if(l[E.VOID_THUNDER]>=2){const e=this.getSonataRowBuff(E.VOID_THUNDER,w.BONUS,A.ELECTRO,"","0.1");t.push(e)}if(l[E.SIERRA_GALE]>=2){const e=this.getSonataRowBuff(E.SIERRA_GALE,w.BONUS,A.AERO,"","0.1");t.push(e)}if(l[E.CELESTIAL_LIGHT]>=2){const e=this.getSonataRowBuff(E.CELESTIAL_LIGHT,w.BONUS,A.SPECTRO,"","0.1");t.push(e)}if(l[E.SUN_SINKING_ECLIPSE]>=2){const e=this.getSonataRowBuff(E.SUN_SINKING_ECLIPSE,w.BONUS,A.HAVOC,"","0.1");t.push(e)}if(l[E.LINGERING_TUNES]>=2){const e=this.getSonataRowBuff(E.LINGERING_TUNES,w.ATK_P,"","","0.1");t.push(e)}if(l[E.FROSTY_RESOLVE]>=2){const e=this.getSonataRowBuff(E.FROSTY_RESOLVE,w.BONUS,"",P.SKILL,"0.12");t.push(e)}if(l[E.ETERNAL_RADIANCE]>=2){const e=this.getSonataRowBuff(E.ETERNAL_RADIANCE,w.BONUS,A.SPECTRO,"","0.1");t.push(e)}if(l[E.MIDNIGHT_VEIL]>=2){const e=this.getSonataRowBuff(E.MIDNIGHT_VEIL,w.BONUS,A.HAVOC,"","0.1");t.push(e)}return t}resetPolicy(){this.policy=""}resetSummary(){this.summary.name1="",this.summary.sonatas=[],this.summary.total_cost=0,this.summary.main_affix=new H,this.summary.sub_affix=new H}getEcho(t){return this.echoes[t]}updateSummaryByEchoes(){this.resetSummary();const t=this.echoes[0].name;t&&(this.summary.name1=t),this.echoes.forEach(l=>{this.summary.total_cost+=parseFloat(l.cost);const e=l.sonata;e&&this.summary.sonatas.push(e),this.summary.main_affix.addStatBuff(l.main_affix),this.summary.sub_affix.addStatBuff(l.sub_affix)})}}var Te,Oe,Me,Le,Ce,Fe,Pe,De,Ge,He,Ke,We,je,qe;qe=N.SKILL_DMG_ADDITION,je=N.MAGNIFIER,We=N.AMPLIFIER,Ke=N.BONUS,He=N.HP_P,Ge=N.HP,De=N.ATK_P,Pe=N.ATK,Fe=N.DEF_P,Ce=N.DEF,Le=N.CRIT_RATE,Me=N.CRIT_DMG,Oe=N.IGNORE_DEF,Te=N.REDUCE_RES;class Ue{constructor(){u(this,qe,"");u(this,je,"");u(this,We,"");u(this,Ke,"");u(this,He,"");u(this,Ge,"");u(this,De,"");u(this,Pe,"");u(this,Fe,"");u(this,Ce,"");u(this,Le,"");u(this,Me,"");u(this,Oe,"");u(this,Te,"")}reset(){this[N.SKILL_DMG_ADDITION]="",this[N.MAGNIFIER]="",this[N.AMPLIFIER]="",this[N.BONUS]="",this[N.HP_P]="",this[N.HP]="",this[N.ATK_P]="",this[N.ATK]="",this[N.DEF_P]="",this[N.DEF]="",this[N.CRIT_RATE]="",this[N.CRIT_DMG]="",this[N.IGNORE_DEF]="",this[N.REDUCE_RES]=""}getKeys(){const t=[];return Object.values(N).forEach(l=>{const e=this[l];B(e)>0&&t.push(l)}),t}getRowBuffs(){const t=[];return this.getKeys().forEach(e=>{const n=w[e.toUpperCase()],i=B(this[e]).toString(),o=new Y;o.category=G.MANUAL,o.source=G.MANUAL,o.type=n,o.value=i,o.stack="1",o.updateId(),t.push(o)}),t}}class ts{constructor(){u(this,"buffs",[]);u(this,"manual",new Ue);u(this,"summary",new Ue)}getRowBuffs(){return[...this.summary.getRowBuffs()]}updateSummary(){this.summary.reset(),this.manual.getKeys().forEach(l=>{const e=B(this.manual[l]);let n=B(this.summary[l])+e;n=B(n).toString(),this.summary[l]=n})}}class as{constructor(){u(this,"name","");u(this,"level","");u(this,"def","");u(this,"res_physics","");u(this,"res_glacio","");u(this,"res_fusion","");u(this,"res_electro","");u(this,"res_aero","");u(this,"res_spectro","");u(this,"res_havoc","");u(this,"_item",{title:"",value:void 0})}updateByMonsterItem(t){if(!t)return;const l=t;this.name=l.name,this.level=l.level,this.def=l.def,this.res_physics=l.res_physics,this.res_glacio=l.res_glacio,this.res_fusion=l.res_fusion,this.res_electro=l.res_electro,this.res_aero=l.res_aero,this.res_spectro=l.res_spectro,this.res_havoc=l.res_havoc}}class ut{constructor(){u(this,"resonator",new Ze);u(this,"weapon",new Qe);u(this,"echoes",new ss);u(this,"buffs",new ts);u(this,"monster",new as)}}class dt{constructor(){u(this,"base_attr",[]);u(this,"base_attr_p",[]);u(this,"base_attr_a",[]);u(this,"skill_dmg_addition",[]);u(this,"magnifier",[]);u(this,"amplifier",[]);u(this,"bonus",[]);u(this,"crit_rate",[]);u(this,"crit_dmg",[]);u(this,"ignore_def",[]);u(this,"reduce_res",[])}reset(){this.base_attr=[],this.base_attr_p=[],this.base_attr_a=[],this.skill_dmg_addition=[],this.magnifier=[],this.amplifier=[],this.bonus=[],this.crit_rate=[],this.crit_dmg=[],this.ignore_def=[],this.reduce_res=[]}}class ft{constructor(){u(this,"regions",new dt);u(this,"damage_no_crit",0);u(this,"damage_crit",0);u(this,"damage",0)}}class _t{constructor(t,l,e,n,i){u(this,"id","");u(this,"data",new ut);u(this,"result",new ft);this.data.resonator=t,this.data.weapon=l,this.data.echoes=e,this.data.buffs=n,this.data.monster=i}reset(){this.result.regions.reset()}getBaseRowBuffs(){const t=[],l=new Y;l.category=G.BASE,l.source=G.BASE,l.type=w.CRIT_RATE,l.value="0.05",l.stack="1",l.updateId(),t.push(l);const e=new Y;return e.category=G.BASE,e.source=G.BASE,e.type=w.CRIT_DMG,e.value="1.5",e.stack="1",e.updateId(),t.push(e),t}getRowBuffs(){this.data.echoes.updateSummaryByEchoes(),this.data.buffs.updateSummary();let t=this.data.resonator.getBaseAttrs(),l=[];this.data.resonator.skill.base_attr===T.ATK&&(l=this.data.weapon.getBaseAttrs());const e=this.getBaseRowBuffs(),n=this.getMonsterResRowBuffs(),i=this.data.resonator.getRowBuffs(),o=this.data.resonator.getSkillRowBuffs(),b=this.data.weapon.getRowBuffs(),k=this.data.echoes.getRowBuffs(),R=this.data.echoes.getSonataRowBuffs(),x=this.data.echoes.getPassiveSkillRowBuffs(),d=this.data.buffs.getRowBuffs();return[...e,...n,...t,...l,...i,...o,...b,...k,...R,...x,...d]}getMonsterRes(){const t=this.data.resonator.skill.elment_zh_tw;let l;switch(t){case A.GLACIO:l=this.data.monster.res_glacio;break;case A.FUSION:l=this.data.monster.res_fusion;break;case A.ELECTRO:l=this.data.monster.res_electro;break;case A.AERO:l=this.data.monster.res_aero;break;case A.SPECTRO:l=this.data.monster.res_spectro;break;case A.HAVOC:l=this.data.monster.res_havoc;break;default:l="0.2";break}return B(l)}getFinalMonsterRes(){const t=this.result.regions.reduce_res;let l;return t.forEach((e,n)=>{const i=B(e.value)*B(e.stack);n===0?l=i:(l||(l=B(l)),l-=i)}),B(l)}getMonsterResRowBuffs(){const t=[],l=new Y;return l.category=G.MONSTER,l.source=this.data.monster.name,l.type=w.REDUCE_RES,l.value=this.getMonsterRes().toString(),l.stack="1",l.element=this.data.resonator.skill.elment_zh_tw,l.updateId(),t.push(l),t}updateId(){this.id=cs(JSON.stringify(this.data))}updateRegions(t){const l=this.data.resonator.skill.base_attr;t.forEach(e=>{switch(e.type){case $e.ATTR:this.result.regions.base_attr.push(e);break;case w.SKILL_DMG_ADDITION:this.result.regions.skill_dmg_addition.push(e);break;case w.MAGNIFIER:this.result.regions.magnifier.push(e);break;case w.AMPLIFIER:this.result.regions.amplifier.push(e);break;case w.BONUS:if(!e.element&&!e.skill_bonus_type){this.result.regions.bonus.push(e);break}if(e.element&&e.skill_bonus_type)throw new Error("`element` and `skill_bonus_type` should not have values at the same time.");if(this.data.resonator.skill.bonus_types.includes(e.element)||this.data.resonator.skill.bonus_types.includes(e.skill_bonus_type)){this.result.regions.bonus.push(e);break}break;case w.HP_P:l===T.HP&&this.result.regions.base_attr_p.push(e);break;case w.HP:l===T.HP&&this.result.regions.base_attr_a.push(e);break;case w.ATK_P:l===T.ATK&&this.result.regions.base_attr_p.push(e);break;case w.ATK:l===T.ATK&&this.result.regions.base_attr_a.push(e);break;case w.DEF_P:l===T.DEF&&this.result.regions.base_attr_p.push(e);break;case w.DEF:l===T.DEF&&this.result.regions.base_attr_a.push(e);break;case w.CRIT_RATE:this.result.regions.crit_rate.push(e);break;case w.CRIT_DMG:this.result.regions.crit_dmg.push(e);break;case w.IGNORE_DEF:this.result.regions.ignore_def.push(e);break;case w.REDUCE_RES:this.result.regions.reduce_res.push(e);break}})}sumRegion(t){let l=0;return t.forEach(e=>{const n=B(e.value)*B(e.stack);l+=n}),l}calculate(){this.updateId(),this.reset();const t=this.getRowBuffs();this.updateRegions(t);const l=this.sumRegion(this.result.regions.base_attr),e=this.sumRegion(this.result.regions.base_attr_p),n=this.sumRegion(this.result.regions.base_attr_a),i=l*(1+e)+n,o=this.sumRegion(this.result.regions.skill_dmg_addition),k=1+this.sumRegion(this.result.regions.magnifier),x=1+this.sumRegion(this.result.regions.amplifier),y=1+this.sumRegion(this.result.regions.bonus),I=this.sumRegion(this.result.regions.crit_dmg);let O=this.sumRegion(this.result.regions.crit_rate);O>=1&&(O=1);const $=B(this.data.resonator.level),S=B(this.data.monster.level),V=this.sumRegion(this.result.regions.ignore_def),K=(800+8*$)/(800+8*$+(792+8*S)*(1-V)),v=this.getFinalMonsterRes();let m;v<0?m=1-v/2:v>=.8?m=1/(1+5*v):m=1-v;const c=i*o*k*x*y*K*m,Q=c*I,le=Q*O+c*(1-O);this.result.damage=le,this.result.damage_crit=Q,this.result.damage_no_crit=c,console.log(this)}}const mt={key:0,class:"d-flex flex-column w-100"},ct={class:"d-flex flex-row mb-2"},pt={class:"w-100 text-grey-darken-1"},bt={class:"w-100 d-flex flex-row"},gt={key:0},ht={key:1,class:"d-flex flex-row"},xt={key:2},vt={key:3},wt={class:"w-100 text-grey-darken-1"},$t={class:"w-100 d-flex flex-row"},kt={class:"w-100 text-grey-darken-1"},Rt={class:"w-100 d-flex flex-row"},Vt={key:1},yt={class:"w-100 text-grey-darken-1"},Et={class:"w-100 d-flex flex-row"},St={key:1},At={class:"w-100 text-grey-darken-1"},It={class:"w-100 d-flex flex-row"},Nt={key:1},Bt={class:"w-100 text-grey-darken-1"},Ut={class:"w-100 d-flex flex-row"},Tt={key:1},Ot={class:"w-100 text-grey-darken-1"},Mt={class:"frac"},Lt={class:"d-flex flex-row justify-center"},Ct={class:"bottom"},Ft={class:"d-flex flex-row"},Pt={key:0,class:"d-flex flex-row"},Dt={class:"w-100 text-grey-darken-1"},Gt={key:0,class:"d-flex flex-row"},Ht={key:1,class:"d-flex flex-row align-center"},Kt=D({__name:"RowDetailedDamage",props:{calculation:{type:Object,required:!0}},setup(f){const l=f.calculation,{t:e}=fe(),n=[{[e("general.calculated_damage")]:ge(l.result.damage_no_crit),[e("general.calculated_crit_damage")]:ge(parseFloat(l.result.damage_crit)),[e("general.calculate_expected_damage")]:ge(parseFloat(l.result.damage))}];return(i,o)=>{const b=Qs;return s(l)?(_(),h("div",mt,[a("div",ct,[a("span",null,g(i.$t("general.detailed_damage")),1)]),r(Ie,{class:"table mb-2",items:n,"disable-sort":"","hide-default-footer":"","items-per-page":2}),(_(),W(Ie,{class:"table","disable-sort":"","hide-default-footer":"","items-per-page":8,key:s(l).id},{default:U(()=>[a("tbody",null,[a("tr",null,[a("td",null,g(i.$t("calculation.region.attr")),1),a("td",pt,[a("div",bt,[s(l).result.regions.base_attr.length+s(l).result.regions.base_attr_p.length+s(l).result.regions.base_attr_a.length>1?(_(),h("span",gt," ( ")):M("",!0),r(b,{rows:s(l).result.regions.base_attr},null,8,["rows"]),s(l).result.regions.base_attr_p.length>0?(_(),h("div",ht,[o[0]||(o[0]=a("span",null,"×",-1)),o[1]||(o[1]=a("span",null,"(",-1)),o[2]||(o[2]=a("span",null,"1",-1)),o[3]||(o[3]=a("span",null,"+",-1)),r(b,{rows:s(l).result.regions.base_attr_p},null,8,["rows"]),o[4]||(o[4]=a("span",null,")",-1))])):M("",!0),s(l).result.regions.base_attr_a.length>0?(_(),h("span",xt,"+")):M("",!0),r(b,{rows:s(l).result.regions.base_attr_a},null,8,["rows"]),s(l).result.regions.base_attr.length+s(l).result.regions.base_attr_p.length+s(l).result.regions.base_attr_a.length>1?(_(),h("span",vt," ) ")):M("",!0)])])]),a("tr",null,[a("td",null,g(i.$t("calculation.region.skill_dmg")),1),a("td",wt,[a("div",$t,[o[5]||(o[5]=a("span",null,"×",-1)),r(b,{rows:s(l).result.regions.skill_dmg_addition},null,8,["rows"])])])]),a("tr",null,[a("td",null,g(i.$t("calculation.region.magnifier")),1),a("td",kt,[a("div",Rt,[o[6]||(o[6]=a("span",null,"×",-1)),s(l).result.regions.magnifier.length>0?(_(),W(b,{key:0,rows:s(l).result.regions.magnifier,is1:!0},null,8,["rows"])):(_(),h("span",Vt,"1"))])])]),a("tr",null,[a("td",null,g(i.$t("calculation.region.amplifier")),1),a("td",yt,[a("div",Et,[o[7]||(o[7]=a("span",null,"×",-1)),s(l).result.regions.amplifier.length>0?(_(),W(b,{key:0,rows:s(l).result.regions.amplifier,is1:!0},null,8,["rows"])):(_(),h("span",St,"1"))])])]),a("tr",null,[a("td",null,g(i.$t("calculation.region.bonus")),1),a("td",At,[a("div",It,[o[8]||(o[8]=a("span",null,"×",-1)),s(l).result.regions.bonus.length>0?(_(),W(b,{key:0,rows:s(l).result.regions.bonus,is1:!0},null,8,["rows"])):(_(),h("span",Nt,"1"))])])]),a("tr",null,[a("td",null,g(i.$t("calculation.region.crit")),1),a("td",Bt,[a("div",Ut,[o[9]||(o[9]=a("span",null,"×",-1)),s(l).result.regions.crit_dmg.length>0?(_(),W(b,{key:0,rows:s(l).result.regions.crit_dmg},null,8,["rows"])):(_(),h("span",Tt,"1.5"))])])]),a("tr",null,[a("td",null,g(i.$t("calculation.region.def")),1),a("td",Ot,[o[33]||(o[33]=ee(" × ")),a("div",Mt,[a("div",Lt,[o[10]||(o[10]=a("span",null,"(",-1)),o[11]||(o[11]=a("span",null,"800",-1)),o[12]||(o[12]=a("span",null,"+",-1)),o[13]||(o[13]=a("span",null,"8 ",-1)),o[14]||(o[14]=a("span",null,"×",-1)),r(te,{location:"bottom",text:i.$t("general.resonator_level")},{activator:U(({props:k})=>[a("span",Z({class:"text-white"},k),g(s(l).data.resonator.level),17)]),_:1},8,["text"]),o[15]||(o[15]=a("span",null,")",-1))]),o[32]||(o[32]=a("span",{class:"symbol"},"/",-1)),a("span",Ct,[a("div",Ft,[o[17]||(o[17]=a("span",null,"(",-1)),o[18]||(o[18]=a("span",null,"800",-1)),o[19]||(o[19]=a("span",null,"+",-1)),o[20]||(o[20]=a("span",null,"8",-1)),o[21]||(o[21]=a("span",null,"×",-1)),r(te,{location:"bottom",text:i.$t("general.resonator_level")},{activator:U(({props:k})=>[a("span",Z({class:"text-white"},k),g(s(l).data.resonator.level),17)]),_:1},8,["text"]),o[22]||(o[22]=a("span",null,"+",-1)),o[23]||(o[23]=a("span",null,"(",-1)),o[24]||(o[24]=a("span",null,"792",-1)),o[25]||(o[25]=a("span",null,"+",-1)),o[26]||(o[26]=a("span",null,"(",-1)),o[27]||(o[27]=a("span",null,"8",-1)),o[28]||(o[28]=a("span",null,"×",-1)),r(te,{location:"bottom",text:i.$t("general.monster_level")},{activator:U(({props:k})=>[a("span",Z({class:"text-white"},k),g(s(l).data.monster.level),17)]),_:1},8,["text"]),o[29]||(o[29]=a("span",null,")",-1)),o[30]||(o[30]=a("span",null,")",-1)),s(l).result.regions.ignore_def.length>0?(_(),h("div",Pt,[o[16]||(o[16]=a("span",null,"×",-1)),r(b,{rows:s(l).result.regions.ignore_def,is1:!0,operator:"–"},null,8,["rows"])])):M("",!0),o[31]||(o[31]=a("span",null,")",-1))])])])])]),a("tr",null,[a("td",null,g(i.$t("calculation.region.res")),1),a("td",Dt,[s(l).getFinalMonsterRes()<.8&&s(l).getFinalMonsterRes()>=0?(_(),h("div",Gt,[o[34]||(o[34]=a("span",null,"×",-1)),o[35]||(o[35]=a("span",null,"(",-1)),o[36]||(o[36]=a("span",null,"1",-1)),o[37]||(o[37]=a("span",null,"–",-1)),s(l).result.regions.reduce_res.length>0?(_(),W(b,{key:0,rows:s(l).result.regions.reduce_res,operator:"–"},null,8,["rows"])):M("",!0),o[38]||(o[38]=a("span",null,")",-1))])):s(l).getFinalMonsterRes()<0?(_(),h("div",Ht,o[39]||(o[39]=[a("span",null,"×",-1),a("span",null,"(",-1),a("span",null,"1",-1),a("span",null,"–",-1),a("div",{class:"frac"},[a("div",{class:"d-flex flex-row justify-center"},[a("span",null,"("),a("span",null,")")]),a("span",{class:"symbol"},"/"),a("span",{class:"bottom"},[a("div",{class:"d-flex flex-row justify-center"},[a("span",null,"2")])])],-1),a("span",null,")",-1)]))):M("",!0)])])])]),_:1}))])):M("",!0)}}}),Wt=we(Kt,[["__scopeId","data-v-10830f50"]]),ke=f=>{const t=`row-buffs-${f}`,l=J(t,{state:()=>({data:new ts}),actions:{updateSummary(){this.data.updateSummary()}}});return new l},jt={class:"d-flex flex-column w-100"},qt={class:"d-flex flex-column"},zt={class:"d-flex flex-row mb-2"},Xt={class:"d-flex flex-row"},Yt={class:"d-flex flex-row"},Zt={class:"d-flex flex-row"},Jt={class:"d-flex flex-row"},Qt={class:"d-flex flex-row"},ea={class:"d-flex flex-row"},sa={class:"d-flex flex-column"},ta={class:"d-flex flex-row mb-2"},aa={class:"d-flex flex-row"},la={class:"d-flex flex-column"},oa={class:"d-flex flex-row mb-2"},na={class:"d-flex flex-row"},ia={class:"d-flex flex-column"},ra={class:"d-flex flex-row mb-2"},ua={class:"d-flex flex-row"},da={class:"d-flex flex-column"},fa={class:"d-flex flex-row mb-2"},_a={class:"d-flex flex-row"},ma={class:"d-flex flex-column"},ca={class:"d-flex flex-row mb-2"},pa={class:"d-flex flex-row"},ba={class:"d-flex flex-row"},ga={class:"d-flex flex-column"},ha={class:"d-flex flex-row mb-2"},xa={class:"d-flex flex-row"},va={class:"d-flex flex-column"},wa={class:"d-flex flex-row mb-2"},$a={class:"d-flex flex-row"},ka=D({__name:"RowBuffResult",props:{id:{type:String,required:!0}},setup(f){const l=f.id,e=ke(l);return(n,i)=>(_(),h("div",jt,[a("div",qt,[a("div",zt,[a("span",null,g(n.$t("calculation.region.attr")),1)]),a("div",Xt,[r(p,{modelValue:s(e).data.summary.hp,"onUpdate:modelValue":i[0]||(i[0]=o=>s(e).data.summary.hp=o),label:n.$t("general.hp")},null,8,["modelValue","label"])]),a("div",Yt,[r(p,{modelValue:s(e).data.summary.hp_p,"onUpdate:modelValue":i[1]||(i[1]=o=>s(e).data.summary.hp_p=o),label:n.$t("general.hp_p")},null,8,["modelValue","label"])]),a("div",Zt,[r(p,{modelValue:s(e).data.summary.atk,"onUpdate:modelValue":i[2]||(i[2]=o=>s(e).data.summary.atk=o),label:n.$t("general.atk")},null,8,["modelValue","label"])]),a("div",Jt,[r(p,{modelValue:s(e).data.summary.atk_p,"onUpdate:modelValue":i[3]||(i[3]=o=>s(e).data.summary.atk_p=o),label:n.$t("general.atk_p")},null,8,["modelValue","label"])]),a("div",Qt,[r(p,{modelValue:s(e).data.summary.def,"onUpdate:modelValue":i[4]||(i[4]=o=>s(e).data.summary.def=o),label:n.$t("general.def")},null,8,["modelValue","label"])]),a("div",ea,[r(p,{modelValue:s(e).data.summary.def_p,"onUpdate:modelValue":i[5]||(i[5]=o=>s(e).data.summary.def_p=o),label:n.$t("general.def_p")},null,8,["modelValue","label"])])]),a("div",sa,[a("div",ta,[a("span",null,g(n.$t("calculation.region.skill_dmg")),1)]),a("div",aa,[r(p,{modelValue:s(e).data.summary.skill_dmg_addition,"onUpdate:modelValue":i[6]||(i[6]=o=>s(e).data.summary.skill_dmg_addition=o),label:`${n.$t("general.skill_damage_ratio")} (${n.$t("general.percentage")})`},null,8,["modelValue","label"])])]),a("div",la,[a("div",oa,[a("span",null,g(n.$t("calculation.region.magnifier")),1)]),a("div",na,[r(p,{modelValue:s(e).data.summary.magnifier,"onUpdate:modelValue":i[7]||(i[7]=o=>s(e).data.summary.magnifier=o),label:n.$t("general.percentage")},null,8,["modelValue","label"])])]),a("div",ia,[a("div",ra,[a("span",null,g(n.$t("calculation.region.amplifier")),1)]),a("div",ua,[r(p,{modelValue:s(e).data.summary.amplifier,"onUpdate:modelValue":i[8]||(i[8]=o=>s(e).data.summary.amplifier=o),label:n.$t("general.percentage")},null,8,["modelValue","label"])])]),a("div",da,[a("div",fa,[a("span",null,g(n.$t("calculation.region.bonus")),1)]),a("div",_a,[r(p,{modelValue:s(e).data.summary.bonus,"onUpdate:modelValue":i[9]||(i[9]=o=>s(e).data.summary.bonus=o),label:n.$t("general.percentage")},null,8,["modelValue","label"])])]),a("div",ma,[a("div",ca,[a("span",null,g(n.$t("calculation.region.crit")),1)]),a("div",pa,[r(p,{modelValue:s(e).data.summary.crit_rate,"onUpdate:modelValue":i[10]||(i[10]=o=>s(e).data.summary.crit_rate=o),label:`${n.$t("general.crit_rate")} (${n.$t("general.percentage")})`},null,8,["modelValue","label"])]),a("div",ba,[r(p,{modelValue:s(e).data.summary.crit_dmg,"onUpdate:modelValue":i[11]||(i[11]=o=>s(e).data.summary.crit_dmg=o),label:`${n.$t("general.crit_dmg")} (${n.$t("general.percentage")})`},null,8,["modelValue","label"])])]),a("div",ga,[a("div",ha,[a("span",null,g(n.$t("calculation.region.def")),1)]),a("div",xa,[r(p,{modelValue:s(e).data.summary.ignore_def,"onUpdate:modelValue":i[12]||(i[12]=o=>s(e).data.summary.ignore_def=o),label:`${n.$t("general.ignore_def")} (${n.$t("general.percentage")})`},null,8,["modelValue","label"])])]),a("div",va,[a("div",wa,[a("span",null,g(n.$t("calculation.region.res")),1)]),a("div",$a,[r(p,{modelValue:s(e).data.summary.reduce_res,"onUpdate:modelValue":i[13]||(i[13]=o=>s(e).data.summary.reduce_res=o),label:`${n.$t("general.reduce_res")} (${n.$t("general.percentage")})`},null,8,["modelValue","label"])])])]))}}),Re=f=>{const t=`row-monster-${f}`,l=J(t,{state:()=>({data:new as}),actions:{updateByMonsterItem(e){this.data.updateByMonsterItem(e)}}});return new l},Ra={RES_PHYSICS:"res_physics",RES_GLACIO:"res_glacio",RES_FUSION:"res_fusion",RES_ELECTRO:"res_electro",RES_AERO:"res_aero",RES_SPECTRO:"res_spectro",RES_HAVOC:"res_havoc"},Va={class:"d-flex flex-column w-100"},ya={class:"d-flex flex-row"},Ea={class:"d-flex flex-row"},Sa={class:"d-flex flex-row"},Aa={key:0,class:"d-flex flex-column w-100"},Ia=D({__name:"RowMonsterResult",props:{id:{type:String,required:!0}},setup(f){const l=f.id,e=Re(l);return(n,i)=>(_(),h("div",Va,[a("div",ya,[r(p,{modelValue:s(e).data.name,"onUpdate:modelValue":i[0]||(i[0]=o=>s(e).data.name=o),label:n.$t("general.name"),readonly:""},null,8,["modelValue","label"])]),a("div",Ea,[r(p,{modelValue:s(e).data.level,"onUpdate:modelValue":i[1]||(i[1]=o=>s(e).data.level=o),label:n.$t("general.level"),readonly:""},null,8,["modelValue","label"])]),a("div",Sa,[r(p,{modelValue:s(e).data.def,"onUpdate:modelValue":i[2]||(i[2]=o=>s(e).data.def=o),label:n.$t("general.def"),readonly:""},null,8,["modelValue","label"])]),(_(!0),h(q,null,z(s(Ra),o=>(_(),h("div",{class:"d-flex flex-row",key:o},[s(e)[o]?(_(),h("div",Aa,[r(p,{modelValue:s(e)[o],"onUpdate:modelValue":b=>s(e)[o]=b,label:n.$t(`general.${o}`),readonly:""},null,8,["modelValue","onUpdate:modelValue","label"])])):M("",!0)]))),128))]))}}),_e=f=>{const t=`row-echoes-${f}`,l=J(t,{state:()=>({data:new ss}),actions:{resetPolicy(){this.data.resetPolicy()},getEcho(e){return this.data.getEcho(e)},getSummary(){return this.data.summary},updateSummaryByEchoes(){this.data.updateSummaryByEchoes()}}});return new l},Na={class:"d-flex flex-column w-100 mr-8"},Ba={class:"d-flex flex-row"},Ua={class:"d-flex flex-row mb-2"},Ta={class:"d-flex flex-row mb-2"},Oa=D({__name:"RowEchoResult",props:{id:{type:String,required:!0}},setup(f){const l=f.id,n=_e(l).getSummary();return(i,o)=>(_(),h("div",Na,[a("div",Ba,[r(p,{modelValue:s(n).name1,"onUpdate:modelValue":o[0]||(o[0]=b=>s(n).name1=b),label:i.$t("general.echo_name_1"),readonly:""},null,8,["modelValue","label"])]),(_(!0),h(q,null,z(s(n).sonatas,(b,k)=>(_(),h("div",{class:"d-flex flex-row",key:s(n).sonatas.length},[r(p,{"model-value":b,label:i.$t("general.nth_sonata",{n:k+1}),readonly:""},null,8,["model-value","label"])]))),128)),s(n).main_affix.getKeys().length>0?(_(),h("div",{class:"d-flex flex-column w-100",key:s(n).main_affix.getKeys().length},[a("div",Ua,[a("span",null,g(i.$t("general.main_affix")),1)]),(_(!0),h(q,null,z(s(n).main_affix.getKeys(),b=>(_(),h("div",{class:"d-flex flex-column w-100",key:b},[r(p,{modelValue:s(n).main_affix[b],"onUpdate:modelValue":k=>s(n).main_affix[b]=k,label:i.$t(`general.${b}`),readonly:""},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):M("",!0),s(n).sub_affix.getKeys().length>0?(_(),h("div",{class:"d-flex flex-column w-100",key:s(n).sub_affix.getKeys().length},[a("div",Ta,[a("span",null,g(i.$t("general.sub_affix")),1)]),(_(!0),h(q,null,z(s(n).sub_affix.getKeys(),b=>(_(),h("div",{class:"d-flex flex-column w-100",key:b},[r(p,{modelValue:s(n).sub_affix[b],"onUpdate:modelValue":k=>s(n).sub_affix[b]=k,label:i.$t(`general.${b}`),readonly:""},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):M("",!0)]))}}),me=f=>{const t=`row-weapon-${f}`,l=J(t,{state:()=>({data:new Qe}),actions:{async updateRowWeaponByName(){await this.data.updateRowWeaponByName()}}});return new l},Ma={class:"d-flex flex-column w-100"},La={class:"d-flex flex-row"},Ca={class:"d-flex flex-row"},Fa={class:"d-flex flex-row"},Pa={class:"d-flex flex-row"},Da={class:"d-flex flex-row mb-2"},Ga={class:"d-flex flex-row mb-2"},Ha=D({__name:"RowWeaponResult",props:{id:{type:String,required:!0}},setup(f){const l=f.id,e=me(l);return(n,i)=>(_(),h("div",Ma,[a("div",La,[r(p,{modelValue:s(e).data.name,"onUpdate:modelValue":i[0]||(i[0]=o=>s(e).data.name=o),label:n.$t("general.name"),readonly:""},null,8,["modelValue","label"])]),a("div",Ca,[r(p,{modelValue:s(e).data.level,"onUpdate:modelValue":i[1]||(i[1]=o=>s(e).data.level=o),label:n.$t("general.level"),readonly:""},null,8,["modelValue","label"])]),a("div",Fa,[r(p,{modelValue:s(e).data.tune,"onUpdate:modelValue":i[2]||(i[2]=o=>s(e).data.tune=o),label:n.$t("general.tune"),readonly:""},null,8,["modelValue","label"])]),a("div",Pa,[r(p,{modelValue:s(e).data.atk,"onUpdate:modelValue":i[3]||(i[3]=o=>s(e).data.atk=o),label:n.$t("general.atk"),readonly:""},null,8,["modelValue","label"])]),s(e).data.stat_bonus.getKeys().length>0?(_(),h("div",{class:"d-flex flex-column w-100",key:s(e).data.stat_bonus.getKeys().length},[a("div",Da,[a("span",null,g(n.$t("general.stat_bonus")),1)]),(_(!0),h(q,null,z(s(e).data.stat_bonus.getKeys(),o=>(_(),h("div",{class:"d-flex flex-row",key:o},[r(p,{modelValue:s(e).data.stat_bonus[o],"onUpdate:modelValue":b=>s(e).data.stat_bonus[o]=b,label:n.$t(`general.${o}`),readonly:""},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):M("",!0),s(e).data.passive_stat_bonus.getKeys().length>0?(_(),h("div",{class:"d-flex flex-column w-100",key:s(e).data.passive_stat_bonus.getKeys().length},[a("div",Ga,[a("span",null,g(n.$t("general.passive_stat_bonus")),1)]),(_(!0),h(q,null,z(s(e).data.passive_stat_bonus.getKeys(),o=>(_(),h("div",{class:"d-flex flex-row",key:o},[r(p,{modelValue:s(e).data.passive_stat_bonus[o],"onUpdate:modelValue":b=>s(e).data.passive_stat_bonus[o]=b,label:n.$t(`general.${o}`),readonly:""},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):M("",!0)]))}}),be=f=>{const t=`row-resonator-${f}`,l=J(t,{state:()=>({data:new Ze}),actions:{async updateByName(){await this.data.updateByName()},updateSkillDmg(e){this.data.updateSkillDmg(e)},updateSkill(e){this.data.updateSkill(e)}}});return new l},Ka={class:"d-flex flex-column w-100 mr-8"},Wa={class:"d-flex flex-row"},ja={class:"d-flex flex-row"},qa={class:"d-flex flex-row"},za={class:"d-flex flex-row mb-2"},Xa={class:"d-flex flex-row"},Ya={class:"d-flex flex-row"},Za={class:"d-flex flex-row"},Ja={class:"d-flex flex-row"},Qa={class:"d-flex flex-row mb-2"},el=D({__name:"RowResonatorResult",props:{id:{type:String,required:!0}},setup(f){const l=f.id,e=be(l);return(n,i)=>(_(),h("div",Ka,[a("div",Wa,[r(p,{modelValue:s(e).data.name,"onUpdate:modelValue":i[0]||(i[0]=o=>s(e).data.name=o),label:n.$t("general.name"),readonly:""},null,8,["modelValue","label"])]),a("div",ja,[r(p,{modelValue:s(e).data.level,"onUpdate:modelValue":i[1]||(i[1]=o=>s(e).data.level=o),label:n.$t("general.level"),readonly:""},null,8,["modelValue","label"])]),a("div",qa,[r(p,{modelValue:s(e).data.chain,"onUpdate:modelValue":i[2]||(i[2]=o=>s(e).data.chain=o),label:n.$t("general.resonator_chain"),readonly:""},null,8,["modelValue","label"])]),a("div",za,[a("span",null,g(n.$t("general.skill")),1)]),a("div",Xa,[r(p,{modelValue:s(e).data.skill.id,"onUpdate:modelValue":i[3]||(i[3]=o=>s(e).data.skill.id=o),label:n.$t("general.resonator_skill_id"),readonly:""},null,8,["modelValue","label"])]),a("div",Ya,[r(p,{modelValue:s(e).data.skill.dmg,"onUpdate:modelValue":i[4]||(i[4]=o=>s(e).data.skill.dmg=o),label:n.$t("general.skill_damage_ratio"),readonly:""},null,8,["modelValue","label"])]),a("div",Za,[r(p,{modelValue:s(e).data.skill.base_attr,"onUpdate:modelValue":i[5]||(i[5]=o=>s(e).data.skill.base_attr=o),label:n.$t("general.base_attr")},null,8,["modelValue","label"])]),a("div",Ja,[r(C,{modelValue:s(e).data.skill.bonus_types,"onUpdate:modelValue":i[6]||(i[6]=o=>s(e).data.skill.bonus_types=o),label:n.$t("general.skill_bonus_type"),readonly:"",chips:"",multiple:""},null,8,["modelValue","label"])]),s(e).data.stat_bonus.getKeys().length>0?(_(),h("div",{class:"d-flex flex-column w-100",key:s(e).data.stat_bonus.getKeys().length},[a("div",Qa,[a("span",null,g(n.$t("general.stat_bonus")),1)]),(_(!0),h(q,null,z(s(e).data.stat_bonus.getKeys(),o=>(_(),h("div",{class:"d-flex flex-row",key:o},[r(p,{modelValue:s(e).data.stat_bonus[o],"onUpdate:modelValue":b=>s(e).data.stat_bonus[o]=b,label:n.$t(`general.${o}`),readonly:""},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):M("",!0)]))}}),sl={class:"d-flex flex-column w-100"},tl={class:"d-flex flex-row mb-2"},al={class:"d-flex flex-row"},ll={class:"d-flex flex-row"},ol={class:"d-flex flex-row"},nl={class:"d-flex flex-row"},il={class:"d-flex flex-row"},rl={class:"d-flex flex-row"},ul={class:"d-flex flex-row mb-2"},dl={class:"d-flex flex-row"},fl={class:"d-flex flex-row mb-2"},_l={class:"d-flex flex-row"},ml={class:"d-flex flex-row mb-2"},cl={class:"d-flex flex-row"},pl={class:"d-flex flex-row mb-2"},bl={class:"d-flex flex-row"},gl={class:"d-flex flex-row mb-2"},hl={class:"d-flex flex-row"},xl={class:"d-flex flex-row"},vl={class:"d-flex flex-row mb-2"},wl={class:"d-flex flex-row"},$l={class:"d-flex flex-row mb-2"},kl={class:"d-flex flex-row"},Rl=D({__name:"RowManualBuff",props:{id:{type:String,required:!0}},setup(f){const l=f.id,e=ke(l);return(n,i)=>(_(),h("div",sl,[a("div",tl,[a("span",null,g(n.$t("calculation.region.attr")),1)]),a("div",al,[r(p,{modelValue:s(e).data.manual.hp,"onUpdate:modelValue":i[0]||(i[0]=o=>s(e).data.manual.hp=o),label:n.$t("general.hp")},null,8,["modelValue","label"])]),a("div",ll,[r(p,{modelValue:s(e).data.manual.hp_p,"onUpdate:modelValue":i[1]||(i[1]=o=>s(e).data.manual.hp_p=o),label:n.$t("general.hp_p")},null,8,["modelValue","label"])]),a("div",ol,[r(p,{modelValue:s(e).data.manual.atk,"onUpdate:modelValue":i[2]||(i[2]=o=>s(e).data.manual.atk=o),label:n.$t("general.atk")},null,8,["modelValue","label"])]),a("div",nl,[r(p,{modelValue:s(e).data.manual.atk_p,"onUpdate:modelValue":i[3]||(i[3]=o=>s(e).data.manual.atk_p=o),label:n.$t("general.atk_p")},null,8,["modelValue","label"])]),a("div",il,[r(p,{modelValue:s(e).data.manual.def,"onUpdate:modelValue":i[4]||(i[4]=o=>s(e).data.manual.def=o),label:n.$t("general.def")},null,8,["modelValue","label"])]),a("div",rl,[r(p,{modelValue:s(e).data.manual.def_p,"onUpdate:modelValue":i[5]||(i[5]=o=>s(e).data.manual.def_p=o),label:n.$t("general.def_p")},null,8,["modelValue","label"])]),a("div",ul,[a("span",null,g(n.$t("calculation.region.skill_dmg")),1)]),a("div",dl,[r(p,{modelValue:s(e).data.manual.skill_dmg_addition,"onUpdate:modelValue":i[6]||(i[6]=o=>s(e).data.manual.skill_dmg_addition=o),label:`${n.$t("general.skill_damage_ratio")} (${n.$t("general.percentage")})`},null,8,["modelValue","label"])]),a("div",fl,[a("span",null,g(n.$t("calculation.region.magnifier")),1)]),a("div",_l,[r(p,{modelValue:s(e).data.manual.magnifier,"onUpdate:modelValue":i[7]||(i[7]=o=>s(e).data.manual.magnifier=o),label:n.$t("general.percentage")},null,8,["modelValue","label"])]),a("div",ml,[a("span",null,g(n.$t("calculation.region.amplifier")),1)]),a("div",cl,[r(p,{modelValue:s(e).data.manual.amplifier,"onUpdate:modelValue":i[8]||(i[8]=o=>s(e).data.manual.amplifier=o),label:n.$t("general.percentage")},null,8,["modelValue","label"])]),a("div",pl,[a("span",null,g(n.$t("calculation.region.bonus")),1)]),a("div",bl,[r(p,{modelValue:s(e).data.manual.bonus,"onUpdate:modelValue":i[9]||(i[9]=o=>s(e).data.manual.bonus=o),label:n.$t("general.percentage")},null,8,["modelValue","label"])]),a("div",gl,[a("span",null,g(n.$t("calculation.region.crit")),1)]),a("div",hl,[r(p,{modelValue:s(e).data.manual.crit_rate,"onUpdate:modelValue":i[10]||(i[10]=o=>s(e).data.manual.crit_rate=o),label:`${n.$t("general.crit_rate")} (${n.$t("general.percentage")})`},null,8,["modelValue","label"])]),a("div",xl,[r(p,{modelValue:s(e).data.manual.crit_dmg,"onUpdate:modelValue":i[11]||(i[11]=o=>s(e).data.manual.crit_dmg=o),label:`${n.$t("general.crit_dmg")} (${n.$t("general.percentage")})`},null,8,["modelValue","label"])]),a("div",vl,[a("span",null,g(n.$t("calculation.region.def")),1)]),a("div",wl,[r(p,{modelValue:s(e).data.manual.ignore_def,"onUpdate:modelValue":i[12]||(i[12]=o=>s(e).data.manual.ignore_def=o),label:`${n.$t("general.ignore_def")} (${n.$t("general.percentage")})`},null,8,["modelValue","label"])]),a("div",$l,[a("span",null,g(n.$t("calculation.region.res")),1)]),a("div",kl,[r(p,{modelValue:s(e).data.manual.reduce_res,"onUpdate:modelValue":i[13]||(i[13]=o=>s(e).data.manual.reduce_res=o),label:`${n.$t("general.reduce_res")} (${n.$t("general.percentage")})`},null,8,["modelValue","label"])])]))}}),Vl=[{name:"90等抗性10白板",level:"90",def:"1512",res_physics:"10.00%",res_glacio:"10.00%",res_fusion:"10.00%",res_electro:"10.00%",res_aero:"10.00%",res_spectro:"10.00%",res_havoc:"10.00%"},{name:"90等抗性20白板",level:"90",def:"1512",res_physics:"20.00%",res_glacio:"20.00%",res_fusion:"20.00%",res_electro:"20.00%",res_aero:"20.00%",res_spectro:"20.00%",res_havoc:"20.00%"},{name:"90等抗性30白板",level:"90",def:"1512",res_physics:"30.00%",res_glacio:"30.00%",res_fusion:"30.00%",res_electro:"30.00%",res_aero:"30.00%",res_spectro:"30.00%",res_havoc:"30.00%"},{name:"90等抗性40白板",level:"90",def:"1512",res_physics:"40.00%",res_glacio:"40.00%",res_fusion:"40.00%",res_electro:"40.00%",res_aero:"40.00%",res_spectro:"40.00%",res_havoc:"40.00%"},{name:"90等抗性50白板",level:"90",def:"1512",res_physics:"50.00%",res_glacio:"50.00%",res_fusion:"50.00%",res_electro:"50.00%",res_aero:"50.00%",res_spectro:"50.00%",res_havoc:"50.00%"},{name:"90等抗性60白板",level:"90",def:"1512",res_physics:"60.00%",res_glacio:"60.00%",res_fusion:"60.00%",res_electro:"60.00%",res_aero:"60.00%",res_spectro:"60.00%",res_havoc:"60.00%"},{name:"90等抗性70白板",level:"90",def:"1512",res_physics:"70.00%",res_glacio:"70.00%",res_fusion:"70.00%",res_electro:"70.00%",res_aero:"70.00%",res_spectro:"70.00%",res_havoc:"70.00%"},{name:"90等抗性80白板",level:"90",def:"1512",res_physics:"80.00%",res_glacio:"80.00%",res_fusion:"80.00%",res_electro:"80.00%",res_aero:"80.00%",res_spectro:"80.00%",res_havoc:"80.00%"},{name:"100等抗性10白板",level:"100",def:"1592",res_physics:"10.00%",res_glacio:"10.00%",res_fusion:"10.00%",res_electro:"10.00%",res_aero:"10.00%",res_spectro:"10.00%",res_havoc:"10.00%"},{name:"100等抗性20白板",level:"100",def:"1592",res_physics:"20.00%",res_glacio:"20.00%",res_fusion:"20.00%",res_electro:"20.00%",res_aero:"20.00%",res_spectro:"20.00%",res_havoc:"20.00%"},{name:"100等抗性30白板",level:"100",def:"1592",res_physics:"30.00%",res_glacio:"30.00%",res_fusion:"30.00%",res_electro:"30.00%",res_aero:"30.00%",res_spectro:"30.00%",res_havoc:"30.00%"},{name:"100等抗性40白板",level:"100",def:"1592",res_physics:"40.00%",res_glacio:"40.00%",res_fusion:"40.00%",res_electro:"40.00%",res_aero:"40.00%",res_spectro:"40.00%",res_havoc:"40.00%"},{name:"100等抗性50白板",level:"100",def:"1592",res_physics:"50.00%",res_glacio:"50.00%",res_fusion:"50.00%",res_electro:"50.00%",res_aero:"50.00%",res_spectro:"50.00%",res_havoc:"50.00%"},{name:"100等抗性60白板",level:"100",def:"1592",res_physics:"60.00%",res_glacio:"60.00%",res_fusion:"60.00%",res_electro:"60.00%",res_aero:"60.00%",res_spectro:"60.00%",res_havoc:"60.00%"},{name:"100等抗性70白板",level:"100",def:"1592",res_physics:"70.00%",res_glacio:"70.00%",res_fusion:"70.00%",res_electro:"70.00%",res_aero:"70.00%",res_spectro:"70.00%",res_havoc:"70.00%"},{name:"100等抗性80白板",level:"100",def:"1592",res_physics:"80.00%",res_glacio:"80.00%",res_fusion:"80.00%",res_electro:"80.00%",res_aero:"80.00%",res_spectro:"80.00%",res_havoc:"80.00%"}],yl=Vl,ls=J("template",{state:()=>({}),actions:{getMonsterItems(){return yl.map((t,l,e)=>({title:t.name,value:t}))}}}),El={class:"d-flex flex-column w-100"},Sl={class:"d-flex flex-row"},Al=D({__name:"RowMonster",props:{id:{type:String,required:!0}},setup(f){const l=f.id,n=ls().getMonsterItems(),i=Re(l);function o(b){i.updateByMonsterItem(b)}return(b,k)=>(_(),h("div",El,[a("div",Sl,[r(C,{modelValue:s(i).data.name,"onUpdate:modelValue":[k[0]||(k[0]=R=>s(i).data.name=R),o],items:s(n),label:b.$t("general.name")},null,8,["modelValue","items","label"])])]))}}),Il=[320,360,390,430,470,510,540,580],Nl=[.064,.071,.079,.086,.094,.101,.109,.116],Bl=[30,40,50],Ul=[.064,.071,.079,.086,.094,.101,.109,.116],Tl=[40,50,60],Ol=[.081,.09,.1,.109,.118,.128,.138,.147],Ml=[.063,.069,.075,.081,.087,.093,.099,.105],Ll=[.126,.138,.15,.162,.174,.186,.198,.21],Cl=[.064,.071,.079,.086,.094,.101,.109,.116],Fl=[.064,.071,.079,.086,.094,.101,.109,.116],Pl=[.064,.071,.079,.086,.094,.101,.109,.116],Dl=[.064,.071,.079,.086,.094,.101,.109,.116],Gl=[.068,.076,.084,.092,.1,.108,.116,.124],xe={hp:Il,hp_p:Nl,atk:Bl,atk_p:Ul,def:Tl,def_p:Ol,crit_rate:Ml,crit_dmg:Ll,bonus_resonance_skill:Cl,bonus_basic_attack:Fl,bonus_heavy_attack:Pl,bonus_resonance_liberation:Dl,energy_regen:Gl},Hl=[{name:"角",cost:"4",sonatas:["浮星祛暗"]},{name:"赫卡忒",cost:"4",sonatas:["高天共奏之曲"]},{name:"鳴鐘之龜",cost:"4",sonatas:["隱世回光","輕雲出月"]},{name:"無妄者",cost:"4",sonatas:["沉日劫明"]},{name:"無歸的謬誤",cost:"4",sonatas:["隱世回光"]},{name:"異構武裝",cost:"4",sonatas:["凌冽決斷之心"]},{name:"羅蕾萊",cost:"4",sonatas:["幽夜隱匿之帷"]},{name:"燎照之騎",cost:"4",sonatas:["熔山裂谷"]},{name:"夢魘·燎照之騎",cost:"4",sonatas:["熔山裂谷"]},{name:"雲閃之鱗",cost:"4",sonatas:["徹空冥雷"]},{name:"夢魘·雲閃之鱗",cost:"4",sonatas:["徹空冥雷"]},{name:"夢魘·朔雷之鱗",cost:"4",sonatas:["徹空冥雷","高天共奏之曲"]},{name:"朔雷之鱗",cost:"4",sonatas:["徹空冥雷"]},{name:"聚械機偶",cost:"4",sonatas:["不絕餘音"]},{name:"輝螢軍勢",cost:"4",sonatas:["凝夜白霜"]},{name:"嘆息古龍",cost:"4",sonatas:["無懼浪濤之勇"]},{name:"夢魘·無冠者",cost:"4",sonatas:["沉日劫明"]},{name:"無冠者",cost:"4",sonatas:["沉日劫明"]},{name:"夢魘·哀聲鷙",cost:"4",sonatas:["此間永駐之光"]},{name:"哀聲鷙",cost:"4",sonatas:["浮星祛暗"]},{name:"夢魘·無常凶鷺",cost:"4",sonatas:["幽夜隱匿之帷"]},{name:"無常凶鷺",cost:"4",sonatas:["輕雲出月"]},{name:"夢魘·飛廉之猩",cost:"4",sonatas:["嘯谷長風"]},{name:"飛廉之猩",cost:"4",sonatas:["嘯谷長風"]},{name:"遊鱗機樞",cost:"3"},{name:"巡哨機傀",cost:"3"},{name:"磐石守衛",cost:"3"},{name:"冥淵守衛",cost:"3"},{name:"奏諭樂師",cost:"3"},{name:"振鐸樂師",cost:"3"},{name:"堅岩鬥士",cost:"3"},{name:"刺玫菇",cost:"3"},{name:"車刃鐮",cost:"3"},{name:"踏光獸",cost:"3"},{name:"雪鬃狼",cost:"3"},{name:"戲猿",cost:"3"},{name:"暗鬃狼",cost:"3"},{name:"箭簇熊",cost:"3"},{name:"綠熔蜥",cost:"3"},{name:"紫羽鷺",cost:"3"},{name:"青羽鷺",cost:"3"},{name:"通行燈偶",cost:"1"},{name:"審判戰士",cost:"1"},{name:"鳴泣戰士",cost:"1"},{name:"巡徊獵手",cost:"1"},{name:"破霜獵手",cost:"1"},{name:"驚蟄獵手",cost:"1"},{name:"裂變幼岩",cost:"1"},{name:"先鋒幼岩",cost:"1"},{name:"刺玫菇 (稚形)",cost:"1"},{name:"衍射棱鏡",cost:"1"},{name:"湮滅棱鏡",cost:"1"},{name:"熱熔棱鏡",cost:"1"},{name:"冷凝棱鏡",cost:"1"},{name:"侏侏鴕",cost:"1"},{name:"融火蟲",cost:"1"},{name:"幼猿",cost:"1"},{name:"寒霜陸龜",cost:"1"},{name:"游弋蝶",cost:"1"},{name:"晶螯蠍",cost:"1"},{name:"火鬃狼",cost:"1"},{name:"碎獠豬",cost:"1"},{name:"綠熔蜥 (稚形)",cost:"1"},{name:"遁地鼠",cost:"1"},{name:"啾啾河豚",cost:"1"},{name:"咕咕河豚",cost:"1"},{name:"叮咚咚",cost:"1"},{name:"嗚咔咔",cost:"1"},{name:"阿嗞嗞",cost:"1"},{name:"咔嚓嚓",cost:"1"},{name:"呼咻咻",cost:"1"}],Kl={凝夜白霜:{2:"冷凝傷害提升10%",5:"使用普攻或重擊時，冷凝傷害提升10%，該效果可疊加三層，持續15秒。"},熔山裂谷:{2:"熱熔傷害提升10%",5:"使用共鳴技能時，熱熔傷害提升30%，持續15秒。"},徹空冥雷:{2:"導電傷害提升10%",5:"使用重擊或共鳴技能時，各獲得一層導電傷害提升15%的效果，該效果可疊加兩層，每層各持續15秒。"},嘯谷長風:{2:"氣動傷害提升10%",5:"使用變奏技能登場時，氣動傷害提升30%，持續15秒。"},浮星祛暗:{2:"衍射傷害提升10%",5:"使用變奏技能登場時，衍射傷害提升30%，持續15秒。"},沉日劫明:{2:"湮滅傷害提升10%",5:"使用普攻或重擊時，湮滅傷害提升7.5%，該效果可疊加四層，持續15秒。"},隱世回光:{2:"治療效果提升10%",5:"自身為友方提供治療時，全隊共鳴者攻擊提升15%，持續30秒。"},輕雲出月:{2:"共鳴效率提升10%",5:"使用延奏技能後，下一個登場的共鳴者攻擊提升22.5%，持續15秒。"},不絕餘音:{2:"攻擊提升10%",5:"在場時，自身攻擊每1.5秒提升5%，該效果最多疊加四層。延奏技能傷害提升60%。"},凌冽決斷之心:{2:"共鳴技能傷害提升12%",5:"施放共鳴技能時，自身冷凝傷害提升22.5%，持續15秒；施放共鳴解放時，自身共鳴技能傷害提升18%，持續5秒，可疊加2層。"},此間永駐之光:{2:"衍射傷害提升10%",5:"角色為敵人添加【光噪效應】時，自身暴擊提升20%，持續15秒；攻擊存在10層【光噪效應】的敵人時，自身衍射傷害加成提升15%，持續15秒。"},幽夜隱匿之帷:{2:"湮滅屬性傷害提升10%",5:"角色觸發延奏技能離場時，額外對周圍敵人造成480%的湮滅傷害，該傷害為延奏技能傷害，並使下一個登場角色湮滅屬性傷害加成提升15%，持續15秒。"},高天共奏之曲:{2:"共鳴效率提升10%",5:"當前角色協同攻擊造成的傷害提升80%；協同攻擊命中敵人且暴擊時，隊伍中登場角色攻擊力提升20%，持續4秒。"},無懼浪濤之勇:{2:"共鳴效率提升10%%",5:"角色攻擊提升15%，共鳴效率達到250%後，當前角色全屬性傷害提升30%。"}},ve=Object.keys(Kl),Wl=[{name:"白板3C聲骸",cost:"3",sonatas:ve},{name:"白板1C聲骸",cost:"1",sonatas:ve},...Hl],os=J("echo",{state:()=>({}),actions:{getEchoItemsForCalculation(){return Wl.map((t,l,e)=>({title:t.name,value:t}))},getSubAffixKeys(){return Object.keys(xe)},getSubAffixValues(f){const t=xe[f.toLowerCase()];return t||[]},getSonataNames(){return ve}}}),jl={class:"d-flex flex-column w-100"},ql={class:"d-flex flex-row"},zl={class:"d-flex flex-row"},Xl={class:"d-flex flex-row"},Yl={class:"d-flex flex-row mb-2"},Zl={class:"d-flex flex-row"},Jl={class:"d-flex flex-row mb-2"},Ql={class:"d-flex flex-row mb-2"},eo={class:"d-flex flex-row"},so=D({__name:"RowEcho",props:{i:{type:Number,required:!0},id:{type:String,required:!0}},setup(f){const t=f,l=t.i,e=t.id,{t:n}=fe(),i=os(),o=i.getEchoItemsForCalculation(),b=ue(i.getSonataNames()),k=ue([]),R=_e(e),x=R.getEcho(l);function d($){return o.some(S=>S.title===$.title)?!0:n("general.error")}function y(){if(!x.cost)return;const $=re(x.cost);k.value=Object.keys($).map((S,V,K)=>({title:se(S),value:S}))}function I($){d($)===!0&&(y(),R.resetPolicy(),$.value.sonatas&&$.value.sonatas.length>0?b.value=$.value.sonatas:b.value=i.getSonataNames(),x.updateByEchoItem($))}function O($){R.resetPolicy(),x._main_affix_item={title:se($),value:$};const S=x._main_affix_item.value,V=x.cost;if(!S||!V)return;const K=re(V);x.main_affix[x._main_affix_item.value]=K[S]}return ks(()=>x.cost,()=>{y()}),($,S)=>(_(),h("div",jl,[a("div",ql,[r(ae,{modelValue:s(x)._item,"onUpdate:modelValue":[S[0]||(S[0]=V=>s(x)._item=V),I],items:s(o),label:$.$t("general.name"),rules:[d]},null,8,["modelValue","items","label","rules"])]),a("div",zl,[r(C,{modelValue:s(x).sonata,"onUpdate:modelValue":S[1]||(S[1]=V=>s(x).sonata=V),items:b.value,label:$.$t("general.sonata"),disabled:b.value.length===0},null,8,["modelValue","items","label","disabled"])]),a("div",Xl,[r(p,{modelValue:s(x).cost,"onUpdate:modelValue":S[2]||(S[2]=V=>s(x).cost=V),label:$.$t("general.echo_cost"),readonly:""},null,8,["modelValue","label"])]),a("div",Yl,[a("span",null,g($.$t("general.main_affix")),1)]),a("div",Zl,[(_(),W(C,{class:"mr-6",modelValue:s(x)._main_affix_item,"onUpdate:modelValue":[S[3]||(S[3]=V=>s(x)._main_affix_item=V),O],items:k.value,label:$.$t(s(se)(s(x)._main_affix_item.value)),key:s(x)._main_affix_item.value},null,8,["modelValue","items","label"])),(_(),W(p,{modelValue:s(x).main_affix[s(x)._main_affix_item.value],"onUpdate:modelValue":[S[4]||(S[4]=V=>s(x).main_affix[s(x)._main_affix_item.value]=V),s(R).resetPolicy],label:$.$t(s(se)(s(x)._main_affix_item.value)),key:s(x).main_affix[s(x)._main_affix_item.value]},null,8,["modelValue","label","onUpdate:modelValue"]))]),a("div",Jl,[a("span",null,g($.$t("general.fixed_main_affix")),1)]),(_(),h("div",{class:"d-flex flex-row",key:s(x)._fixed_main_affix_key},[(_(),W(p,{modelValue:s(x).main_affix[s(x)._fixed_main_affix_key],"onUpdate:modelValue":[S[5]||(S[5]=V=>s(x).main_affix[s(x)._fixed_main_affix_key]=V),s(R).resetPolicy],label:$.$t(s(se)(s(x)._fixed_main_affix_key)),key:s(x).main_affix[s(x)._fixed_main_affix_key]},null,8,["modelValue","label","onUpdate:modelValue"]))])),a("div",Ql,[a("span",null,g($.$t("general.sub_affix")),1)]),(_(!0),h(q,null,z(s(i).getSubAffixKeys(),V=>(_(),h("div",eo,[(_(),W(ae,{modelValue:s(x).sub_affix[V],"onUpdate:modelValue":[K=>s(x).sub_affix[V]=K,s(R).resetPolicy],items:s(xe)[V],label:$.$t(s(se)(V)),key:V},null,8,["modelValue","onUpdate:modelValue","items","label"]))]))),256))]))}});class ns{constructor(t,l,e){u(this,"resonator");u(this,"weapon");u(this,"echoes");if(this.resonator=t,this.weapon=l,this.echoes=e,e.echoes.length!==5)throw new Error("`echoStores` length must be exactly 5")}getBaseAbbr(){const t=this.echoes.base_attr;let l;switch(t){case T.HP:l=L.HP;break;case T.DEF:l=L.DEF;break;case T.ATK:default:l=L.ATK;break}return l}getCritAttr(){const t=parseFloat(this.weapon.stat_bonus.crit_rate),l=parseFloat(this.weapon.stat_bonus.crit_dmg);return!t&&l?L.CRIT_RATE:t&&!l?L.CRIT_DMG:L.CRIT_DMG}updateSubAffixesWithAffixes151(t){switch(this.echoes.base_attr){case T.HP:t.sub_affix.hp="270",t.sub_affix.hp_p="0.054";break;case T.DEF:t.sub_affix.def="30",t.sub_affix.def_p="0.068325";break;case T.ATK:default:t.sub_affix.atk="24",t.sub_affix.atk_p="0.054";break}t.sub_affix.crit_rate="0.084",t.sub_affix.crit_dmg="0.1008",t.sub_affix.bonus_resonance_skill="0.016",t.sub_affix.bonus_basic_attack="0.016",t.sub_affix.bonus_heavy_attack="0.016",t.sub_affix.bonus_resonance_liberation="0.016"}updateSubAffixesWithAffixes20Small(t){switch(this.echoes.base_attr){case T.HP:t.sub_affix.hp="450",t.sub_affix.hp_p="0.09";break;case T.DEF:t.sub_affix.def="50",t.sub_affix.def_p="0.113875";break;case T.ATK:default:t.sub_affix.atk="40",t.sub_affix.atk_p="0.09";break}t.sub_affix.crit_rate="0.084",t.sub_affix.crit_dmg="0.168"}updateSubAffixesWithAffixes20SkillBonus(t){switch(this.echoes.base_attr){case T.HP:t.sub_affix.hp_p="0.09";break;case T.DEF:t.sub_affix.def_p="0.113875";break;case T.ATK:default:t.sub_affix.atk_p="0.09";break}switch(t.sub_affix.crit_rate="0.084",t.sub_affix.crit_dmg="0.168",this.echoes.main_skill_bonus){case P.SKILL:t.sub_affix.bonus_resonance_skill="0.09";break;case P.BASIC:t.sub_affix.bonus_basic_attack="0.09";break;case P.HEAVY:t.sub_affix.bonus_heavy_attack="0.09";break;case P.LIBERATION:t.sub_affix.bonus_resonance_liberation="0.09";break}}updateBase(){this.echoes.echoes.forEach((t,l)=>{switch(t.resetMainAffix(),t.resetSubAffix(),this.echoes.policy){case X.AFFIXES_15_1:this.updateSubAffixesWithAffixes151(t);break;case X.AFFIXES_20_SMALL:this.updateSubAffixesWithAffixes20Small(t);break;case X.AFFIXES_20_SKILL_BONUS:this.updateSubAffixesWithAffixes20SkillBonus(t);break}})}updateFixedMainAffix(t,l){const e=es(l);for(const[n,i]of Object.entries(e))t.main_affix[n]=i,t._fixed_main_affix_key=n}updateMainAffixItem(t,l){t._main_affix_item={title:se(l),value:l}}updateCost4MainAffixes(t,l){const e="4";t.cost=e,this.updateFixedMainAffix(t,e);const n=re(e);switch(l){case L.HP:t.main_affix.hp_p=n.hp_p,this.updateMainAffixItem(t,"hp_p");break;case L.ATK:t.main_affix.atk_p=n.atk_p,this.updateMainAffixItem(t,"atk_p");break;case L.DEF:t.main_affix.def_p=n.def_p,this.updateMainAffixItem(t,"def_p");break;case L.BONUS_HEALING:t.main_affix.bonus_healing=n.bonus_healing,this.updateMainAffixItem(t,"bonus_healing");break;case L.CRIT_RATE:t.main_affix.crit_rate=n.crit_rate,this.updateMainAffixItem(t,"crit_rate");break;case L.CRIT_DMG:default:t.main_affix.crit_dmg=n.crit_dmg,this.updateMainAffixItem(t,"crit_dmg");break}}updateCost3MainAffixes(t,l){const e="3";t.cost=e,this.updateFixedMainAffix(t,e);const n=re(e);switch(l){case L.HP:t.main_affix.hp_p=n.hp_p,this.updateMainAffixItem(t,"hp_p");break;case L.ATK:t.main_affix.atk_p=n.atk_p,this.updateMainAffixItem(t,"atk_p");break;case L.DEF:t.main_affix.def_p=n.def_p,this.updateMainAffixItem(t,"def_p");break;case L.ENERGY_REGEN:t.main_affix.energy_regen=n.energy_regen,this.updateMainAffixItem(t,"energy_regen");break;case A.GLACIO:t.main_affix.bonus_glacio=n.bonus_glacio,this.updateMainAffixItem(t,"bonus_glacio");break;case A.FUSION:t.main_affix.bonus_fusion=n.bonus_fusion,this.updateMainAffixItem(t,"bonus_fusion");break;case A.ELECTRO:t.main_affix.bonus_electro=n.bonus_electro,this.updateMainAffixItem(t,"bonus_electro");break;case A.AERO:t.main_affix.bonus_aero=n.bonus_aero,this.updateMainAffixItem(t,"bonus_aero");break;case A.SPECTRO:t.main_affix.bonus_spectro=n.bonus_spectro,this.updateMainAffixItem(t,"bonus_spectro");break;case A.HAVOC:t.main_affix.bonus_havoc=n.bonus_havoc,this.updateMainAffixItem(t,"bonus_havoc");break}}updateCost1MainAffixes(t,l){const e="1";t.cost=e,this.updateFixedMainAffix(t,e);const n=re(e);switch(l){case L.HP:t.main_affix.hp_p=n.hp_p,this.updateMainAffixItem(t,"hp_p");break;case L.ATK:t.main_affix.atk_p=n.atk_p,this.updateMainAffixItem(t,"atk_p");break;case L.DEF:t.main_affix.def_p=n.def_p,this.updateMainAffixItem(t,"def_p");break}}update43311(t="",l="",e="",n="",i=""){!this.echoes.policy||this.echoes.echoes.length===0||(t||(t=this.getCritAttr()),l||(l=this.resonator.element_zh_tw),e||(e=this.resonator.element_zh_tw),n||(n=this.getBaseAbbr()),i||(i=this.getBaseAbbr()),this.updateBase(),this.updateCost4MainAffixes(this.echoes.echoes[0],t),this.updateCost3MainAffixes(this.echoes.echoes[1],l),this.updateCost3MainAffixes(this.echoes.echoes[2],e),this.updateCost1MainAffixes(this.echoes.echoes[3],n),this.updateCost1MainAffixes(this.echoes.echoes[4],i))}update43311With2Elem(){this.echoes.base_attr,this.resonator.element_zh_tw}update43311With1Elem1Attr(){this.resonator.element_zh_tw}update43311With2Attr(){}update43311With2EnergyRegen(){}update43311With1EnergyRegen1Elem(){this.resonator.element_zh_tw}update43311With1EnergyRegen1Attr(){}}const to={class:"d-flex flex-column w-100"},ao={class:"d-flex flex-row"},lo={class:"d-flex flex-row"},oo={class:"d-flex flex-row"},no={class:"d-flex flex-row"},io=D({__name:"RowAutoFillEcho",props:{id:{type:String,required:!0}},setup(f){const t=os(),e=f.id,n=_e(e),i=t.getEchoItemsForCalculation(),o=be(e),b=me(e),{t:k}=fe(),R=t.getSonataNames();function x(I){n.getEcho(0).name=I.title,n.getEcho(0)._item=I}function d(){new ns(o.data,b.data,n.data).update43311()}function y(){return[{title:k(`general.${X.AFFIXES_15_1}`),value:X.AFFIXES_15_1},{title:k(`general.${X.AFFIXES_20_SMALL}`),value:X.AFFIXES_20_SMALL},{title:k(`general.${X.AFFIXES_20_SKILL_BONUS}`),value:X.AFFIXES_20_SKILL_BONUS}]}return(I,O)=>(_(),h("div",to,[a("div",ao,[r(C,{modelValue:s(n).data.base_attr,"onUpdate:modelValue":[O[0]||(O[0]=$=>s(n).data.base_attr=$),d],items:s(Ye)(),label:I.$t("general.base_attr")},null,8,["modelValue","items","label"])]),a("div",lo,[r(C,{modelValue:s(n).data.main_skill_bonus,"onUpdate:modelValue":[O[1]||(O[1]=$=>s(n).data.main_skill_bonus=$),d],items:s(Bs)(),label:I.$t("general.main_skill_bonus")},null,8,["modelValue","items","label"])]),a("div",oo,[r(ae,{modelValue:s(n).getEcho(0)._item,"onUpdate:modelValue":[O[2]||(O[2]=$=>s(n).getEcho(0)._item=$),x],items:s(i),label:I.$t("general.nth_echo",{n:1})},null,8,["modelValue","items","label"])]),a("div",no,[r(C,{modelValue:s(n).data.policy,"onUpdate:modelValue":[O[3]||(O[3]=$=>s(n).data.policy=$),d],items:y(),label:I.$t("general.echo_policy")},null,8,["modelValue","items","label"])]),(_(!0),h(q,null,z(s(n).data.echoes,($,S)=>(_(),h("div",{class:"d-flex flex-row",key:S},[r(C,{modelValue:$.sonata,"onUpdate:modelValue":V=>$.sonata=V,items:s(R),label:I.$t("general.nth_sonata",{n:S+1})},null,8,["modelValue","onUpdate:modelValue","items","label"])]))),128))]))}}),ro={class:"d-flex flex-column w-100"},uo={class:"d-flex flex-row"},fo={class:"d-flex flex-row"},_o={class:"d-flex flex-row"},mo=D({__name:"RowWeapon",props:{id:{type:String,required:!0}},setup(f){let l=ze().query.spoiler;l==="true"||l===!0?l=!0:l=!1;const n=f.id,{t:i}=fe(),o=Je(),b=o.getNames(l),k=o.getTunes(),R=me(n);function x(d){return b.includes(d)?!0:i("general.error")}return(d,y)=>(_(),h("div",ro,[a("div",uo,[r(ae,{modelValue:s(R).data.name,"onUpdate:modelValue":[y[0]||(y[0]=I=>s(R).data.name=I),y[1]||(y[1]=I=>s(R).updateRowWeaponByName())],items:s(b),label:d.$t("general.name"),rules:[x]},null,8,["modelValue","items","label","rules"])]),a("div",fo,[r(C,{modelValue:s(R).data.level,"onUpdate:modelValue":[y[2]||(y[2]=I=>s(R).data.level=I),y[3]||(y[3]=I=>s(R).updateRowWeaponByName())],items:s(R).data.getLevels(),label:d.$t("general.level")},null,8,["modelValue","items","label"])]),a("div",_o,[r(C,{modelValue:s(R).data.tune,"onUpdate:modelValue":[y[4]||(y[4]=I=>s(R).data.tune=I),y[5]||(y[5]=I=>s(R).updateRowWeaponByName())],items:s(k),label:d.$t("general.tune")},null,8,["modelValue","items","label"])])]))}}),co={class:"d-flex flex-column w-100"},po={class:"d-flex flex-row"},bo={class:"d-flex flex-row"},go={class:"d-flex flex-row"},ho={class:"d-flex flex-row mb-2"},xo={class:"d-flex flex-row"},vo=["innerHTML"],wo={class:"d-flex flex-row"},$o={class:"d-flex flex-row"},ko={class:"d-flex flex-row"},Ro={class:"d-flex flex-row mb-2"},Vo={class:"d-flex flex-row"},yo={class:"d-flex flex-row"},Eo={class:"d-flex flex-row"},So={class:"d-flex flex-row"},Ao={class:"d-flex flex-row"},Io={class:"d-flex flex-row"},No={class:"d-flex flex-row"},Bo={class:"d-flex flex-row mb-2"},Uo={class:"d-flex flex-row"},To={class:"d-flex flex-row"},Oo={class:"d-flex flex-row"},Mo={class:"d-flex flex-row"},Lo={class:"d-flex flex-row"},Co={class:"d-flex flex-row"},Fo={class:"d-flex flex-row"},Po={class:"d-flex flex-row"},Do={class:"d-flex flex-row"},Go={class:"d-flex flex-row"},Ho={class:"d-flex flex-row"},Ko={class:"d-flex flex-row"},Wo={class:"d-flex flex-row"},jo={class:"d-flex flex-row"},qo={class:"d-flex flex-row"},zo={class:"d-flex flex-row"},Xo={class:"d-flex flex-row"},Yo=D({__name:"RowResonator",props:{id:{type:String,required:!0}},setup(f){let l=ze().query.spoiler;l==="true"||l===!0?l=!0:l=!1;const e=f,n=e.id,{t:i}=fe(),o=Xe(),b=o.getNames(l),k=o.getLevels(),R=o.getChains(),x=o.getSkillLevels(),d=be(n),y=ue([]);function I(v){return b.includes(v)?!0:i("general.error")}const O=_e(n),$=me(n);async function S(){await d.updateByName();const v=d.data.name;if(I(v)!==!0){y.value=[];return}y.value=await o.getDamageSkillItems(v),new ns(d.data,$.data,O.data).update43311()}async function V(){await d.updateSkill()}function K(v){if(!v||!v.title)return!0;for(const m of y.value)if(v.title===m.title)return!0;return i("general.error")}return(v,m)=>(_(),h("div",co,[a("div",po,[r(ae,{modelValue:s(d).data.name,"onUpdate:modelValue":[m[0]||(m[0]=c=>s(d).data.name=c),S],items:s(b),label:v.$t("general.name"),rules:[I]},null,8,["modelValue","items","label","rules"])]),a("div",bo,[r(C,{modelValue:s(d).data.level,"onUpdate:modelValue":m[1]||(m[1]=c=>s(d).data.level=c),items:s(k),label:v.$t("general.level")},null,8,["modelValue","items","label"])]),a("div",go,[r(C,{modelValue:s(d).data.chain,"onUpdate:modelValue":m[2]||(m[2]=c=>s(d).data.chain=c),items:s(R),label:v.$t("general.resonator_chain")},null,8,["modelValue","items","label"])]),a("div",ho,[a("span",null,g(v.$t("general.skill")),1)]),a("div",xo,[r(ae,Z(e,{modelValue:s(d).data._skill_item,"onUpdate:modelValue":[m[3]||(m[3]=c=>s(d).data._skill_item=c),V],items:y.value,label:v.$t("general.resonator_skill_id"),rules:[K],disabled:y.value.length===0}),{item:U(({props:c,item:Q})=>[r(te,{location:"top",disabled:!Q.value.tooltip},{activator:U(({props:le})=>[r(Ls,Rs(Vs({...c,...le})),null,16)]),default:U(()=>[a("div",{innerHTML:Q.value.tooltip},null,8,vo)]),_:2},1032,["disabled"])]),_:1},16,["modelValue","items","label","rules","disabled"])]),a("div",wo,[r(p,{modelValue:s(d).data.skill.dmg,"onUpdate:modelValue":m[4]||(m[4]=c=>s(d).data.skill.dmg=c),label:v.$t("general.skill_damage_ratio")},null,8,["modelValue","label"])]),a("div",$o,[r(C,{modelValue:s(d).data.skill.base_attr,"onUpdate:modelValue":m[5]||(m[5]=c=>s(d).data.skill.base_attr=c),items:s(Ye)(),label:v.$t("general.base_attr")},null,8,["modelValue","items","label"])]),a("div",ko,[r(C,{modelValue:s(d).data.skill.bonus_types,"onUpdate:modelValue":m[6]||(m[6]=c=>s(d).data.skill.bonus_types=c),items:s(Us)(),label:v.$t("general.skill_bonus_type"),chips:"",multiple:""},null,8,["modelValue","items","label"])]),a("div",Ro,[a("span",null,g(v.$t("general.skill_level")),1)]),a("div",Vo,[r(C,{modelValue:s(d).data.normal_attack_lv,"onUpdate:modelValue":[m[7]||(m[7]=c=>s(d).data.normal_attack_lv=c),V],items:s(x),label:v.$t("general.resonator_skills.normal_attack")},null,8,["modelValue","items","label"])]),a("div",yo,[r(C,{modelValue:s(d).data.resonance_skill_lv,"onUpdate:modelValue":[m[8]||(m[8]=c=>s(d).data.resonance_skill_lv=c),V],items:s(x),label:v.$t("general.resonator_skills.resonance_skill")},null,8,["modelValue","items","label"])]),a("div",Eo,[r(C,{modelValue:s(d).data.forte_circuit_lv,"onUpdate:modelValue":[m[9]||(m[9]=c=>s(d).data.forte_circuit_lv=c),V],items:s(x),label:v.$t("general.resonator_skills.forte_circuit")},null,8,["modelValue","items","label"])]),a("div",So,[r(C,{modelValue:s(d).data.resonance_liberation_lv,"onUpdate:modelValue":[m[10]||(m[10]=c=>s(d).data.resonance_liberation_lv=c),V],items:s(x),label:v.$t("general.resonator_skills.resonance_liberation")},null,8,["modelValue","items","label"])]),a("div",Ao,[r(C,{modelValue:s(d).data.intro_skill_lv,"onUpdate:modelValue":[m[11]||(m[11]=c=>s(d).data.intro_skill_lv=c),V],items:s(x),label:v.$t("general.resonator_skills.intro_skill")},null,8,["modelValue","items","label"])]),a("div",Io,[r(Be,{modelValue:s(d).data.inherent_skill_1,"onUpdate:modelValue":m[12]||(m[12]=c=>s(d).data.inherent_skill_1=c),label:v.$t("general.resonator_skills.inherent_skill_1")},null,8,["modelValue","label"])]),a("div",No,[r(Be,{modelValue:s(d).data.inherent_skill_2,"onUpdate:modelValue":m[13]||(m[13]=c=>s(d).data.inherent_skill_2=c),label:v.$t("general.resonator_skills.inherent_skill_2")},null,8,["modelValue","label"])]),a("div",Bo,[a("span",null,g(v.$t("general.stat_bonus")),1)]),a("div",Uo,[r(p,{modelValue:s(d).data.stat_bonus.hp_p,"onUpdate:modelValue":m[14]||(m[14]=c=>s(d).data.stat_bonus.hp_p=c),label:v.$t("general.hp_p")},null,8,["modelValue","label"])]),a("div",To,[r(p,{modelValue:s(d).data.stat_bonus.atk_p,"onUpdate:modelValue":m[15]||(m[15]=c=>s(d).data.stat_bonus.atk_p=c),label:v.$t("general.atk_p")},null,8,["modelValue","label"])]),a("div",Oo,[r(p,{modelValue:s(d).data.stat_bonus.def_p,"onUpdate:modelValue":m[16]||(m[16]=c=>s(d).data.stat_bonus.def_p=c),label:v.$t("general.def_p")},null,8,["modelValue","label"])]),a("div",Mo,[r(p,{modelValue:s(d).data.stat_bonus.crit_rate,"onUpdate:modelValue":m[17]||(m[17]=c=>s(d).data.stat_bonus.crit_rate=c),label:v.$t("general.crit_rate")},null,8,["modelValue","label"])]),a("div",Lo,[r(p,{modelValue:s(d).data.stat_bonus.crit_dmg,"onUpdate:modelValue":m[18]||(m[18]=c=>s(d).data.stat_bonus.crit_dmg=c),label:v.$t("general.crit_dmg")},null,8,["modelValue","label"])]),a("div",Co,[r(p,{modelValue:s(d).data.stat_bonus.bonus_resonance_skill,"onUpdate:modelValue":m[19]||(m[19]=c=>s(d).data.stat_bonus.bonus_resonance_skill=c),label:v.$t("general.bonus_resonance_skill")},null,8,["modelValue","label"])]),a("div",Fo,[r(p,{modelValue:s(d).data.stat_bonus.bonus_basic_attack,"onUpdate:modelValue":m[20]||(m[20]=c=>s(d).data.stat_bonus.bonus_basic_attack=c),label:v.$t("general.bonus_basic_attack")},null,8,["modelValue","label"])]),a("div",Po,[r(p,{modelValue:s(d).data.stat_bonus.bonus_heavy_attack,"onUpdate:modelValue":m[21]||(m[21]=c=>s(d).data.stat_bonus.bonus_heavy_attack=c),label:v.$t("general.bonus_heavy_attack")},null,8,["modelValue","label"])]),a("div",Do,[r(p,{modelValue:s(d).data.stat_bonus.bonus_resonance_liberation,"onUpdate:modelValue":m[22]||(m[22]=c=>s(d).data.stat_bonus.bonus_resonance_liberation=c),label:v.$t("general.bonus_resonance_liberation")},null,8,["modelValue","label"])]),a("div",Go,[r(p,{modelValue:s(d).data.stat_bonus.bonus_healing,"onUpdate:modelValue":m[23]||(m[23]=c=>s(d).data.stat_bonus.bonus_healing=c),label:v.$t("general.bonus_healing")},null,8,["modelValue","label"])]),a("div",Ho,[r(p,{modelValue:s(d).data.stat_bonus.bonus_physics,"onUpdate:modelValue":m[24]||(m[24]=c=>s(d).data.stat_bonus.bonus_physics=c),label:v.$t("general.bonus_physics")},null,8,["modelValue","label"])]),a("div",Ko,[r(p,{modelValue:s(d).data.stat_bonus.bonus_glacio,"onUpdate:modelValue":m[25]||(m[25]=c=>s(d).data.stat_bonus.bonus_glacio=c),label:v.$t("general.bonus_glacio")},null,8,["modelValue","label"])]),a("div",Wo,[r(p,{modelValue:s(d).data.stat_bonus.bonus_fusion,"onUpdate:modelValue":m[26]||(m[26]=c=>s(d).data.stat_bonus.bonus_fusion=c),label:v.$t("general.bonus_fusion")},null,8,["modelValue","label"])]),a("div",jo,[r(p,{modelValue:s(d).data.stat_bonus.bonus_electro,"onUpdate:modelValue":m[27]||(m[27]=c=>s(d).data.stat_bonus.bonus_electro=c),label:v.$t("general.bonus_electro")},null,8,["modelValue","label"])]),a("div",qo,[r(p,{modelValue:s(d).data.stat_bonus.bonus_aero,"onUpdate:modelValue":m[28]||(m[28]=c=>s(d).data.stat_bonus.bonus_aero=c),label:v.$t("general.bonus_aero")},null,8,["modelValue","label"])]),a("div",zo,[r(p,{modelValue:s(d).data.stat_bonus.bonus_spectro,"onUpdate:modelValue":m[29]||(m[29]=c=>s(d).data.stat_bonus.bonus_spectro=c),label:v.$t("general.bonus_spectro")},null,8,["modelValue","label"])]),a("div",Xo,[r(p,{modelValue:s(d).data.stat_bonus.bonus_havoc,"onUpdate:modelValue":m[30]||(m[30]=c=>s(d).data.stat_bonus.bonus_havoc=c),label:v.$t("general.bonus_havoc")},null,8,["modelValue","label"])])]))}}),Zo=we(Yo,[["__scopeId","data-v-27aaf71c"]]),Jo={class:"d-flex flex-row w-100"},Qo={class:"d-flex flex-row align-center ml-auto"},en={class:"d-flex flex-row w-100"},sn={class:"d-flex flex-column w-100 mr-6"},tn={class:"d-flex flex-row mb-2"},an={class:"d-flex flex-column w-100"},ln={class:"d-flex flex-row mb-2"},on={class:"d-flex flex-row w-100"},nn={class:"d-flex flex-column w-100 mr-6"},rn={class:"d-flex flex-row mb-2"},un={class:"d-flex flex-column w-100"},dn={class:"d-flex flex-row mb-2"},fn={class:"d-flex flex-column w-100"},_n={class:"d-flex flex-row mb-2"},mn={class:"d-flex flex-row w-100"},cn={class:"d-flex flex-column w-100 mr-6"},pn={class:"d-flex flex-row mb-2"},bn={class:"d-flex flex-row w-100"},gn={class:"d-flex flex-column w-100"},hn={class:"d-flex flex-row mb-2"},xn={class:"d-flex flex-row w-100"},vn={class:"d-flex flex-column w-100 mr-6"},wn={class:"d-flex flex-row mb-2"},$n={class:"d-flex flex-row mb-2"},kn={class:"d-flex flex-row mb-2"},Rn={class:"d-flex flex-row mb-2"},Vn={class:"d-flex flex-row mb-2"},yn={class:"d-flex flex-column w-100"},En={class:"d-flex flex-row mb-2"},F="simple",is=D({__name:"simple_calculator",setup(f){const t=ue(""),l=be(F),e=me(F),n=_e(F),i=ke(F),o=Re(F),b=ue(void 0),R=ls().getMonsterItems();o.updateByMonsterItem(R[1].value);async function x(){t.value="result",b.value=void 0,await As(),b.value=new _t(l.data,e.data,n.data,i.data,o.data),b.value.calculate()}return(d,y)=>{const I=Zo,O=mo,$=io,S=so,V=Al,K=Rl,v=el,m=Ha,c=Oa,Q=Ia,le=ka,rs=Wt,us=_s;return _(),W(us,null,{default:U(()=>[r(ye,{class:"nav d-flex flex-columnmx-auto pa-1"},{default:U(()=>[a("div",Jo,[r(ys,{class:"d-flex flex-row align-center","align-tabs":"start",color:"blue-accent-1",modelValue:t.value,"onUpdate:modelValue":y[0]||(y[0]=ce=>t.value=ce)},{default:U(()=>[r(oe,{value:"resonator"},{default:U(()=>[ee(g(d.$t("general.resonator")),1)]),_:1}),r(oe,{value:"echo"},{default:U(()=>[ee(g(d.$t("general.echo")),1)]),_:1}),r(oe,{value:"monster"},{default:U(()=>[ee(g(d.$t("general.monster")),1)]),_:1}),r(oe,{value:"buff"},{default:U(()=>[ee(g(d.$t("general.buff")),1)]),_:1}),r(oe,{value:"result"},{default:U(()=>[ee(g(d.$t("calculation.result")),1)]),_:1})]),_:1},8,["modelValue"]),a("div",Qo,[r(Es,{onClick:x},{default:U(()=>[ee(g(d.$t("general.calculate")),1)]),_:1})])])]),_:1}),r(ye,null,{default:U(()=>[r(Ss,{class:"window mx-auto",modelValue:t.value,"onUpdate:modelValue":y[1]||(y[1]=ce=>t.value=ce)},{default:U(()=>[r(ne,{value:"resonator"},{default:U(()=>[a("div",en,[a("div",sn,[a("div",tn,[a("h2",null,g(d.$t("general.resonator")),1)]),r(I,{id:F})]),a("div",an,[a("div",ln,[a("h2",null,g(d.$t("general.weapon")),1)]),r(O,{id:F})])])]),_:1}),r(ne,{value:"echo"},{default:U(()=>[a("div",on,[a("div",nn,[a("div",rn,[a("h2",null,g(d.$t("general.auto_fill")),1)]),r($,{id:F})]),a("div",un,[a("div",dn,[a("h2",null,g(d.$t("general.manual_input")),1)]),(_(!0),h(q,null,z(s(n).data.echoes,(ce,Ve)=>(_(),h("div",fn,[a("div",_n,[a("h3",null,g(d.$t("general.nth_echo",{n:Ve+1})),1)]),r(S,{i:Ve,id:F},null,8,["i"])]))),256))])])]),_:1}),r(ne,{value:"monster"},{default:U(()=>[a("div",mn,[a("div",cn,[a("div",pn,[a("h2",null,g(d.$t("general.monster")),1)]),r(V,{id:F})]),y[2]||(y[2]=a("div",{class:"d-flex flex-column w-100"},null,-1))])]),_:1}),r(ne,{value:"buff"},{default:U(()=>[a("div",bn,[a("div",gn,[a("div",hn,[a("h2",null,g(d.$t("general.manual_input")),1)]),r(K,{id:F})])])]),_:1}),r(ne,{value:"result"},{default:U(()=>[a("div",xn,[a("div",vn,[a("div",wn,[a("h2",null,g(d.$t("general.resonator")),1)]),r(v,{id:F}),a("div",$n,[a("h2",null,g(d.$t("general.weapon")),1)]),r(m,{id:F}),a("div",kn,[a("h2",null,g(d.$t("general.echo")),1)]),r(c,{id:F}),a("div",Rn,[a("h2",null,g(d.$t("general.monster")),1)]),r(Q,{id:F}),a("div",Vn,[a("h2",null,g(d.$t("general.buff")),1)]),r(le,{id:F})]),a("div",yn,[a("div",En,[a("h2",null,g(d.$t("general.result")),1)]),b.value?(_(),W(rs,{key:0,calculation:b.value},null,8,["calculation"])):M("",!0)])])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}}});typeof Ne=="function"&&Ne(is);const Dn=we(is,[["__scopeId","data-v-7703baa4"]]);export{Dn as default};
