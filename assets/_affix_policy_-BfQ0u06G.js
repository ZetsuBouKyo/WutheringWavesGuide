import{a5 as ce,ae as me,ak as ge,af as fe,ag as B,a6 as z,a7 as pe,am as he,G as L,H as r,J as n,ah as P,L as I,c as l,a8 as e,aa as u,ad as m,a9 as a,M as w,ab as D,ac as f,Z as T,an as x,ao as y,ap as N,aq as E,aj as ve,_ as $e}from"./index-xWvqgTdL.js";import{_ as be}from"./Rotation-rHaBcK12.js";import{_ as xe}from"./ResonatorInfo-COeV-Zmy.js";import{_ as ye}from"./DocHeaders-CDtLniHn.js";import{u as ke}from"./calculateTemplate-Dz8DJyCB.js";import{u as Se}from"./damageAnalysis-C5QgBrL8.js";import{u as we}from"./resonator-CI3wZnhI.js";import{t as A,j as b}from"./utils-DwyHwRSh.js";import{V as M}from"./VTooltip-DBp6MmYy.js";import{V as G}from"./VDataTable-J0z_lV6p.js";import{V as S}from"./VList-cOnM5lqd.js";import"./tier-Cpy-RyVF.js";import"./damage-Dhj7Dyg-.js";import"./template-CY-D-FTw.js";import"./VOverlay-xYGeefbO.js";import"./VAvatar-gcaZ9Rfn.js";var ee=(p=>(p.SKILL_DMG_ADDITION="招式倍率",p.MAGNIFIER="倍率",p.AMPLIFIER="加深",p.BONUS="加成",p.HP_P="生命百分比",p.HP="生命",p.ATK_P="攻擊百分比",p.ATK="攻擊",p.DEF_P="防禦百分比",p.DEF="防禦",p.CRIT_RATE="暴擊",p.CRIT_DMG="暴擊傷害",p.IGNORE_DEF="忽視防禦",p.REDUCE_RES="抗性降低",p))(ee||{}),j=(p=>(p.HP="生命",p.ATK="攻擊",p.DEF="防禦",p))(j||{});const De={class:"d-flex flex-column"},Pe={class:"ml-4 text-truncate"},Ce={class:"ml-8 text-truncate"},Ie={class:"ml-8 text-truncate"},Fe={class:"ml-8 text-truncate"},Te={class:"ml-4 text-truncate"},Ae={class:"ml-4 text-truncate"},Me={id:"team_damage_distribution"},Ve={class:"d-flex flex-column my-1 mb-4"},Be={class:"d-flex flex-column bg-blue-grey-darken-4"},Ee={class:"team-damage-distribution-header"},Re={class:"team-damage-distribution-header-value text-truncate"},He={class:"team-damage-distribution-header"},Le={class:"team-damage-distribution-header-value text-truncate"},Ge={class:"team-damage-distribution-header"},je={class:"team-damage-distribution-header-value text-truncate"},Ke={class:"d-flex flex-row align-center ma-1"},Oe=["src"],ze={class:"d-flex flex-column"},Ue={class:"d-flex flex-row"},qe={class:"d-flex flex-row"},Je={class:"team-damage-distribution-tooltip-header"},Ze={class:"d-flex flex-row"},Qe={class:"team-damage-distribution-tooltip-header"},We={class:"d-flex flex-row"},Xe={class:"team-damage-distribution-tooltip-header"},Ye={class:"mr-4 text-truncate"},Ne={key:1,class:"d-flex flex-row align-center w-100"},et={class:"ml-4 text-truncate"},tt={id:"buff_damage_distribution"},at={class:"d-flex flex-column my-1 mb-4"},st={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},nt={class:"team-damage-distribution-header"},lt={class:"team-damage-distribution-header-value text-truncate"},ot={class:"team-damage-distribution-header"},it={class:"team-damage-distribution-header-value text-truncate"},rt={class:"team-damage-distribution-header"},dt={class:"team-damage-distribution-header-value text-truncate"},_t={class:"d-flex flex-row align-center ma-1"},ut={class:"d-flex flex-column"},ct={class:"d-flex flex-row"},mt={class:"team-damage-distribution-tooltip-header"},gt={class:"d-flex flex-row"},ft={class:"team-damage-distribution-tooltip-header"},pt={class:"d-flex flex-row"},ht={class:"team-damage-distribution-tooltip-header"},vt={class:"mr-4 text-truncate"},$t={key:1,class:"d-flex flex-row align-center w-100"},bt={class:"ml-4 text-truncate"},xt={id:"resonator"},yt={class:"d-flex flex-column"},kt=["id"],St=["id"],wt={class:"d-flex flex-column my-1 mb-4 w-100"},Dt={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},Pt={class:"team-damage-distribution-header"},Ct={class:"team-damage-distribution-header-value text-truncate"},It={class:"team-damage-distribution-header"},Ft={class:"team-damage-distribution-header-value text-truncate"},Tt={class:"team-damage-distribution-header"},At={class:"team-damage-distribution-header-value text-truncate"},Mt={class:"d-flex flex-row align-center ma-1"},Vt={class:"d-flex flex-column"},Bt={class:"d-flex flex-row"},Et={class:"d-flex flex-row"},Rt={class:"team-damage-distribution-tooltip-header"},Ht={class:"d-flex flex-row"},Lt={class:"team-damage-distribution-tooltip-header"},Gt={class:"d-flex flex-row"},jt={class:"team-damage-distribution-tooltip-header"},Kt={class:"mr-4 text-truncate"},Ot={key:1,class:"d-flex flex-row align-center w-100"},zt={class:"ml-4 text-truncate"},Ut=["id"],qt={class:"d-flex flex-column my-1 mb-4 w-100"},Jt={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},Zt={class:"team-damage-distribution-header"},Qt={class:"team-damage-distribution-header-value text-truncate"},Wt={class:"team-damage-distribution-header"},Xt={class:"team-damage-distribution-header-value text-truncate"},Yt={class:"team-damage-distribution-header"},Nt={class:"team-damage-distribution-header-value text-truncate"},ea={class:"d-flex flex-row align-center ma-1"},ta={class:"d-flex flex-column"},aa={class:"d-flex flex-row"},sa={class:"d-flex flex-row"},na={class:"team-damage-distribution-tooltip-header"},la={class:"d-flex flex-row"},oa={class:"team-damage-distribution-tooltip-header"},ia={class:"mr-4 text-truncate"},ra={key:1,class:"d-flex flex-row align-center w-100"},da={class:"ml-4 text-truncate"},_a=["id"],ua={class:"d-flex flex-column my-1 mb-4 w-100"},ca={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},ma={class:"team-damage-distribution-header"},ga={class:"team-damage-distribution-header-value text-truncate"},fa={class:"team-damage-distribution-header"},pa={class:"team-damage-distribution-header-value text-truncate"},ha={class:"team-damage-distribution-header"},va={class:"team-damage-distribution-header-value text-truncate"},$a={class:"d-flex flex-row align-center ma-1"},ba={class:"d-flex flex-column"},xa={class:"d-flex flex-row"},ya={class:"d-flex flex-row"},ka={class:"team-damage-distribution-tooltip-header"},Sa={class:"d-flex flex-row"},wa={class:"team-damage-distribution-tooltip-header"},Da={class:"mr-4 text-truncate"},Pa={key:1,class:"d-flex flex-row align-center w-100"},Ca={class:"ml-4 text-truncate"},Ia={id:"rotation"},Fa={class:"d-flex flex-column my-1 mb-4 w-100"},Ta={id:"rotation_damage"},Aa={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},Ma={class:"team-damage-distribution-header"},Va={class:"team-damage-distribution-header-value text-truncate"},Ba={class:"team-damage-distribution-header"},Ea={class:"team-damage-distribution-header-value text-truncate"},Ra={class:"team-damage-distribution-header"},Ha={class:"team-damage-distribution-header-value text-truncate"},La=["src"],Ga={class:"d-flex flex-column"},ja={class:"d-flex flex-row"},Ka={class:"d-flex flex-row"},Oa={class:"tooltip-header"},za={class:"d-flex flex-row"},Ua={class:"tooltip-header"},qa={class:"text-truncate"},Ja={class:"d-flex flex-row"},Za={class:"tooltip-header"},Qa={class:"d-flex flex-row"},Wa={class:"tooltip-header"},Xa={class:"d-flex flex-row"},Ya={class:"tooltip-header"},Na={class:"d-flex flex-row"},es={class:"tooltip-header"},ts=["id","onClick"],as={class:"mr-4 text-truncate"},ss={key:1,class:"d-flex flex-row align-center w-100"},ns={class:"ml-4 text-truncate"},ls={id:"detailed_damage",class:"mb-2"},os=["id"],is=["src"],rs={class:"mr-4"},ds={class:"d-flex flex-row ml-auto mr-2"},_s={key:0,class:"d-flex flex-column"},us={key:1,class:"d-flex flex-column"},cs={key:2,class:"d-flex flex-column"},ms={class:"frac"},gs={class:"bottom"},fs={key:0},ps={key:1},hs=ce({__name:"[affix_policy]",setup(p){const $=me(),{t:v}=ge(),U=fe(),R=U.params.id,K=U.params.affix_policy,q=ke(),te=Se(),H=we(),C=B(""),J=B(""),V=z([]),O=z({}),Z=z([]),d=B(void 0),Q=B([]),W=B([]);async function X(){if(!R||!K)return;await q.init(),C.value=q.getTemplateIdByHashedTemplateId(R),d.value=await te.getDamageAnalysisByHashedTemplateId(R,K),W.value=d.value.resonator_template.getRotationIndices();const t=parseFloat(d.value.damage_distribution.damage),o=parseFloat(d.value.damage_distribution.getMaxTeamDPS());Q.value=d.value.damage_distributions_with_buffs.getBars(t,o);const i=[];Object.keys(d.value.resonator_models).forEach(k=>{const s=d.value.resonator_models[k],c=s.name,_=d.value.resonator_template.getResonatorEcho1(c);s.echo1=_,Z.push(s),V.push(c),i.push(v(c))}),V.forEach(async k=>{const s=await H.getElementEnByName(k);O[k]=s});const g=i.join(" | "),h=v(`general.${K}`);J.value=`${g} — ${h}`}function ae(t){return[{[v("general.action")]:t.action,[v("general.resonator_skill_id")]:t.skill_id,[v("general.skill_base_attr")]:t.result_skill_base_attribute,[v("general.skill_bonus_type")]:t.resonator_skill_type_bonus,[v("general.hits")]:v("general.n_hits",{n:t.hits})}]}function se(t){return[{[v("general.real_damage")]:A(parseFloat(t.real_dmg_no_crit)),[v("general.calculated_damage")]:A(parseFloat(t.damage_no_crit)),[v("general.real_crit_damage")]:A(parseFloat(t.real_dmg_crit)),[v("general.calculated_crit_damage")]:A(parseFloat(t.damage_crit))}]}function ne(t){const o=t.buffs,i=[];return o.forEach(g=>{const h={[v("general.name")]:g.name,[v("general.buff_type")]:g.type,[v("general.stack")]:g.stack,[v("general.value")]:g.value};i.push(h)}),i}function le(t){const o=t.result_skill_base_attribute;let i="",g="",h="";switch(o){case j.HP:i=t.result_hp,g=t.result_hp_p,h=t.result_hp_addition;break;case j.DEF:i=t.result_def,g=t.result_def_p,h=t.result_def_addition;break;case j.ATK:default:i=t.result_atk,g=t.result_atk_p,h=t.result_atk_addition}const k=parseFloat(g),s=parseFloat(h);if(g&&k!==0){const c=k.toString();i=`${i} × (1 + ${c})`}if(h&&s!==0){const c=s.toString();i=`${i} + ${c}`}return!g&&!h?i:`(${i})`}function oe(t){let o=parseFloat(t.resonator_skill_dmg).toString();const i=t.buffs;let g=!1;return i.forEach(h=>{if(h.type===ee.SKILL_DMG_ADDITION){g=!0;const k=parseFloat(h.value),s=parseFloat(h.stack);o=`${o} + ${k} × ${s}`}}),g&&(o=`(${o})`),o=`× ${o}`,o}function ie(t){const o=parseFloat(t.result_magnifier);let i="1";if(o){const g=o.toString();i=`(${i} + ${g})`}return i=`× ${i}`,i}function re(t){const o=parseFloat(t.result_amplifier);let i="1";if(o){const g=o.toString();i=`(${i} + ${g})`}return i=`× ${i}`,i}function de(t){const o=parseFloat(t.result_bonus);let i="1";if(o){const g=o.toString();i=`(${i} + ${g})`}return i=`× ${i}`,i}function _e(t){const o=parseFloat(t.result_crit_dmg);let i="1.5";return o&&(i=o.toString()),i=`× ${i}`,i}function Y(t){const o=parseFloat(t.result_ignore_def);let i="";return o&&(i=`× (1 - ${o.toString()})`),i}function ue(t){const o=parseFloat(t.result_reduce_res);let g=`1 - ${parseFloat(t.monster_res).toString()}`;if(o){const h=o.toString();g=`(${g} + ${h})`}return g=`× (${g})`,g}return pe(async()=>{await X()}),he(()=>R,async()=>{await X()}),(t,o)=>{const i=ye,g=xe,h=be,k=ve;return r(),L(k,null,{left:n(()=>[l(i,null,{default:n(()=>[l(S,{title:t.$t("template.damage_analysis.team_damage_distribution"),onClick:o[0]||(o[0]=s=>f(b)(f($),"#team_damage_distribution"))},null,8,["title"]),l(S,{title:t.$t("template.damage_analysis.buff_damage_distribution"),onClick:o[1]||(o[1]=s=>f(b)(f($),"#buff_damage_distribution"))},null,8,["title"]),l(S,{title:t.$t("general.resonator"),onClick:o[2]||(o[2]=s=>f(b)(f($),"#resonator"))},null,8,["title"]),(r(!0),u(w,null,D(V,(s,c)=>(r(),u("div",De,[l(S,{onClick:_=>f(b)(f($),`#resonator${c}`)},{default:n(()=>[e("span",Pe,a(t.$t(s)),1)]),_:2},1032,["onClick"]),l(S,{onClick:_=>f(b)(f($),`#resonator${c}_skill_damage_distribution`)},{default:n(()=>[e("span",Ce,a(t.$t("template.damage_analysis.skill_damage_distribution")),1)]),_:2},1032,["onClick"]),l(S,{onClick:_=>f(b)(f($),`#resonator${c}_skill_type_damage_distribution`)},{default:n(()=>[e("span",Ie,a(t.$t("template.damage_analysis.skill_type_damage_distribution")),1)]),_:2},1032,["onClick"]),l(S,{onClick:_=>f(b)(f($),`#resonator${c}_skill_bonus_damage_distribution`)},{default:n(()=>[e("span",Fe,a(t.$t("template.damage_analysis.skill_bonus_damage_distribution")),1)]),_:2},1032,["onClick"])]))),256)),l(S,{title:t.$t("general.rotation"),onClick:o[3]||(o[3]=s=>f(b)(f($),"#rotation"))},null,8,["title"]),l(S,{onClick:o[4]||(o[4]=s=>f(b)(f($),"#rotation_damage"))},{default:n(()=>[e("span",Te,a(t.$t("template.damage_analysis.rotation_damage")),1)]),_:1}),l(S,{onClick:o[5]||(o[5]=s=>f(b)(f($),"#detailed_damage"))},{default:n(()=>[e("span",Ae,a(t.$t("template.damage_analysis.detailed_damage")),1)]),_:1})]),_:1})]),right:n(()=>[d.value?(r(),L(I,{key:0},{default:n(()=>[l(m,{class:"mt-1 mb-2"},{default:n(()=>[e("h1",null,a(J.value),1)]),_:1}),l(m,{class:"my-1"},{default:n(()=>[e("h2",Me,a(t.$t("template.damage_analysis.team_damage_distribution")),1)]),_:1}),e("div",Ve,[l(I,{class:"bg-blue-grey-darken-4 mx-1"},{default:n(()=>[e("div",Be,[l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ee,a(t.$t("general.template_id"))+": ",1),e("span",Re,a(t.$t(C.value)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",He,a(t.$t("general.monster_id"))+": ",1),e("span",Le,a(t.$t(d.value.resonator_template.monster_id)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ge,a(t.$t("general.team_dps"))+": ",1),e("span",je,a(d.value.damage_distribution.getTeamDPSString()),1)]),_:1}),(r(!0),u(w,null,D(V,s=>(r(),u("div",Ke,[e("img",{class:"resonator-icon mr-2",src:f(H).getIconSrcByName(s)},null,8,Oe),l(M,{location:"bottom"},{activator:n(({props:c})=>[e("div",T({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},c),[d.value.damage_distribution.getResonatorMaxDPSPercentage(s)>.5?(r(),u("div",{key:0,class:y(`barh d-flex flex-row-reverse align-center bg-${O[s]}`),style:x(`width: ${d.value.damage_distribution.getResonatorMaxDPSPercentageString(s)};`)},[e("span",Ye," DPS: "+a(d.value.damage_distribution.getResonatorDPSString(s))+" ("+a(d.value.damage_distribution.getResonatorMaxDPSPercentageString(s))+") ",1)],6)):(r(),u("div",Ne,[e("div",{class:y(`barh d-flex bg-${O[s]}`),style:x(`width: ${d.value.damage_distribution.getResonatorMaxDPSPercentageString(s)};`)},null,6),e("span",et," DPS: "+a(d.value.damage_distribution.getResonatorDPSString(s))+" ("+a(d.value.damage_distribution.getResonatorMaxDPSPercentageString(s))+") ",1)]))],16)]),default:n(()=>[e("div",ze,[e("div",Ue,[e("span",null,a(t.$t(s)),1)]),e("div",qe,[e("span",Je,a(t.$t("general.damage"))+": ",1),e("span",null,a(d.value.damage_distribution.getResonatorDamageString(s)),1)]),e("div",Ze,[e("span",Qe,a(t.$t("general.dps"))+": ",1),e("span",null,a(d.value.damage_distribution.getResonatorDPSString(s)),1)]),e("div",We,[e("span",Xe,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t("general.team_dps"))+")",1)])])]),_:2},1024)]))),256))])]),_:1})]),l(m,{class:"my-1"},{default:n(()=>[e("h2",tt,a(t.$t("template.damage_analysis.buff_damage_distribution")),1)]),_:1}),e("div",at,[l(I,{class:"bg-blue-grey-darken-4 mx-1"},{default:n(()=>[e("div",st,[l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",nt,a(t.$t("general.template_id"))+": ",1),e("span",lt,a(t.$t(C.value)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",ot,a(t.$t("general.monster_id"))+": ",1),e("span",it,a(t.$t(d.value.resonator_template.monster_id)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",rt,a(t.$t("general.team_dps"))+": ",1),e("span",dt,a(d.value.damage_distribution.getTeamDPSString()),1)]),_:1}),(r(!0),u(w,null,D(Q.value,s=>(r(),u("div",_t,[l(M,{location:"bottom"},{activator:n(({props:c})=>[e("div",T({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},c),[s.percentage>.5?(r(),u("div",{key:0,class:y("barh d-flex flex-row-reverse align-center bg-white"),style:x(`width: ${s.percentageString};`)},[e("span",vt,a(s.text)+" ("+a(s.percentageString)+") ",1)],4)):(r(),u("div",$t,[e("div",{class:y("barh d-flex bg-white"),style:x(`width: ${s.percentageString};`)},null,4),e("span",bt,a(s.text)+" ("+a(s.percentageString)+") ",1)]))],16)]),default:n(()=>[e("div",ut,[e("div",ct,[e("span",mt,a(t.$t("general.damage"))+": ",1),e("span",null,a(s.damageString),1)]),e("div",gt,[e("span",ft,a(t.$t("general.dps"))+": ",1),e("span",null,a(s.dpsString),1)]),e("div",pt,[e("span",ht,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t("general.team_dps"))+")",1)])])]),_:2},1024)]))),256))])]),_:1})]),l(m,{class:"my-1"},{default:n(()=>[e("h2",xt,a(t.$t("general.resonator")),1)]),_:1}),(r(!0),u(w,null,D(V,(s,c)=>(r(),u("div",yt,[l(m,{class:"my-1"},{default:n(()=>[e("h3",{id:`resonator${c}`},a(t.$t(s)),9,kt)]),_:2},1024),l(g,{class:"my-1",resonator:Z[c]},null,8,["resonator"]),l(m,{class:"my-1"},{default:n(()=>[e("h4",{id:`resonator${c}_skill_damage_distribution`},a(t.$t("template.damage_analysis.skill_damage_distribution")),9,St)]),_:2},1024),e("div",wt,[l(I,{class:"bg-blue-grey-darken-4 mx-1"},{default:n(()=>[e("div",Dt,[l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Pt,a(t.$t("general.template_id"))+": ",1),e("span",Ct,a(t.$t(C.value)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",It,a(t.$t("general.monster_id"))+": ",1),e("span",Ft,a(t.$t(d.value.resonator_template.monster_id)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Tt,a(t.$t("general.resonator_dps"))+": ",1),e("span",At,a(d.value.damage_distribution.getResonatorDPSString(s)),1)]),_:2},1024),(r(!0),u(w,null,D(d.value.damage_distribution.getResonatorSkillBars(s),_=>(r(),u("div",Mt,[l(M,{location:"bottom"},{activator:n(({props:F})=>[e("div",T({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},F),[_.percentage>.5?(r(),u("div",{key:0,class:y("barh d-flex flex-row-reverse align-center bg-white"),style:x(`width: ${_.percentageString};`)},[e("span",Kt,a(_.text)+" ("+a(_.percentageString)+") ",1)],4)):(r(),u("div",Ot,[e("div",{class:y("barh d-flex bg-white"),style:x(`width: ${_.percentageString};`)},null,4),e("span",zt,a(_.text)+" ("+a(_.percentageString)+") ",1)]))],16)]),default:n(()=>[e("div",Vt,[e("div",Bt,[e("span",null,a(_.data.type),1)]),e("div",Et,[e("span",Rt,a(t.$t("general.damage"))+": ",1),e("span",null,a(_.damageString),1)]),e("div",Ht,[e("span",Lt,a(t.$t("general.dps"))+": ",1),e("span",null,a(_.dpsString),1)]),e("div",Gt,[e("span",jt,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t(s))+" "+a(t.$t("general.dps"))+")",1)])])]),_:2},1024)]))),256))])]),_:2},1024)]),l(m,{class:"my-1"},{default:n(()=>[e("h4",{id:`resonator${c}_skill_type_damage_distribution`},a(t.$t("template.damage_analysis.skill_type_damage_distribution")),9,Ut)]),_:2},1024),e("div",qt,[l(I,{class:"bg-blue-grey-darken-4 mx-1"},{default:n(()=>[e("div",Jt,[l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Zt,a(t.$t("general.template_id"))+": ",1),e("span",Qt,a(t.$t(C.value)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Wt,a(t.$t("general.monster_id"))+": ",1),e("span",Xt,a(t.$t(d.value.resonator_template.monster_id)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Yt,a(t.$t("general.resonator_damage"))+": ",1),e("span",Nt,a(d.value.damage_distribution.getResonatorDamageString(s)),1)]),_:2},1024),(r(!0),u(w,null,D(d.value.damage_distribution.getResonatorSkillTypeBars(s),_=>(r(),u("div",ea,[l(M,{location:"bottom"},{activator:n(({props:F})=>[e("div",T({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},F),[_.percentage>.5?(r(),u("div",{key:0,class:y("barh d-flex flex-row-reverse align-center bg-white"),style:x(`width: ${_.percentageString};`)},[e("span",ia,a(t.$t(`general.resonator_skills.${_.text}`))+" ("+a(_.percentageString)+") ",1)],4)):(r(),u("div",ra,[e("div",{class:y("barh d-flex bg-white"),style:x(`width: ${_.percentageString};`)},null,4),e("span",da,a(t.$t(`general.resonator_skills.${_.text}`))+" ("+a(_.percentageString)+") ",1)]))],16)]),default:n(()=>[e("div",ta,[e("div",aa,[e("span",null,a(t.$t(`general.resonator_skills.${_.text}`)),1)]),e("div",sa,[e("span",na,a(t.$t("general.damage"))+": ",1),e("span",null,a(_.damageString),1)]),e("div",la,[e("span",oa,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t(s))+" "+a(t.$t("general.damage"))+")",1)])])]),_:2},1024)]))),256))])]),_:2},1024)]),l(m,{class:"my-1"},{default:n(()=>[e("h4",{id:`resonator${c}_skill_bonus_damage_distribution`},a(t.$t("template.damage_analysis.skill_bonus_damage_distribution")),9,_a)]),_:2},1024),e("div",ua,[l(I,{class:"bg-blue-grey-darken-4 mx-1"},{default:n(()=>[e("div",ca,[l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",ma,a(t.$t("general.template_id"))+": ",1),e("span",ga,a(t.$t(C.value)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",fa,a(t.$t("general.monster_id"))+": ",1),e("span",pa,a(t.$t(d.value.resonator_template.monster_id)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",ha,a(t.$t("general.resonator_damage"))+": ",1),e("span",va,a(d.value.damage_distribution.getResonatorDamageString(s)),1)]),_:2},1024),(r(!0),u(w,null,D(d.value.damage_distribution.getResonatorSkillBonusBars(s),_=>(r(),u("div",$a,[l(M,{location:"bottom"},{activator:n(({props:F})=>[e("div",T({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},F),[_.percentage>.5?(r(),u("div",{key:0,class:y("barh d-flex flex-row-reverse align-center bg-white"),style:x(`width: ${_.percentageString};`)},[e("span",Da,a(t.$t(`general.resonator_bonus.${_.text}`))+" ("+a(_.percentageString)+") ",1)],4)):(r(),u("div",Pa,[e("div",{class:y("barh d-flex bg-white"),style:x(`width: ${_.percentageString};`)},null,4),e("span",Ca,a(t.$t(`general.resonator_bonus.${_.text}`))+" ("+a(_.percentageString)+") ",1)]))],16)]),default:n(()=>[e("div",ba,[e("div",xa,[e("span",null,a(t.$t(`general.resonator_bonus.${_.text}`)),1)]),e("div",ya,[e("span",ka,a(t.$t("general.damage"))+": ",1),e("span",null,a(_.damageString),1)]),e("div",Sa,[e("span",wa,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t(s))+" "+a(t.$t("general.damage"))+")",1)])])]),_:2},1024)]))),256))])]),_:2},1024)])]))),256)),l(m,{class:"my-1"},{default:n(()=>[e("h2",Ia,a(t.$t("general.rotation")),1)]),_:1}),e("div",Fa,[d.value.resonator_template?(r(),L(h,{key:0,class:"my-1",rotation:d.value.resonator_template.getRotation(),jump:"calculated_row"},null,8,["rotation"])):P("",!0)]),l(m,{class:"my-1"},{default:n(()=>[e("h3",Ta,a(t.$t("template.damage_analysis.rotation_damage")),1)]),_:1}),d.value.calculated_rows.length>0?(r(),u("div",{class:"d-flex flex-column my-1 mb-4 w-100",key:d.value.calculated_rows.length},[l(I,{class:"bg-blue-grey-darken-4 mx-1"},{default:n(()=>[e("div",Aa,[l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ma,a(t.$t("general.template_id"))+": ",1),e("span",Va,a(t.$t(C.value)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ba,a(t.$t("general.monster_id"))+": ",1),e("span",Ea,a(t.$t(d.value.resonator_template.monster_id)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ra,a(t.$t("general.team_dps"))+": ",1),e("span",Ha,a(d.value.damage_distribution.getMaxTeamDPSString()),1)]),_:1}),(r(!0),u(w,null,D(d.value.getCalculatedRowBars(),(s,c)=>(r(),u("div",{class:"d-flex flex-row align-center ma-1",key:`${c}${s.data.skill_id}`},[e("img",{class:"resonator-icon mr-2",src:f(H).getIconSrcByName(s.data.resonator_name)},null,8,La),l(M,{width:"400",location:"bottom"},{activator:n(({props:_})=>[(r(),u("div",T({id:`rotation_damage${c}`,class:"d-flex flex-column align-start bg-grey-darken-4 w-100 cursor-pointer",ref_for:!0},_,{key:`${c}${s.data.skill_id}`,onClick:F=>f(b)(f($),`#calculated_row${c}`)}),[s.percentage>.5?(r(),u("div",{key:0,class:y(`barh d-flex flex-row-reverse align-center bg-${s.data.color}`),style:x(`width: ${s.percentageString};`)},[e("span",as,a(t.$t(s.text))+" ("+a(s.percentageString)+") ",1)],6)):(r(),u("div",ss,[e("div",{class:y(`barh d-flex bg-${s.data.color}`),style:x(`width: ${s.percentageString};`)},null,6),e("span",ns,a(t.$t(s.text))+" ("+a(s.percentageString)+") ",1)]))],16,ts))]),default:n(()=>[e("div",Ga,[e("div",ja,[e("span",null,a(t.$t("general.nth_row",{n:c+1})),1)]),e("div",Ka,[e("span",Oa,a(t.$t("general.resonator"))+": ",1),e("span",null,a(t.$t(s.data.resonator_name)),1)]),e("div",za,[e("span",Ua,a(t.$t("general.resonator_skill_id"))+": ",1),e("span",qa,a(t.$t(s.data.skill_id)),1)]),e("div",Ja,[e("span",Za,a(t.$t("general.damage"))+": ",1),e("span",null,a(f(A)(s.damage)),1)]),e("div",Qa,[e("span",Wa,a(t.$t("general.time_start"))+": ",1),e("span",null,a(t.$t(s.data.time_start)),1)]),e("div",Xa,[e("span",Ya,a(t.$t("general.time_end"))+": ",1),e("span",null,a(t.$t(s.data.time_end)),1)]),e("div",Na,[e("span",es,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t("general.damage"))+" "+a(f(A)(s.data.baseDamage))+")",1)])])]),_:2},1024)]))),128))])]),_:1})])):P("",!0),d.value.calculated_rows.length>0?(r(),u("div",{key:d.value.calculated_rows.length,class:"d-flex flex-column"},[l(m,{class:"my-1"},{default:n(()=>[e("h3",ls,a(t.$t("template.damage_analysis.detailed_damage")),1)]),_:1}),(r(!0),u(w,null,D(d.value.calculated_rows,(s,c)=>(r(),u("div",{id:`calculated_row${c}`,class:"d-flex flex-column my-1"},[l(m,{class:"my-1 align-center"},{default:n(()=>[e("img",{class:"resonator-icon mr-4",src:f(H).getIconSrcByName(s.resonator_name)},null,8,is),e("span",rs,a(t.$t(s.resonator_name)),1),e("span",null,a(t.$t("general.nth_row",{n:c+1})),1),e("div",ds,[W.value.includes(c.toString())?(r(),L(N,{key:0,class:"mr-2",onClick:_=>f(b)(f($),`#rotation${c}`)},{default:n(()=>[E(a(t.$t("general.back_to",{to:t.$t("general.rotation")})),1)]),_:2},1032,["onClick"])):P("",!0),l(N,{onClick:_=>f(b)(f($),`#rotation_damage${c}`)},{default:n(()=>[E(a(t.$t("general.back_to",{to:t.$t("template.damage_analysis.rotation_damage")})),1)]),_:2},1032,["onClick"])])]),_:2},1024),l(m,{class:"my-1"},{default:n(()=>[e("h4",null,a(t.$t("general.skill")),1)]),_:1}),l(G,{class:"table ma-1",items:ae(s),"disable-sort":"","hide-default-footer":"","items-per-page":2},null,8,["items"]),s.damage?(r(),u("div",_s,[l(m,{class:"my-1"},{default:n(()=>[e("h4",null,a(t.$t("general.damage")),1)]),_:1}),l(G,{class:"table ma-1",items:se(s),"disable-sort":"","hide-default-footer":"","items-per-page":2},null,8,["items"])])):P("",!0),s.buffs.length>0?(r(),u("div",us,[l(m,{class:"my-1"},{default:n(()=>[e("h4",null,a(t.$t("general.buff")),1)]),_:1}),l(G,{class:"table ma-1",items:ne(s),"disable-sort":"","hide-default-footer":"","items-per-page":22},null,8,["items"])])):P("",!0),s.damage?(r(),u("div",cs,[l(m,{class:"my-1"},{default:n(()=>[e("h4",null,a(t.$t("general.calculation")),1)]),_:1}),l(G,{class:"table ma-1","disable-sort":"","hide-default-footer":"","items-per-page":8},{default:n(()=>[e("tbody",null,[e("tr",null,[e("td",null,a(t.$t("calculation.region.attr")),1),e("td",null,a(le(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.skill_dmg")),1),e("td",null,a(oe(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.magnifier")),1),e("td",null,a(ie(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.amplifier")),1),e("td",null,a(re(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.bonus")),1),e("td",null,a(de(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.crit")),1),e("td",null,a(_e(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.def")),1),e("td",null,[o[9]||(o[9]=E(" × ")),e("div",ms,[e("span",null," (800 + 8 × "+a(s.resonator_level)+") ",1),o[8]||(o[8]=e("span",{class:"symbol"},"/",-1)),e("span",gs,[o[6]||(o[6]=E(" (")),e("span",null," 800 + 8 × "+a(s.resonator_level)+" + ",1),Y(s)?(r(),u("span",fs," (792 + (8 × "+a(s.monster_level)+")) "+a(Y(s)),1)):(r(),u("span",ps," (792 + (8 × "+a(s.monster_level)+")) ",1)),o[7]||(o[7]=E(") "))])])])]),e("tr",null,[e("td",null,a(t.$t("calculation.region.res")),1),e("td",null,a(ue(s)),1)])])]),_:2},1024)])):P("",!0)],8,os))),256))])):P("",!0)]),_:1})):P("",!0)]),_:1})}}}),Vs=$e(hs,[["__scopeId","data-v-1cb486be"]]);export{Vs as default};
