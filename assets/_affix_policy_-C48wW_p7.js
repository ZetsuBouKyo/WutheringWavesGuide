import{d as _e,a7 as me,ac as ce,Z as ge,a8 as M,$ as Q,a0 as fe,ad as pe,N as O,o as r,O as n,a9 as P,Q as B,a as l,c as m,a1 as e,a6 as d,a2 as a,F as D,a3 as T,a4 as g,a5 as I,ae as y,af as k,ag as N,ah as j,ab as he,M as $e}from"./index-DvajAIKH.js";import{_ as ve}from"./Rotation-CWAvNFxh.js";import{_ as be}from"./ResonatorInfo-BCEu7kxx.js";import{_ as ye}from"./ImageDownloadPanel.vue_vue_type_script_setup_true_lang-BC8vd6nn.js";import{_ as xe}from"./DocHeaders-C2T-hsSb.js";import{u as ke,S as R,B as Se}from"./resonator-CSqrEGja.js";import{u as we}from"./calculatedTemplate-Dz5LFdty.js";import{u as De}from"./damageAnalysis-BtX2iB6S.js";import{V as E,t as A,j as v}from"./VTooltip-DRhm89kA.js";import{V as z}from"./VDataTable-DmD1osB0.js";import{V as w}from"./VList-CzYfrP_r.js";import"./VTextField-BhqVJ7pZ.js";import"./index-CtB6fA4-.js";import"./tier-D3ExhUkS.js";import"./damage-CbSZT1xb.js";import"./template-CJ2TJcgK.js";import"./affix-NmzP8Gk5.js";import"./echoes-C9pZrC_V.js";import"./rotation-C4ymxYBb.js";import"./VAvatar-Jyztp93k.js";const Te={class:"d-flex flex-column"},Ce={class:"ml-4 text-truncate"},Pe={class:"ml-8 text-truncate"},Be={class:"ml-8 text-truncate"},Fe={class:"ml-8 text-truncate"},Ie={class:"ml-4 text-truncate"},Ee={class:"ml-4 text-truncate"},Ae={id:"team_damage_distribution"},Ve={class:"d-flex flex-column"},Me={class:"d-flex flex-column bg-blue-grey-darken-4"},je={class:"team-damage-distribution-header"},He={class:"team-damage-distribution-header-value text-truncate"},Le={class:"team-damage-distribution-header"},Oe={class:"team-damage-distribution-header-value text-truncate"},ze={class:"team-damage-distribution-header"},Ge={class:"team-damage-distribution-header-value text-truncate"},Ke={class:"team-damage-distribution-header"},Qe={class:"team-damage-distribution-header-value text-truncate"},Re={class:"d-flex flex-row align-center ma-1"},Ze=["src"],qe={class:"d-flex flex-column"},Je={class:"d-flex flex-row"},Ue={class:"d-flex flex-row"},We={class:"team-damage-distribution-tooltip-header"},Xe={class:"d-flex flex-row"},Ye={class:"team-damage-distribution-tooltip-header"},Ne={class:"d-flex flex-row"},et={class:"team-damage-distribution-tooltip-header"},tt={class:"mr-4 text-truncate text-end w-100"},at={key:1,class:"d-flex flex-row align-center w-100"},st={class:"ml-4 text-truncate w-100"},nt={id:"buff_damage_distribution"},lt={class:"d-flex flex-column"},ot={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},it={class:"team-damage-distribution-header"},rt={class:"team-damage-distribution-header-value text-truncate"},dt={class:"team-damage-distribution-header"},ut={class:"team-damage-distribution-header-value text-truncate"},_t={class:"team-damage-distribution-header"},mt={class:"team-damage-distribution-header-value text-truncate"},ct={class:"team-damage-distribution-header"},gt={class:"team-damage-distribution-header-value text-truncate"},ft={class:"d-flex flex-row align-center ma-1"},pt={class:"d-flex flex-column"},ht={class:"d-flex flex-row"},$t={class:"team-damage-distribution-tooltip-header"},vt={class:"d-flex flex-row"},bt={class:"team-damage-distribution-tooltip-header"},yt={class:"d-flex flex-row"},xt={class:"team-damage-distribution-tooltip-header"},kt={class:"mr-4 text-truncate text-end w-100"},St={key:1,class:"d-flex flex-row align-center w-100"},wt={class:"ml-4 text-truncate w-100"},Dt={id:"resonator"},Tt={class:"d-flex flex-column"},Ct=["id"],Pt=["id"],Bt={class:"d-flex flex-column w-100"},Ft={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},It={class:"team-damage-distribution-header"},Et={class:"team-damage-distribution-header-value text-truncate"},At={class:"team-damage-distribution-header"},Vt={class:"team-damage-distribution-header-value text-truncate"},Mt={class:"team-damage-distribution-header"},jt={class:"team-damage-distribution-header-value text-truncate"},Ht={class:"team-damage-distribution-header"},Lt={class:"team-damage-distribution-header-value text-truncate"},Ot={class:"team-damage-distribution-header"},zt={class:"team-damage-distribution-header-value text-truncate"},Gt={class:"d-flex flex-row align-center ma-1"},Kt={class:"d-flex flex-column"},Qt={class:"d-flex flex-row"},Rt={class:"d-flex flex-row"},Zt={class:"team-damage-distribution-tooltip-header"},qt={class:"d-flex flex-row"},Jt={class:"team-damage-distribution-tooltip-header"},Ut={class:"d-flex flex-row"},Wt={class:"team-damage-distribution-tooltip-header"},Xt={class:"mr-4 text-truncate text-end w-100"},Yt={key:1,class:"d-flex flex-row align-center w-100"},Nt={class:"ml-4 text-truncate w-100"},ea=["id"],ta={class:"d-flex flex-column w-100"},aa={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},sa={class:"team-damage-distribution-header"},na={class:"team-damage-distribution-header-value text-truncate"},la={class:"team-damage-distribution-header"},oa={class:"team-damage-distribution-header-value text-truncate"},ia={class:"team-damage-distribution-header"},ra={class:"team-damage-distribution-header-value text-truncate"},da={class:"team-damage-distribution-header"},ua={class:"team-damage-distribution-header-value text-truncate"},_a={class:"team-damage-distribution-header"},ma={class:"team-damage-distribution-header-value text-truncate"},ca={class:"d-flex flex-row align-center ma-1"},ga={class:"d-flex flex-column"},fa={class:"d-flex flex-row"},pa={class:"d-flex flex-row"},ha={class:"team-damage-distribution-tooltip-header"},$a={class:"d-flex flex-row"},va={class:"team-damage-distribution-tooltip-header"},ba={class:"mr-4 text-truncate text-end w-100"},ya={key:1,class:"d-flex flex-row align-center w-100"},xa={class:"ml-4 text-truncate w-100"},ka=["id"],Sa={class:"d-flex flex-column w-100"},wa={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},Da={class:"team-damage-distribution-header"},Ta={class:"team-damage-distribution-header-value text-truncate"},Ca={class:"team-damage-distribution-header"},Pa={class:"team-damage-distribution-header-value text-truncate"},Ba={class:"team-damage-distribution-header"},Fa={class:"team-damage-distribution-header-value text-truncate"},Ia={class:"team-damage-distribution-header"},Ea={class:"team-damage-distribution-header-value text-truncate"},Aa={class:"team-damage-distribution-header"},Va={class:"team-damage-distribution-header-value text-truncate"},Ma={class:"d-flex flex-row align-center ma-1"},ja={class:"d-flex flex-column"},Ha={class:"d-flex flex-row"},La={class:"d-flex flex-row"},Oa={class:"team-damage-distribution-tooltip-header"},za={class:"d-flex flex-row"},Ga={class:"team-damage-distribution-tooltip-header"},Ka={class:"mr-4 text-truncate text-end w-100"},Qa={key:1,class:"d-flex flex-row align-center w-100"},Ra={class:"ml-4 text-truncate w-100"},Za={id:"rotation"},qa={class:"d-flex flex-column my-1 mb-4 w-100"},Ja={id:"rotation_damage"},Ua={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},Wa={class:"team-damage-distribution-header"},Xa={class:"team-damage-distribution-header-value text-truncate"},Ya={class:"team-damage-distribution-header"},Na={class:"team-damage-distribution-header-value text-truncate"},es={class:"team-damage-distribution-header"},ts={class:"team-damage-distribution-header-value text-truncate"},as={class:"team-damage-distribution-header"},ss={class:"team-damage-distribution-header-value text-truncate"},ns=["src"],ls={class:"d-flex flex-column"},os={class:"d-flex flex-row"},is={class:"d-flex flex-row"},rs={class:"tooltip-header"},ds={class:"d-flex flex-row"},us={class:"tooltip-header"},_s={class:"text-truncate"},ms={class:"d-flex flex-row"},cs={class:"tooltip-header"},gs={class:"d-flex flex-row"},fs={class:"tooltip-header"},ps={class:"d-flex flex-row"},hs={class:"tooltip-header"},$s={class:"d-flex flex-row"},vs={class:"tooltip-header"},bs=["id","onClick"],ys={class:"mr-4 text-truncate text-end w-100"},xs={key:1,class:"d-flex flex-row align-center w-100"},ks={class:"ml-4 text-truncate w-100"},Ss={id:"detailed_damage",class:"mb-2"},ws=["id"],Ds={class:"d-flex flex-row my-1 align-center"},Ts=["src"],Cs={class:"mr-4"},Ps={class:"d-flex flex-row ml-auto"},Bs={key:0,class:"d-flex flex-column"},Fs={key:1,class:"d-flex flex-column"},Is={key:2,class:"d-flex flex-column"},Es={class:"frac"},As={class:"bottom"},Vs={key:0},Ms={key:1},js=_e({__name:"[affix_policy]",setup(Hs){const $=me(),{t:h}=ce(),Z=ge(),H=Z.params.id,G=Z.params.affix_policy,q=we(),ee=De(),L=ke(),S=M(""),C=M(""),V=Q([]),K=Q({}),J=Q([]),u=M(void 0),U=M([]),W=M([]);async function X(){if(!H||!G)return;await q.init(),S.value=q.getTemplateIdByHashedTemplateId(H),u.value=await ee.getDamageAnalysisByHashedTemplateId(H,G),W.value=u.value.resonator_template.getRotationIndices();const t=parseFloat(u.value.damage_distribution.damage),o=parseFloat(u.value.damage_distribution.getMaxTeamDPS());U.value=u.value.damage_distributions_with_buffs.getBars(t,o);const i=[];Object.keys(u.value.resonator_models).forEach(x=>{const b=u.value.resonator_models[x],s=b.name,f=u.value.resonator_template.getResonatorEcho1(s);b.echo1=f,J.push(b),V.push(s),i.push(h(s))}),V.forEach(async x=>{const b=await L.getElementEnByName(x);K[x]=b});const c=i.join(" | "),p=h(`general.${G}`);C.value=`${c} — ${p}`}function te(t){return[{[h("general.action")]:t.action,[h("general.resonator_skill_id")]:t.skill_id,[h("general.skill_base_attr")]:t.result_skill_base_attribute,[h("general.skill_bonus_type")]:t.resonator_skill_type_bonus,[h("general.hits")]:h("general.n_hits",{n:t.hits})}]}function ae(t){return[{[h("general.real_damage")]:A(parseFloat(t.real_dmg_no_crit)),[h("general.calculated_damage")]:A(parseFloat(t.damage_no_crit)),[h("general.real_crit_damage")]:A(parseFloat(t.real_dmg_crit)),[h("general.calculated_crit_damage")]:A(parseFloat(t.damage_crit))}]}function se(t){const o=t.buffs,i=[];return o.forEach(c=>{const p={[h("general.name")]:c.name,[h("general.buff_type")]:c.type,[h("general.stack")]:c.stack,[h("general.value")]:c.value};i.push(p)}),i}function ne(t){const o=t.result_skill_base_attribute;let i="",c="",p="";switch(o){case R.HP:i=t.result_hp,c=t.result_hp_p,p=t.result_hp_addition;break;case R.DEF:i=t.result_def,c=t.result_def_p,p=t.result_def_addition;break;case R.ATK:default:i=t.result_atk,c=t.result_atk_p,p=t.result_atk_addition}const x=parseFloat(c),b=parseFloat(p);if(c&&x!==0){const s=x.toString();i=`${i} × (1 + ${s})`}if(p&&b!==0){const s=b.toString();i=`${i} + ${s}`}return!c&&!p?i:`(${i})`}function le(t){let o=parseFloat(t.resonator_skill_dmg).toString();const i=t.buffs;let c=!1;return i.forEach(p=>{if(p.type===Se.SKILL_DMG_ADDITION){c=!0;const x=parseFloat(p.value),b=parseFloat(p.stack);o=`${o} + ${x} × ${b}`}}),c&&(o=`(${o})`),o=`× ${o}`,o}function oe(t){const o=parseFloat(t.result_magnifier);let i="1";if(o){const c=o.toString();i=`(${i} + ${c})`}return i=`× ${i}`,i}function ie(t){const o=parseFloat(t.result_amplifier);let i="1";if(o){const c=o.toString();i=`(${i} + ${c})`}return i=`× ${i}`,i}function re(t){const o=parseFloat(t.result_bonus);let i="1";if(o){const c=o.toString();i=`(${i} + ${c})`}return i=`× ${i}`,i}function de(t){const o=parseFloat(t.result_crit_dmg);let i="1.5";return o&&(i=o.toString()),i=`× ${i}`,i}function Y(t){const o=parseFloat(t.result_ignore_def);let i="";return o&&(i=`× (1 - ${o.toString()})`),i}function ue(t){const o=parseFloat(t.result_reduce_res);let c=`1 - ${parseFloat(t.monster_res).toString()}`;if(o){const p=o.toString();c=`(${c} + ${p})`}return c=`× (${c})`,c}return fe(async()=>{await X()}),pe(()=>H,async()=>{await X()}),(t,o)=>{const i=xe,c=ye,p=be,x=ve,b=he;return r(),O(b,null,{left:n(()=>[l(i,null,{default:n(()=>[l(w,{title:t.$t("template.damage_analysis.team_damage_distribution"),onClick:o[0]||(o[0]=s=>g(v)(g($),"#team_damage_distribution"))},null,8,["title"]),l(w,{title:t.$t("template.damage_analysis.buff_damage_distribution"),onClick:o[1]||(o[1]=s=>g(v)(g($),"#buff_damage_distribution"))},null,8,["title"]),l(w,{title:t.$t("general.resonator"),onClick:o[2]||(o[2]=s=>g(v)(g($),"#resonator"))},null,8,["title"]),(r(!0),m(D,null,T(V,(s,f)=>(r(),m("div",Te,[l(w,{onClick:_=>g(v)(g($),`#resonator${f}`)},{default:n(()=>[e("span",Ce,a(t.$t(s)),1)]),_:2},1032,["onClick"]),l(w,{onClick:_=>g(v)(g($),`#resonator${f}_skill_damage_distribution`)},{default:n(()=>[e("span",Pe,a(t.$t("template.damage_analysis.skill_damage_distribution")),1)]),_:2},1032,["onClick"]),l(w,{onClick:_=>g(v)(g($),`#resonator${f}_skill_type_damage_distribution`)},{default:n(()=>[e("span",Be,a(t.$t("template.damage_analysis.skill_type_damage_distribution")),1)]),_:2},1032,["onClick"]),l(w,{onClick:_=>g(v)(g($),`#resonator${f}_skill_bonus_damage_distribution`)},{default:n(()=>[e("span",Fe,a(t.$t("template.damage_analysis.skill_bonus_damage_distribution")),1)]),_:2},1032,["onClick"])]))),256)),l(w,{title:t.$t("general.rotation"),onClick:o[3]||(o[3]=s=>g(v)(g($),"#rotation"))},null,8,["title"]),l(w,{onClick:o[4]||(o[4]=s=>g(v)(g($),"#rotation_damage"))},{default:n(()=>[e("span",Ie,a(t.$t("template.damage_analysis.rotation_damage")),1)]),_:1}),l(w,{onClick:o[5]||(o[5]=s=>g(v)(g($),"#detailed_damage"))},{default:n(()=>[e("span",Ee,a(t.$t("template.damage_analysis.detailed_damage")),1)]),_:1})]),_:1})]),right:n(()=>[u.value?(r(),O(B,{key:0},{default:n(()=>[l(d,{class:"mt-1 mb-2"},{default:n(()=>[e("h1",null,a(C.value),1)]),_:1}),l(d,{class:"my-1"},{default:n(()=>[e("h2",Ae,a(t.$t("template.damage_analysis.team_damage_distribution")),1)]),_:1}),l(c,{class:"my-1 mb-4",fname:`${t.$t(S.value)}-${t.$t("template.damage_analysis.team_damage_distribution")}`},{default:n(()=>[e("div",Ve,[l(B,{class:"bg-blue-grey-darken-4"},{default:n(()=>[e("div",Me,[l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",je,a(t.$t("general.template_id"))+": ",1),e("span",He,a(t.$t(S.value)),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Le,a(t.$t("general.team"))+": ",1),e("span",Oe,a(C.value),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",ze,a(t.$t("general.monster_id"))+": ",1),e("span",Ge,a(t.$t(u.value.resonator_template.monster_id)),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ke,a(t.$t("general.team_dps"))+": ",1),e("span",Qe,a(u.value.damage_distribution.getTeamDPSString()),1)]),_:1}),(r(!0),m(D,null,T(V,s=>(r(),m("div",Re,[e("img",{class:"resonator-icon mr-2",src:g(L).getIconSrcByName(s)},null,8,Ze),l(E,{location:"bottom"},{activator:n(({props:f})=>[e("div",I({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},f),[u.value.damage_distribution.getResonatorMaxDPSPercentage(s)>.5?(r(),m("div",{key:0,class:k(`barh d-flex flex-row-reverse align-center bg-${K[s]}`),style:y(`width: ${u.value.damage_distribution.getResonatorMaxDPSPercentageString(s)};`)},[e("span",tt," DPS: "+a(u.value.damage_distribution.getResonatorDPSString(s))+" ("+a(u.value.damage_distribution.getResonatorMaxDPSPercentageString(s))+") ",1)],6)):(r(),m("div",at,[e("div",{class:k(`barh d-flex bg-${K[s]}`),style:y(`width: ${u.value.damage_distribution.getResonatorMaxDPSPercentageString(s)};`)},null,6),e("span",st," DPS: "+a(u.value.damage_distribution.getResonatorDPSString(s))+" ("+a(u.value.damage_distribution.getResonatorMaxDPSPercentageString(s))+") ",1)]))],16)]),default:n(()=>[e("div",qe,[e("div",Je,[e("span",null,a(t.$t(s)),1)]),e("div",Ue,[e("span",We,a(t.$t("general.damage"))+": ",1),e("span",null,a(u.value.damage_distribution.getResonatorDamageString(s)),1)]),e("div",Xe,[e("span",Ye,a(t.$t("general.dps"))+": ",1),e("span",null,a(u.value.damage_distribution.getResonatorDPSString(s)),1)]),e("div",Ne,[e("span",et,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t("general.team_dps"))+")",1)])])]),_:2},1024)]))),256))])]),_:1})])]),_:1},8,["fname"]),l(d,{class:"my-1"},{default:n(()=>[e("h2",nt,a(t.$t("template.damage_analysis.buff_damage_distribution")),1)]),_:1}),l(c,{class:"my-1 mb-4",fname:`${t.$t(S.value)}-${t.$t("template.damage_analysis.buff_damage_distribution")}`},{default:n(()=>[e("div",lt,[l(B,{class:"bg-blue-grey-darken-4"},{default:n(()=>[e("div",ot,[l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",it,a(t.$t("general.template_id"))+": ",1),e("span",rt,a(t.$t(S.value)),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",dt,a(t.$t("general.team"))+": ",1),e("span",ut,a(C.value),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",_t,a(t.$t("general.monster_id"))+": ",1),e("span",mt,a(t.$t(u.value.resonator_template.monster_id)),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",ct,a(t.$t("general.team_dps"))+": ",1),e("span",gt,a(u.value.damage_distribution.getTeamDPSString()),1)]),_:1}),(r(!0),m(D,null,T(U.value,s=>(r(),m("div",ft,[l(E,{location:"bottom"},{activator:n(({props:f})=>[e("div",I({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},f),[s.percentage>.5?(r(),m("div",{key:0,class:k("barh d-flex flex-row-reverse align-center bg-white"),style:y(`width: ${s.percentageString};`)},[e("span",kt,a(s.text)+" ("+a(s.percentageString)+") ",1)],4)):(r(),m("div",St,[e("div",{class:k("barh d-flex bg-white"),style:y(`width: ${s.percentageString};`)},null,4),e("span",wt,a(s.text)+" ("+a(s.percentageString)+") ",1)]))],16)]),default:n(()=>[e("div",pt,[e("div",ht,[e("span",$t,a(t.$t("general.damage"))+": ",1),e("span",null,a(s.damageString),1)]),e("div",vt,[e("span",bt,a(t.$t("general.dps"))+": ",1),e("span",null,a(s.dpsString),1)]),e("div",yt,[e("span",xt,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t("general.team_dps"))+")",1)])])]),_:2},1024)]))),256))])]),_:1})])]),_:1},8,["fname"]),l(d,{class:"my-1"},{default:n(()=>[e("h2",Dt,a(t.$t("general.resonator")),1)]),_:1}),(r(!0),m(D,null,T(V,(s,f)=>(r(),m("div",Tt,[l(d,{class:"my-1"},{default:n(()=>[e("h3",{id:`resonator${f}`},a(t.$t(s)),9,Ct)]),_:2},1024),l(p,{class:"my-1",resonator:J[f]},null,8,["resonator"]),l(d,{class:"my-1"},{default:n(()=>[e("h4",{id:`resonator${f}_skill_damage_distribution`},a(t.$t("template.damage_analysis.skill_damage_distribution")),9,Pt)]),_:2},1024),l(c,{class:"my-1 mb-4",fname:`${t.$t(s)}-${t.$t("template.damage_analysis.skill_damage_distribution")}`},{default:n(()=>[e("div",Bt,[l(B,{class:"bg-blue-grey-darken-4"},{default:n(()=>[e("div",Ft,[l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",It,a(t.$t("general.template_id"))+": ",1),e("span",Et,a(t.$t(S.value)),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",At,a(t.$t("general.team"))+": ",1),e("span",Vt,a(C.value),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Mt,a(t.$t("general.monster_id"))+": ",1),e("span",jt,a(t.$t(u.value.resonator_template.monster_id)),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ht,a(t.$t("general.resonator"))+": ",1),e("span",Lt,a(t.$t(s)),1)]),_:2},1024),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ot,a(t.$t("general.resonator_dps"))+": ",1),e("span",zt,a(u.value.damage_distribution.getResonatorDPSString(s)),1)]),_:2},1024),(r(!0),m(D,null,T(u.value.damage_distribution.getResonatorSkillBars(s),_=>(r(),m("div",Gt,[l(E,{location:"bottom"},{activator:n(({props:F})=>[e("div",I({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},F),[_.percentage>.5?(r(),m("div",{key:0,class:k("barh d-flex flex-row-reverse align-center bg-white"),style:y(`width: ${_.percentageString};`)},[e("span",Xt,a(_.text)+" ("+a(_.percentageString)+") ",1)],4)):(r(),m("div",Yt,[e("div",{class:k("barh d-flex bg-white"),style:y(`width: ${_.percentageString};`)},null,4),e("span",Nt,a(_.text)+" ("+a(_.percentageString)+") ",1)]))],16)]),default:n(()=>[e("div",Kt,[e("div",Qt,[e("span",null,a(_.data.type),1)]),e("div",Rt,[e("span",Zt,a(t.$t("general.damage"))+": ",1),e("span",null,a(_.damageString),1)]),e("div",qt,[e("span",Jt,a(t.$t("general.dps"))+": ",1),e("span",null,a(_.dpsString),1)]),e("div",Ut,[e("span",Wt,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t(s))+" "+a(t.$t("general.dps"))+")",1)])])]),_:2},1024)]))),256))])]),_:2},1024)])]),_:2},1032,["fname"]),l(d,{class:"my-1"},{default:n(()=>[e("h4",{id:`resonator${f}_skill_type_damage_distribution`},a(t.$t("template.damage_analysis.skill_type_damage_distribution")),9,ea)]),_:2},1024),l(c,{class:"my-1 mb-4",fname:`${t.$t(s)}-${t.$t("template.damage_analysis.skill_type_damage_distribution")}`},{default:n(()=>[e("div",ta,[l(B,{class:"bg-blue-grey-darken-4"},{default:n(()=>[e("div",aa,[l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",sa,a(t.$t("general.template_id"))+": ",1),e("span",na,a(t.$t(S.value)),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",la,a(t.$t("general.team"))+": ",1),e("span",oa,a(C.value),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",ia,a(t.$t("general.monster_id"))+": ",1),e("span",ra,a(t.$t(u.value.resonator_template.monster_id)),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",da,a(t.$t("general.resonator"))+": ",1),e("span",ua,a(t.$t(s)),1)]),_:2},1024),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",_a,a(t.$t("general.resonator_damage"))+": ",1),e("span",ma,a(u.value.damage_distribution.getResonatorDamageString(s)),1)]),_:2},1024),(r(!0),m(D,null,T(u.value.damage_distribution.getResonatorSkillTypeBars(s),_=>(r(),m("div",ca,[l(E,{location:"bottom"},{activator:n(({props:F})=>[e("div",I({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},F),[_.percentage>.5?(r(),m("div",{key:0,class:k("barh d-flex flex-row-reverse align-center bg-white"),style:y(`width: ${_.percentageString};`)},[e("span",ba,a(t.$t(`general.resonator_skills.${_.text}`))+" ("+a(_.percentageString)+") ",1)],4)):(r(),m("div",ya,[e("div",{class:k("barh d-flex bg-white"),style:y(`width: ${_.percentageString};`)},null,4),e("span",xa,a(t.$t(`general.resonator_skills.${_.text}`))+" ("+a(_.percentageString)+") ",1)]))],16)]),default:n(()=>[e("div",ga,[e("div",fa,[e("span",null,a(t.$t(`general.resonator_skills.${_.text}`)),1)]),e("div",pa,[e("span",ha,a(t.$t("general.damage"))+": ",1),e("span",null,a(_.damageString),1)]),e("div",$a,[e("span",va,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t(s))+" "+a(t.$t("general.damage"))+")",1)])])]),_:2},1024)]))),256))])]),_:2},1024)])]),_:2},1032,["fname"]),l(d,{class:"my-1"},{default:n(()=>[e("h4",{id:`resonator${f}_skill_bonus_damage_distribution`},a(t.$t("template.damage_analysis.skill_bonus_damage_distribution")),9,ka)]),_:2},1024),l(c,{class:"my-1 mb-4",fname:`${t.$t(s)}-${t.$t("template.damage_analysis.skill_bonus_damage_distribution")}`},{default:n(()=>[e("div",Sa,[l(B,{class:"bg-blue-grey-darken-4"},{default:n(()=>[e("div",wa,[l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Da,a(t.$t("general.template_id"))+": ",1),e("span",Ta,a(t.$t(S.value)),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ca,a(t.$t("general.team"))+": ",1),e("span",Pa,a(C.value),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ba,a(t.$t("general.monster_id"))+": ",1),e("span",Fa,a(t.$t(u.value.resonator_template.monster_id)),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ia,a(t.$t("general.resonator"))+": ",1),e("span",Ea,a(t.$t(s)),1)]),_:2},1024),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Aa,a(t.$t("general.resonator_damage"))+": ",1),e("span",Va,a(u.value.damage_distribution.getResonatorDamageString(s)),1)]),_:2},1024),(r(!0),m(D,null,T(u.value.damage_distribution.getResonatorSkillBonusBars(s),_=>(r(),m("div",Ma,[l(E,{location:"bottom"},{activator:n(({props:F})=>[e("div",I({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},F),[_.percentage>.5?(r(),m("div",{key:0,class:"barh d-flex flex-row-reverse align-center bg-white",style:y(`width: ${_.percentageString};`)},[e("span",Ka,a(t.$t(`general.resonator_bonus.${_.text}`))+" ("+a(_.percentageString)+") ",1)],4)):(r(),m("div",Qa,[e("div",{class:k("barh d-flex bg-white"),style:y(`width: ${_.percentageString};`)},null,4),e("span",Ra,a(t.$t(`general.resonator_bonus.${_.text}`))+" ("+a(_.percentageString)+") ",1)]))],16)]),default:n(()=>[e("div",ja,[e("div",Ha,[e("span",null,a(t.$t(`general.resonator_bonus.${_.text}`)),1)]),e("div",La,[e("span",Oa,a(t.$t("general.damage"))+": ",1),e("span",null,a(_.damageString),1)]),e("div",za,[e("span",Ga,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t(s))+" "+a(t.$t("general.damage"))+")",1)])])]),_:2},1024)]))),256))])]),_:2},1024)])]),_:2},1032,["fname"])]))),256)),l(d,{class:"my-1"},{default:n(()=>[e("h2",Za,a(t.$t("general.rotation")),1)]),_:1}),e("div",qa,[u.value.resonator_template?(r(),O(x,{key:0,class:"my-1",rotation:u.value.resonator_template.getRotation(),jump:"calculated_row"},null,8,["rotation"])):P("",!0)]),l(d,{class:"my-1"},{default:n(()=>[e("h3",Ja,a(t.$t("template.damage_analysis.rotation_damage")),1)]),_:1}),l(c,{class:"my-1 mb-4",fname:`${t.$t(S.value)}-${t.$t("template.damage_analysis.rotation_damage")}`},{default:n(()=>[u.value.calculated_rows.length>0?(r(),m("div",{class:"d-flex flex-column w-100",key:u.value.calculated_rows.length},[l(B,{class:"bg-blue-grey-darken-4"},{default:n(()=>[e("div",Ua,[l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Wa,a(t.$t("general.template_id"))+": ",1),e("span",Xa,a(t.$t(S.value)),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ya,a(t.$t("general.team"))+": ",1),e("span",Na,a(C.value),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",es,a(t.$t("general.monster_id"))+": ",1),e("span",ts,a(t.$t(u.value.resonator_template.monster_id)),1)]),_:1}),l(d,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",as,a(t.$t("general.team_dps"))+": ",1),e("span",ss,a(u.value.damage_distribution.getMaxTeamDPSString()),1)]),_:1}),(r(!0),m(D,null,T(u.value.getCalculatedRowBars(),(s,f)=>(r(),m("div",{class:"d-flex flex-row align-center ma-1",key:`${f}${s.data.skill_id}`},[e("img",{class:"resonator-icon mr-2",src:g(L).getIconSrcByName(s.data.resonator_name)},null,8,ns),l(E,{width:"400",location:"bottom"},{activator:n(({props:_})=>[(r(),m("div",I({id:`rotation_damage${f}`,class:"d-flex flex-column align-start bg-grey-darken-4 w-100 cursor-pointer",ref_for:!0},_,{key:`${f}${s.data.skill_id}`,onClick:F=>g(v)(g($),`#calculated_row${f}`)}),[s.percentage>.5?(r(),m("div",{key:0,class:k(`barh d-flex flex-row-reverse align-center bg-${s.data.color}`),style:y(`width: ${s.percentageString};`)},[e("span",ys,a(t.$t(s.text))+" ("+a(s.percentageString)+") ",1)],6)):(r(),m("div",xs,[e("div",{class:k(`barh d-flex bg-${s.data.color}`),style:y(`width: ${s.percentageString};`)},null,6),e("span",ks,a(t.$t(s.text))+" ("+a(s.percentageString)+") ",1)]))],16,bs))]),default:n(()=>[e("div",ls,[e("div",os,[e("span",null,a(t.$t("general.nth_row",{n:f+1})),1)]),e("div",is,[e("span",rs,a(t.$t("general.resonator"))+": ",1),e("span",null,a(t.$t(s.data.resonator_name)),1)]),e("div",ds,[e("span",us,a(t.$t("general.resonator_skill_id"))+": ",1),e("span",_s,a(t.$t(s.data.skill_id)),1)]),e("div",ms,[e("span",cs,a(t.$t("general.damage"))+": ",1),e("span",null,a(g(A)(s.damage)),1)]),e("div",gs,[e("span",fs,a(t.$t("general.time_start"))+": ",1),e("span",null,a(t.$t(s.data.time_start)),1)]),e("div",ps,[e("span",hs,a(t.$t("general.time_end"))+": ",1),e("span",null,a(t.$t(s.data.time_end)),1)]),e("div",$s,[e("span",vs,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t("general.damage"))+" "+a(g(A)(s.data.baseDamage))+")",1)])])]),_:2},1024)]))),128))])]),_:1})])):P("",!0)]),_:1},8,["fname"]),u.value.calculated_rows.length>0?(r(),m("div",{key:u.value.calculated_rows.length,class:"d-flex flex-column"},[l(d,{class:"my-1"},{default:n(()=>[e("h3",Ss,a(t.$t("template.damage_analysis.detailed_damage")),1)]),_:1}),(r(!0),m(D,null,T(u.value.calculated_rows,(s,f)=>(r(),m("div",{id:`calculated_row${f}`,class:"d-flex flex-column my-1"},[e("div",Ds,[e("img",{class:"resonator-icon mr-4",src:g(L).getIconSrcByName(s.resonator_name)},null,8,Ts),e("span",Cs,a(t.$t(s.resonator_name)),1),e("span",null,a(t.$t("general.nth_row",{n:f+1})),1),e("div",Ps,[W.value.includes(f.toString())?(r(),O(N,{key:0,class:"mr-2",onClick:_=>g(v)(g($),`#rotation${f}`)},{default:n(()=>[j(a(t.$t("general.back_to",{to:t.$t("general.rotation")})),1)]),_:2},1032,["onClick"])):P("",!0),l(N,{onClick:_=>g(v)(g($),`#rotation_damage${f}`)},{default:n(()=>[j(a(t.$t("general.back_to",{to:t.$t("template.damage_analysis.rotation_damage")})),1)]),_:2},1032,["onClick"])])]),l(d,{class:"my-1"},{default:n(()=>[e("h4",null,a(t.$t("general.skill")),1)]),_:1}),l(z,{class:"table my-1",items:te(s),"disable-sort":"","hide-default-footer":"","items-per-page":2},null,8,["items"]),s.damage?(r(),m("div",Bs,[l(d,{class:"my-1"},{default:n(()=>[e("h4",null,a(t.$t("general.damage")),1)]),_:1}),l(z,{class:"table my-1",items:ae(s),"disable-sort":"","hide-default-footer":"","items-per-page":2},null,8,["items"])])):P("",!0),s.buffs.length>0?(r(),m("div",Fs,[l(d,{class:"my-1"},{default:n(()=>[e("h4",null,a(t.$t("general.buff")),1)]),_:1}),l(z,{class:"table my-1",items:se(s),"disable-sort":"","hide-default-footer":"","items-per-page":22},null,8,["items"])])):P("",!0),s.damage?(r(),m("div",Is,[l(d,{class:"my-1"},{default:n(()=>[e("h4",null,a(t.$t("general.calculation")),1)]),_:1}),l(z,{class:"table my-1","disable-sort":"","hide-default-footer":"","items-per-page":8},{default:n(()=>[e("tbody",null,[e("tr",null,[e("td",null,a(t.$t("calculation.region.attr")),1),e("td",null,a(ne(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.skill_dmg")),1),e("td",null,a(le(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.magnifier")),1),e("td",null,a(oe(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.amplifier")),1),e("td",null,a(ie(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.bonus")),1),e("td",null,a(re(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.crit")),1),e("td",null,a(de(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.def")),1),e("td",null,[o[9]||(o[9]=j(" × ")),e("div",Es,[e("span",null," (800 + 8 × "+a(s.resonator_level)+") ",1),o[8]||(o[8]=e("span",{class:"symbol"},"/",-1)),e("span",As,[o[6]||(o[6]=j(" (")),e("span",null," 800 + 8 × "+a(s.resonator_level)+" + ",1),Y(s)?(r(),m("span",Vs," (792 + (8 × "+a(s.monster_level)+")) "+a(Y(s)),1)):(r(),m("span",Ms," (792 + (8 × "+a(s.monster_level)+")) ",1)),o[7]||(o[7]=j(") "))])])])]),e("tr",null,[e("td",null,a(t.$t("calculation.region.res")),1),e("td",null,a(ue(s)),1)])])]),_:2},1024)])):P("",!0)],8,ws))),256))])):P("",!0)]),_:1})):P("",!0)]),_:1})}}}),ln=$e(js,[["__scopeId","data-v-aa791988"]]);export{ln as default};
