import{d as ue,aL as _e,ap as ce,aM as me,ab as A,aJ as z,aK as ge,af as fe,N as L,o as r,O as n,a4 as D,Q as C,a as l,W as e,c as _,U as m,Y as a,F as S,a3 as w,a2 as f,a8 as B,aP as b,aQ as x,aq as Z,S as M,aO as pe,M as he}from"./index-D2PA1ChH.js";import{_ as $e}from"./Rotation-CAeh_ZYI.js";import{_ as ve}from"./ResonatorInfo-CsKocgfK.js";import{_ as be}from"./DocHeaders-_h6j5D9Z.js";import{u as xe,e as G,B as ye}from"./resonator-BfpK1VIC.js";import{u as ke}from"./calculateTemplate-DgpgP46X.js";import{u as Se}from"./damageAnalysis-BkkydZC0.js";import{t as F,j as v}from"./utils-DU-kJE25.js";import{V as I}from"./VTooltip-EldaYqbk.js";import{V as H}from"./VDataTable-BKmAqJ19.js";import{a as k}from"./VList-BpFZ_Icw.js";import"./tier-D3ExhUkS.js";import"./damage-DuT73tVp.js";import"./template-t7iI6Eh1.js";import"./VOverlay-DFrs2ZjT.js";import"./filter-DcpyrUq2.js";import"./VAvatar-B3QAar57.js";const we={class:"d-flex flex-column"},De={class:"ml-4 text-truncate"},Te={class:"ml-8 text-truncate"},Ce={class:"ml-8 text-truncate"},Pe={class:"ml-8 text-truncate"},Be={class:"ml-4 text-truncate"},Fe={class:"ml-4 text-truncate"},Ie={id:"team_damage_distribution"},Ee={class:"d-flex flex-column my-1 mb-4"},Ae={class:"d-flex flex-column bg-blue-grey-darken-4"},Me={class:"team-damage-distribution-header"},Ve={class:"team-damage-distribution-header-value text-truncate"},je={class:"team-damage-distribution-header"},Le={class:"team-damage-distribution-header-value text-truncate"},He={class:"team-damage-distribution-header"},Oe={class:"team-damage-distribution-header-value text-truncate"},Ke={class:"d-flex flex-row align-center ma-1"},ze=["src"],Ge={class:"d-flex flex-column"},Qe={class:"d-flex flex-row"},qe={class:"d-flex flex-row"},Je={class:"team-damage-distribution-tooltip-header"},Re={class:"d-flex flex-row"},Ue={class:"team-damage-distribution-tooltip-header"},We={class:"d-flex flex-row"},Ye={class:"team-damage-distribution-tooltip-header"},Xe={class:"mr-4 text-truncate"},Ze={key:1,class:"d-flex flex-row align-center w-100"},Ne={class:"ml-4 text-truncate"},et={id:"buff_damage_distribution"},tt={class:"d-flex flex-column my-1 mb-4"},at={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},st={class:"team-damage-distribution-header"},nt={class:"team-damage-distribution-header-value text-truncate"},lt={class:"team-damage-distribution-header"},ot={class:"team-damage-distribution-header-value text-truncate"},it={class:"team-damage-distribution-header"},rt={class:"team-damage-distribution-header-value text-truncate"},dt={class:"d-flex flex-row align-center ma-1"},ut={class:"d-flex flex-column"},_t={class:"d-flex flex-row"},ct={class:"team-damage-distribution-tooltip-header"},mt={class:"d-flex flex-row"},gt={class:"team-damage-distribution-tooltip-header"},ft={class:"d-flex flex-row"},pt={class:"team-damage-distribution-tooltip-header"},ht={class:"mr-4 text-truncate"},$t={key:1,class:"d-flex flex-row align-center w-100"},vt={class:"ml-4 text-truncate"},bt={id:"resonator"},xt={class:"d-flex flex-column"},yt=["id"],kt=["id"],St={class:"d-flex flex-column my-1 mb-4 w-100"},wt={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},Dt={class:"team-damage-distribution-header"},Tt={class:"team-damage-distribution-header-value text-truncate"},Ct={class:"team-damage-distribution-header"},Pt={class:"team-damage-distribution-header-value text-truncate"},Bt={class:"team-damage-distribution-header"},Ft={class:"team-damage-distribution-header-value text-truncate"},It={class:"d-flex flex-row align-center ma-1"},Et={class:"d-flex flex-column"},At={class:"d-flex flex-row"},Mt={class:"d-flex flex-row"},Vt={class:"team-damage-distribution-tooltip-header"},jt={class:"d-flex flex-row"},Lt={class:"team-damage-distribution-tooltip-header"},Ht={class:"d-flex flex-row"},Ot={class:"team-damage-distribution-tooltip-header"},Kt={class:"mr-4 text-truncate"},zt={key:1,class:"d-flex flex-row align-center w-100"},Gt={class:"ml-4 text-truncate"},Qt=["id"],qt={class:"d-flex flex-column my-1 mb-4 w-100"},Jt={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},Rt={class:"team-damage-distribution-header"},Ut={class:"team-damage-distribution-header-value text-truncate"},Wt={class:"team-damage-distribution-header"},Yt={class:"team-damage-distribution-header-value text-truncate"},Xt={class:"team-damage-distribution-header"},Zt={class:"team-damage-distribution-header-value text-truncate"},Nt={class:"d-flex flex-row align-center ma-1"},ea={class:"d-flex flex-column"},ta={class:"d-flex flex-row"},aa={class:"d-flex flex-row"},sa={class:"team-damage-distribution-tooltip-header"},na={class:"d-flex flex-row"},la={class:"team-damage-distribution-tooltip-header"},oa={class:"mr-4 text-truncate"},ia={key:1,class:"d-flex flex-row align-center w-100"},ra={class:"ml-4 text-truncate"},da=["id"],ua={class:"d-flex flex-column my-1 mb-4 w-100"},_a={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},ca={class:"team-damage-distribution-header"},ma={class:"team-damage-distribution-header-value text-truncate"},ga={class:"team-damage-distribution-header"},fa={class:"team-damage-distribution-header-value text-truncate"},pa={class:"team-damage-distribution-header"},ha={class:"team-damage-distribution-header-value text-truncate"},$a={class:"d-flex flex-row align-center ma-1"},va={class:"d-flex flex-column"},ba={class:"d-flex flex-row"},xa={class:"d-flex flex-row"},ya={class:"team-damage-distribution-tooltip-header"},ka={class:"d-flex flex-row"},Sa={class:"team-damage-distribution-tooltip-header"},wa={class:"mr-4 text-truncate"},Da={key:1,class:"d-flex flex-row align-center w-100"},Ta={class:"ml-4 text-truncate"},Ca={id:"rotation"},Pa={class:"d-flex flex-column my-1 mb-4 w-100"},Ba={id:"rotation_damage"},Fa={class:"d-flex flex-column bg-blue-grey-darken-4 text-truncate"},Ia={class:"team-damage-distribution-header"},Ea={class:"team-damage-distribution-header-value text-truncate"},Aa={class:"team-damage-distribution-header"},Ma={class:"team-damage-distribution-header-value text-truncate"},Va={class:"team-damage-distribution-header"},ja={class:"team-damage-distribution-header-value text-truncate"},La=["src"],Ha={class:"d-flex flex-column"},Oa={class:"d-flex flex-row"},Ka={class:"d-flex flex-row"},za={class:"tooltip-header"},Ga={class:"d-flex flex-row"},Qa={class:"tooltip-header"},qa={class:"text-truncate"},Ja={class:"d-flex flex-row"},Ra={class:"tooltip-header"},Ua={class:"d-flex flex-row"},Wa={class:"tooltip-header"},Ya={class:"d-flex flex-row"},Xa={class:"tooltip-header"},Za={class:"d-flex flex-row"},Na={class:"tooltip-header"},es=["id","onClick"],ts={class:"mr-4 text-truncate"},as={key:1,class:"d-flex flex-row align-center w-100"},ss={class:"ml-4 text-truncate"},ns={id:"detailed_damage",class:"mb-2"},ls=["id"],os=["src"],is={class:"mr-4"},rs={class:"d-flex flex-row ml-auto mr-2"},ds={key:0,class:"d-flex flex-column"},us={key:1,class:"d-flex flex-column"},_s={key:2,class:"d-flex flex-column"},cs={class:"frac"},ms={class:"bottom"},gs={key:0},fs={key:1},ps=ue({__name:"[affix_policy]",setup(hs){const $=_e(),{t:h}=ce(),Q=me(),V=Q.params.id,O=Q.params.affix_policy,q=ke(),N=Se(),j=xe(),T=A(""),J=A(""),E=z([]),K=z({}),R=z([]),d=A(void 0),U=A([]),W=A([]);async function Y(){if(!V||!O)return;await q.init(),T.value=q.getTemplateIdByHashedTemplateId(V),d.value=await N.getDamageAnalysisByHashedTemplateId(V,O),W.value=d.value.resonator_template.getRotationIndices();const t=parseFloat(d.value.damage_distribution.damage),o=parseFloat(d.value.damage_distribution.getMaxTeamDPS());U.value=d.value.damage_distributions_with_buffs.getBars(t,o);const i=[];Object.keys(d.value.resonator_models).forEach(y=>{const s=d.value.resonator_models[y],c=s.name,u=d.value.resonator_template.getResonatorEcho1(c);s.echo1=u,R.push(s),E.push(c),i.push(h(c))}),E.forEach(async y=>{const s=await j.getElementEnByName(y);K[y]=s});const g=i.join(" | "),p=h(`general.${O}`);J.value=`${g} — ${p}`}function ee(t){return[{[h("general.action")]:t.action,[h("general.resonator_skill_id")]:t.skill_id,[h("general.skill_base_attr")]:t.result_skill_base_attribute,[h("general.skill_bonus_type")]:t.resonator_skill_type_bonus,[h("general.hits")]:h("general.n_hits",{n:t.hits})}]}function te(t){return[{[h("general.real_damage")]:F(parseFloat(t.real_dmg_no_crit)),[h("general.calculated_damage")]:F(parseFloat(t.damage_no_crit)),[h("general.real_crit_damage")]:F(parseFloat(t.real_dmg_crit)),[h("general.calculated_crit_damage")]:F(parseFloat(t.damage_crit))}]}function ae(t){const o=t.buffs,i=[];return o.forEach(g=>{const p={[h("general.name")]:g.name,[h("general.buff_type")]:g.type,[h("general.stack")]:g.stack,[h("general.value")]:g.value};i.push(p)}),i}function se(t){const o=t.result_skill_base_attribute;let i="",g="",p="";switch(o){case G.HP:i=t.result_hp,g=t.result_hp_p,p=t.result_hp_addition;break;case G.DEF:i=t.result_def,g=t.result_def_p,p=t.result_def_addition;break;case G.ATK:default:i=t.result_atk,g=t.result_atk_p,p=t.result_atk_addition}const y=parseFloat(g),s=parseFloat(p);if(g&&y!==0){const c=y.toString();i=`${i} × (1 + ${c})`}if(p&&s!==0){const c=s.toString();i=`${i} + ${c}`}return!g&&!p?i:`(${i})`}function ne(t){let o=parseFloat(t.resonator_skill_dmg).toString();const i=t.buffs;let g=!1;return i.forEach(p=>{if(p.type===ye.SKILL_DMG_ADDITION){g=!0;const y=parseFloat(p.value),s=parseFloat(p.stack);o=`${o} + ${y} × ${s}`}}),g&&(o=`(${o})`),o=`× ${o}`,o}function le(t){const o=parseFloat(t.result_magnifier);let i="1";if(o){const g=o.toString();i=`(${i} + ${g})`}return i=`× ${i}`,i}function oe(t){const o=parseFloat(t.result_amplifier);let i="1";if(o){const g=o.toString();i=`(${i} + ${g})`}return i=`× ${i}`,i}function ie(t){const o=parseFloat(t.result_bonus);let i="1";if(o){const g=o.toString();i=`(${i} + ${g})`}return i=`× ${i}`,i}function re(t){const o=parseFloat(t.result_crit_dmg);let i="1.5";return o&&(i=o.toString()),i=`× ${i}`,i}function X(t){const o=parseFloat(t.result_ignore_def);let i="";return o&&(i=`× (1 - ${o.toString()})`),i}function de(t){const o=parseFloat(t.result_reduce_res);let g=`1 - ${parseFloat(t.monster_res).toString()}`;if(o){const p=o.toString();g=`(${g} + ${p})`}return g=`× (${g})`,g}return ge(async()=>{await Y()}),fe(()=>V,async()=>{await Y()}),(t,o)=>{const i=be,g=ve,p=$e,y=pe;return r(),L(y,null,{left:n(()=>[l(i,null,{default:n(()=>[l(k,{title:t.$t("template.damage_analysis.team_damage_distribution"),onClick:o[0]||(o[0]=s=>f(v)(f($),"#team_damage_distribution"))},null,8,["title"]),l(k,{title:t.$t("template.damage_analysis.buff_damage_distribution"),onClick:o[1]||(o[1]=s=>f(v)(f($),"#buff_damage_distribution"))},null,8,["title"]),l(k,{title:t.$t("general.resonator"),onClick:o[2]||(o[2]=s=>f(v)(f($),"#resonator"))},null,8,["title"]),(r(!0),_(S,null,w(E,(s,c)=>(r(),_("div",we,[l(k,{onClick:u=>f(v)(f($),`#resonator${c}`)},{default:n(()=>[e("span",De,a(t.$t(s)),1)]),_:2},1032,["onClick"]),l(k,{onClick:u=>f(v)(f($),`#resonator${c}_skill_damage_distribution`)},{default:n(()=>[e("span",Te,a(t.$t("template.damage_analysis.skill_damage_distribution")),1)]),_:2},1032,["onClick"]),l(k,{onClick:u=>f(v)(f($),`#resonator${c}_skill_type_damage_distribution`)},{default:n(()=>[e("span",Ce,a(t.$t("template.damage_analysis.skill_type_damage_distribution")),1)]),_:2},1032,["onClick"]),l(k,{onClick:u=>f(v)(f($),`#resonator${c}_skill_bonus_damage_distribution`)},{default:n(()=>[e("span",Pe,a(t.$t("template.damage_analysis.skill_bonus_damage_distribution")),1)]),_:2},1032,["onClick"])]))),256)),l(k,{title:t.$t("general.rotation"),onClick:o[3]||(o[3]=s=>f(v)(f($),"#rotation"))},null,8,["title"]),l(k,{onClick:o[4]||(o[4]=s=>f(v)(f($),"#rotation_damage"))},{default:n(()=>[e("span",Be,a(t.$t("template.damage_analysis.rotation_damage")),1)]),_:1}),l(k,{onClick:o[5]||(o[5]=s=>f(v)(f($),"#detailed_damage"))},{default:n(()=>[e("span",Fe,a(t.$t("template.damage_analysis.detailed_damage")),1)]),_:1})]),_:1})]),right:n(()=>[d.value?(r(),L(C,{key:0},{default:n(()=>[l(m,{class:"mt-1 mb-2"},{default:n(()=>[e("h1",null,a(J.value),1)]),_:1}),l(m,{class:"my-1"},{default:n(()=>[e("h2",Ie,a(t.$t("template.damage_analysis.team_damage_distribution")),1)]),_:1}),e("div",Ee,[l(C,{class:"bg-blue-grey-darken-4 mx-1"},{default:n(()=>[e("div",Ae,[l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Me,a(t.$t("general.template_id"))+": ",1),e("span",Ve,a(t.$t(T.value)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",je,a(t.$t("general.monster_id"))+": ",1),e("span",Le,a(t.$t(d.value.resonator_template.monster_id)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",He,a(t.$t("general.team_dps"))+": ",1),e("span",Oe,a(d.value.damage_distribution.getTeamDPSString()),1)]),_:1}),(r(!0),_(S,null,w(E,s=>(r(),_("div",Ke,[e("img",{class:"resonator-icon mr-2",src:f(j).getIconSrcByName(s)},null,8,ze),l(I,{location:"bottom"},{activator:n(({props:c})=>[e("div",B({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},c),[d.value.damage_distribution.getResonatorMaxDPSPercentage(s)>.5?(r(),_("div",{key:0,class:x(`barh d-flex flex-row-reverse align-center bg-${K[s]}`),style:b(`width: ${d.value.damage_distribution.getResonatorMaxDPSPercentageString(s)};`)},[e("span",Xe," DPS: "+a(d.value.damage_distribution.getResonatorDPSString(s))+" ("+a(d.value.damage_distribution.getResonatorMaxDPSPercentageString(s))+") ",1)],6)):(r(),_("div",Ze,[e("div",{class:x(`barh d-flex bg-${K[s]}`),style:b(`width: ${d.value.damage_distribution.getResonatorMaxDPSPercentageString(s)};`)},null,6),e("span",Ne," DPS: "+a(d.value.damage_distribution.getResonatorDPSString(s))+" ("+a(d.value.damage_distribution.getResonatorMaxDPSPercentageString(s))+") ",1)]))],16)]),default:n(()=>[e("div",Ge,[e("div",Qe,[e("span",null,a(t.$t(s)),1)]),e("div",qe,[e("span",Je,a(t.$t("general.damage"))+": ",1),e("span",null,a(d.value.damage_distribution.getResonatorDamageString(s)),1)]),e("div",Re,[e("span",Ue,a(t.$t("general.dps"))+": ",1),e("span",null,a(d.value.damage_distribution.getResonatorDPSString(s)),1)]),e("div",We,[e("span",Ye,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t("general.team_dps"))+")",1)])])]),_:2},1024)]))),256))])]),_:1})]),l(m,{class:"my-1"},{default:n(()=>[e("h2",et,a(t.$t("template.damage_analysis.buff_damage_distribution")),1)]),_:1}),e("div",tt,[l(C,{class:"bg-blue-grey-darken-4 mx-1"},{default:n(()=>[e("div",at,[l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",st,a(t.$t("general.template_id"))+": ",1),e("span",nt,a(t.$t(T.value)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",lt,a(t.$t("general.monster_id"))+": ",1),e("span",ot,a(t.$t(d.value.resonator_template.monster_id)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",it,a(t.$t("general.team_dps"))+": ",1),e("span",rt,a(d.value.damage_distribution.getTeamDPSString()),1)]),_:1}),(r(!0),_(S,null,w(U.value,s=>(r(),_("div",dt,[l(I,{location:"bottom"},{activator:n(({props:c})=>[e("div",B({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},c),[s.percentage>.5?(r(),_("div",{key:0,class:x("barh d-flex flex-row-reverse align-center bg-white"),style:b(`width: ${s.percentageString};`)},[e("span",ht,a(s.text)+" ("+a(s.percentageString)+") ",1)],4)):(r(),_("div",$t,[e("div",{class:x("barh d-flex bg-white"),style:b(`width: ${s.percentageString};`)},null,4),e("span",vt,a(s.text)+" ("+a(s.percentageString)+") ",1)]))],16)]),default:n(()=>[e("div",ut,[e("div",_t,[e("span",ct,a(t.$t("general.damage"))+": ",1),e("span",null,a(s.damageString),1)]),e("div",mt,[e("span",gt,a(t.$t("general.dps"))+": ",1),e("span",null,a(s.dpsString),1)]),e("div",ft,[e("span",pt,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t("general.team_dps"))+")",1)])])]),_:2},1024)]))),256))])]),_:1})]),l(m,{class:"my-1"},{default:n(()=>[e("h2",bt,a(t.$t("general.resonator")),1)]),_:1}),(r(!0),_(S,null,w(E,(s,c)=>(r(),_("div",xt,[l(m,{class:"my-1"},{default:n(()=>[e("h3",{id:`resonator${c}`},a(t.$t(s)),9,yt)]),_:2},1024),l(g,{class:"my-1",resonator:R[c]},null,8,["resonator"]),l(m,{class:"my-1"},{default:n(()=>[e("h4",{id:`resonator${c}_skill_damage_distribution`},a(t.$t("template.damage_analysis.skill_damage_distribution")),9,kt)]),_:2},1024),e("div",St,[l(C,{class:"bg-blue-grey-darken-4 mx-1"},{default:n(()=>[e("div",wt,[l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Dt,a(t.$t("general.template_id"))+": ",1),e("span",Tt,a(t.$t(T.value)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ct,a(t.$t("general.monster_id"))+": ",1),e("span",Pt,a(t.$t(d.value.resonator_template.monster_id)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Bt,a(t.$t("general.resonator_dps"))+": ",1),e("span",Ft,a(d.value.damage_distribution.getResonatorDPSString(s)),1)]),_:2},1024),(r(!0),_(S,null,w(d.value.damage_distribution.getResonatorSkillBars(s),u=>(r(),_("div",It,[l(I,{location:"bottom"},{activator:n(({props:P})=>[e("div",B({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},P),[u.percentage>.5?(r(),_("div",{key:0,class:x("barh d-flex flex-row-reverse align-center bg-white"),style:b(`width: ${u.percentageString};`)},[e("span",Kt,a(u.text)+" ("+a(u.percentageString)+") ",1)],4)):(r(),_("div",zt,[e("div",{class:x("barh d-flex bg-white"),style:b(`width: ${u.percentageString};`)},null,4),e("span",Gt,a(u.text)+" ("+a(u.percentageString)+") ",1)]))],16)]),default:n(()=>[e("div",Et,[e("div",At,[e("span",null,a(u.data.type),1)]),e("div",Mt,[e("span",Vt,a(t.$t("general.damage"))+": ",1),e("span",null,a(u.damageString),1)]),e("div",jt,[e("span",Lt,a(t.$t("general.dps"))+": ",1),e("span",null,a(u.dpsString),1)]),e("div",Ht,[e("span",Ot,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t(s))+" "+a(t.$t("general.dps"))+")",1)])])]),_:2},1024)]))),256))])]),_:2},1024)]),l(m,{class:"my-1"},{default:n(()=>[e("h4",{id:`resonator${c}_skill_type_damage_distribution`},a(t.$t("template.damage_analysis.skill_type_damage_distribution")),9,Qt)]),_:2},1024),e("div",qt,[l(C,{class:"bg-blue-grey-darken-4 mx-1"},{default:n(()=>[e("div",Jt,[l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Rt,a(t.$t("general.template_id"))+": ",1),e("span",Ut,a(t.$t(T.value)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Wt,a(t.$t("general.monster_id"))+": ",1),e("span",Yt,a(t.$t(d.value.resonator_template.monster_id)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Xt,a(t.$t("general.resonator_damage"))+": ",1),e("span",Zt,a(d.value.damage_distribution.getResonatorDamageString(s)),1)]),_:2},1024),(r(!0),_(S,null,w(d.value.damage_distribution.getResonatorSkillTypeBars(s),u=>(r(),_("div",Nt,[l(I,{location:"bottom"},{activator:n(({props:P})=>[e("div",B({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},P),[u.percentage>.5?(r(),_("div",{key:0,class:x("barh d-flex flex-row-reverse align-center bg-white"),style:b(`width: ${u.percentageString};`)},[e("span",oa,a(t.$t(`general.resonator_skills.${u.text}`))+" ("+a(u.percentageString)+") ",1)],4)):(r(),_("div",ia,[e("div",{class:x("barh d-flex bg-white"),style:b(`width: ${u.percentageString};`)},null,4),e("span",ra,a(t.$t(`general.resonator_skills.${u.text}`))+" ("+a(u.percentageString)+") ",1)]))],16)]),default:n(()=>[e("div",ea,[e("div",ta,[e("span",null,a(t.$t(`general.resonator_skills.${u.text}`)),1)]),e("div",aa,[e("span",sa,a(t.$t("general.damage"))+": ",1),e("span",null,a(u.damageString),1)]),e("div",na,[e("span",la,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t(s))+" "+a(t.$t("general.damage"))+")",1)])])]),_:2},1024)]))),256))])]),_:2},1024)]),l(m,{class:"my-1"},{default:n(()=>[e("h4",{id:`resonator${c}_skill_bonus_damage_distribution`},a(t.$t("template.damage_analysis.skill_bonus_damage_distribution")),9,da)]),_:2},1024),e("div",ua,[l(C,{class:"bg-blue-grey-darken-4 mx-1"},{default:n(()=>[e("div",_a,[l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",ca,a(t.$t("general.template_id"))+": ",1),e("span",ma,a(t.$t(T.value)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",ga,a(t.$t("general.monster_id"))+": ",1),e("span",fa,a(t.$t(d.value.resonator_template.monster_id)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",pa,a(t.$t("general.resonator_damage"))+": ",1),e("span",ha,a(d.value.damage_distribution.getResonatorDamageString(s)),1)]),_:2},1024),(r(!0),_(S,null,w(d.value.damage_distribution.getResonatorSkillBonusBars(s),u=>(r(),_("div",$a,[l(I,{location:"bottom"},{activator:n(({props:P})=>[e("div",B({class:"d-flex flex-column align-start bg-grey-darken-4 w-100",ref_for:!0},P),[u.percentage>.5?(r(),_("div",{key:0,class:x("barh d-flex flex-row-reverse align-center bg-white"),style:b(`width: ${u.percentageString};`)},[e("span",wa,a(t.$t(`general.resonator_bonus.${u.text}`))+" ("+a(u.percentageString)+") ",1)],4)):(r(),_("div",Da,[e("div",{class:x("barh d-flex bg-white"),style:b(`width: ${u.percentageString};`)},null,4),e("span",Ta,a(t.$t(`general.resonator_bonus.${u.text}`))+" ("+a(u.percentageString)+") ",1)]))],16)]),default:n(()=>[e("div",va,[e("div",ba,[e("span",null,a(t.$t(`general.resonator_bonus.${u.text}`)),1)]),e("div",xa,[e("span",ya,a(t.$t("general.damage"))+": ",1),e("span",null,a(u.damageString),1)]),e("div",ka,[e("span",Sa,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t(s))+" "+a(t.$t("general.damage"))+")",1)])])]),_:2},1024)]))),256))])]),_:2},1024)])]))),256)),l(m,{class:"my-1"},{default:n(()=>[e("h2",Ca,a(t.$t("general.rotation")),1)]),_:1}),e("div",Pa,[d.value.resonator_template?(r(),L(p,{key:0,class:"my-1",rotation:d.value.resonator_template.getRotation(),jump:"calculated_row"},null,8,["rotation"])):D("",!0)]),l(m,{class:"my-1"},{default:n(()=>[e("h3",Ba,a(t.$t("template.damage_analysis.rotation_damage")),1)]),_:1}),d.value.calculated_rows.length>0?(r(),_("div",{class:"d-flex flex-column my-1 mb-4 w-100",key:d.value.calculated_rows.length},[l(C,{class:"bg-blue-grey-darken-4 mx-1"},{default:n(()=>[e("div",Fa,[l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Ia,a(t.$t("general.template_id"))+": ",1),e("span",Ea,a(t.$t(T.value)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Aa,a(t.$t("general.monster_id"))+": ",1),e("span",Ma,a(t.$t(d.value.resonator_template.monster_id)),1)]),_:1}),l(m,{class:"ma-1 text-truncate"},{default:n(()=>[e("span",Va,a(t.$t("general.team_dps"))+": ",1),e("span",ja,a(d.value.damage_distribution.getMaxTeamDPSString()),1)]),_:1}),(r(!0),_(S,null,w(d.value.getCalculatedRowBars(),(s,c)=>(r(),_("div",{class:"d-flex flex-row align-center ma-1",key:`${c}${s.data.skill_id}`},[e("img",{class:"resonator-icon mr-2",src:f(j).getIconSrcByName(s.data.resonator_name)},null,8,La),l(I,{width:"400",location:"bottom"},{activator:n(({props:u})=>[(r(),_("div",B({id:`rotation_damage${c}`,class:"d-flex flex-column align-start bg-grey-darken-4 w-100 cursor-pointer",ref_for:!0},u,{key:`${c}${s.data.skill_id}`,onClick:P=>f(v)(f($),`#calculated_row${c}`)}),[s.percentage>.5?(r(),_("div",{key:0,class:x(`barh d-flex flex-row-reverse align-center bg-${s.data.color}`),style:b(`width: ${s.percentageString};`)},[e("span",ts,a(t.$t(s.text))+" ("+a(s.percentageString)+") ",1)],6)):(r(),_("div",as,[e("div",{class:x(`barh d-flex bg-${s.data.color}`),style:b(`width: ${s.percentageString};`)},null,6),e("span",ss,a(t.$t(s.text))+" ("+a(s.percentageString)+") ",1)]))],16,es))]),default:n(()=>[e("div",Ha,[e("div",Oa,[e("span",null,a(t.$t("general.nth_row",{n:c+1})),1)]),e("div",Ka,[e("span",za,a(t.$t("general.resonator"))+": ",1),e("span",null,a(t.$t(s.data.resonator_name)),1)]),e("div",Ga,[e("span",Qa,a(t.$t("general.resonator_skill_id"))+": ",1),e("span",qa,a(t.$t(s.data.skill_id)),1)]),e("div",Ja,[e("span",Ra,a(t.$t("general.damage"))+": ",1),e("span",null,a(f(F)(s.damage)),1)]),e("div",Ua,[e("span",Wa,a(t.$t("general.time_start"))+": ",1),e("span",null,a(t.$t(s.data.time_start)),1)]),e("div",Ya,[e("span",Xa,a(t.$t("general.time_end"))+": ",1),e("span",null,a(t.$t(s.data.time_end)),1)]),e("div",Za,[e("span",Na,"("+a(t.$t("general.denominator"))+": ",1),e("span",null,a(t.$t("general.damage"))+" "+a(f(F)(s.data.baseDamage))+")",1)])])]),_:2},1024)]))),128))])]),_:1})])):D("",!0),d.value.calculated_rows.length>0?(r(),_("div",{key:d.value.calculated_rows.length,class:"d-flex flex-column"},[l(m,{class:"my-1"},{default:n(()=>[e("h3",ns,a(t.$t("template.damage_analysis.detailed_damage")),1)]),_:1}),(r(!0),_(S,null,w(d.value.calculated_rows,(s,c)=>(r(),_("div",{id:`calculated_row${c}`,class:"d-flex flex-column my-1"},[l(m,{class:"my-1 align-center"},{default:n(()=>[e("img",{class:"resonator-icon mr-4",src:f(j).getIconSrcByName(s.resonator_name)},null,8,os),e("span",is,a(t.$t(s.resonator_name)),1),e("span",null,a(t.$t("general.nth_row",{n:c+1})),1),e("div",rs,[W.value.includes(c.toString())?(r(),L(Z,{key:0,class:"mr-2",onClick:u=>f(v)(f($),`#rotation${c}`)},{default:n(()=>[M(a(t.$t("general.back_to",{to:t.$t("general.rotation")})),1)]),_:2},1032,["onClick"])):D("",!0),l(Z,{onClick:u=>f(v)(f($),`#rotation_damage${c}`)},{default:n(()=>[M(a(t.$t("general.back_to",{to:t.$t("template.damage_analysis.rotation_damage")})),1)]),_:2},1032,["onClick"])])]),_:2},1024),l(m,{class:"my-1"},{default:n(()=>[e("h4",null,a(t.$t("general.skill")),1)]),_:1}),l(H,{class:"table ma-1",items:ee(s),"disable-sort":"","hide-default-footer":"","items-per-page":2},null,8,["items"]),s.damage?(r(),_("div",ds,[l(m,{class:"my-1"},{default:n(()=>[e("h4",null,a(t.$t("general.damage")),1)]),_:1}),l(H,{class:"table ma-1",items:te(s),"disable-sort":"","hide-default-footer":"","items-per-page":2},null,8,["items"])])):D("",!0),s.buffs.length>0?(r(),_("div",us,[l(m,{class:"my-1"},{default:n(()=>[e("h4",null,a(t.$t("general.buff")),1)]),_:1}),l(H,{class:"table ma-1",items:ae(s),"disable-sort":"","hide-default-footer":"","items-per-page":22},null,8,["items"])])):D("",!0),s.damage?(r(),_("div",_s,[l(m,{class:"my-1"},{default:n(()=>[e("h4",null,a(t.$t("general.calculation")),1)]),_:1}),l(H,{class:"table ma-1","disable-sort":"","hide-default-footer":"","items-per-page":8},{default:n(()=>[e("tbody",null,[e("tr",null,[e("td",null,a(t.$t("calculation.region.attr")),1),e("td",null,a(se(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.skill_dmg")),1),e("td",null,a(ne(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.magnifier")),1),e("td",null,a(le(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.amplifier")),1),e("td",null,a(oe(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.bonus")),1),e("td",null,a(ie(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.crit")),1),e("td",null,a(re(s)),1)]),e("tr",null,[e("td",null,a(t.$t("calculation.region.def")),1),e("td",null,[o[9]||(o[9]=M(" × ")),e("div",cs,[e("span",null," (800 + 8 × "+a(s.resonator_level)+") ",1),o[8]||(o[8]=e("span",{class:"symbol"},"/",-1)),e("span",ms,[o[6]||(o[6]=M(" (")),e("span",null," 800 + 8 × "+a(s.resonator_level)+" + ",1),X(s)?(r(),_("span",gs," (792 + (8 × "+a(s.monster_level)+")) "+a(X(s)),1)):(r(),_("span",fs," (792 + (8 × "+a(s.monster_level)+")) ",1)),o[7]||(o[7]=M(") "))])])])]),e("tr",null,[e("td",null,a(t.$t("calculation.region.res")),1),e("td",null,a(de(s)),1)])])]),_:2},1024)])):D("",!0)],8,ls))),256))])):D("",!0)]),_:1})):D("",!0)]),_:1})}}}),Ms=he(ps,[["__scopeId","data-v-55d7bcd8"]]);export{Ms as default};
