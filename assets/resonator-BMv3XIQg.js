var le=Object.defineProperty;var ue=(n,e,s)=>e in n?le(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var t=(n,e,s)=>ue(n,typeof e!="symbol"?e+"":e,s);import{ai as U}from"./index-C8UyTDqa.js";import{d,g as ie,c as p}from"./utils-CVNhfOQy.js";/*!
  * mande v2.0.8
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */function me(n){let e=Object.keys(n).map(s=>[s,n[s]].map(encodeURIComponent).join("=")).join("&");return e?"?"+e:""}let fe=/^\/+/;function Ne(n,e){return n+(e&&(n.endsWith("/")?e.replace(fe,""):e.startsWith("/")?e:"/"+e))}function he(n){return Object.keys(n).reduce((e,s)=>(n[s]!=null&&(e[s]=n[s]),e),{})}const B={responseAs:"json",headers:{Accept:"application/json"},stringify:JSON.stringify};function re(n,e={},s){function a(m,c,r,N={}){let f,E;typeof c=="object"?(f="",N=r||c||{},E=c):(f=c,E=r);let S={...B,...u,method:m,...N,headers:he({"Content-Type":E instanceof FormData?null:"application/json",...B.headers,...u.headers,...N.headers})},_e={...B.query,...u.query,...N.query},{responseAs:T}=S;f=Ne(n,typeof f=="number"?""+f:f||""),f+=me(_e),m[0]==="P"&&E&&!S.body&&(S.body=E instanceof FormData?E:S.stringify(E));const v=typeof fetch<"u"?fetch:s;if(!v)throw new Error("No fetch function exists. Make sure to include a polyfill on Node.js.");return v(f,S).then(h=>Promise.all([h,T==="response"?h:h[T]().catch(()=>null)])).then(([h,$])=>{if(h.status>=200&&h.status<300)return T!=="response"&&h.status==204?null:$;let y=new Error(h.statusText);throw y.response=h,y.body=$,y})}const u={query:{},headers:{},...e};return{options:u,post:a.bind(null,"POST"),put:a.bind(null,"PUT"),patch:a.bind(null,"PATCH"),get:(m,c)=>a("GET",m,null,c),delete:(m,c)=>a("DELETE",m,null,c)}}const g={GLACIO:"冷凝",FUSION:"熱熔",ELECTRO:"導電",AERO:"氣動",SPECTRO:"衍射",HAVOC:"湮滅"},be={ATTR:"基礎屬性"},at={SKILL_DMG_ADDITION:"skill_dmg_addition",MAGNIFIER:"magnifier",AMPLIFIER:"amplifier",BONUS:"bonus",HP_P:"hp_p",HP:"hp",ATK_P:"atk_p",ATK:"atk",DEF_P:"def_p",DEF:"def",CRIT_RATE:"crit_rate",CRIT_DMG:"crit_dmg",IGNORE_DEF:"ignore_def",REDUCE_RES:"reduce_res"},_={SKILL_DMG_ADDITION:"招式倍率",MAGNIFIER:"倍率",AMPLIFIER:"加深",BONUS:"加成",HP_P:"生命百分比",HP:"生命",ATK_P:"攻擊百分比",ATK:"攻擊",DEF_P:"防禦百分比",DEF:"防禦",CRIT_RATE:"暴擊",CRIT_DMG:"暴擊傷害",IGNORE_DEF:"忽視防禦",REDUCE_RES:"抗性降低",ENERGY_REGEN:"共鳴效率"},b=g,l={BASIC:"普攻",HEAVY:"重擊",SKILL:"共鳴技能",LIBERATION:"共鳴解放",INTRO:"變奏",OUTRO:"延奏",ECHO:"聲骸",COORDINATED_ATTACK:"協同攻擊",SPECTRO_FRAZZLE:"光噪效應",HEALING:"治療",NONE:"無"},Ee={HP:"生",ATK:"攻",DEF:"防",CRIT_RATE:"暴",CRIT_DMG:"暴傷",ENERGY_REGEN:"共效",BONUS_RESONANCE_SKILL:"共技",BONUS_BASIC_ATTACK:"普",BONUS_HEAVY_ATTACK:"重",BONUS_RESONANCE_LIBERATION:"共解",BONUS_HEALING:"治"},ge={...Ee,...b},o={CRIT_RATE:"crit_rate",CRIT_DMG:"crit_dmg",HP:"hp",HP_P:"hp_p",ATK:"atk",ATK_P:"atk_p",DEF:"def",DEF_P:"def_p",ENERGY_REGEN:"energy_regen",BONUS_PHYSICS:"bonus_physics",BONUS_GLACIO:"bonus_glacio",BONUS_FUSION:"bonus_fusion",BONUS_ELECTRO:"bonus_electro",BONUS_AERO:"bonus_aero",BONUS_SPECTRO:"bonus_spectro",BONUS_HAVOC:"bonus_havoc",BONUS_RESONANCE_SKILL:"bonus_resonance_skill",BONUS_BASIC_ATTACK:"bonus_basic_attack",BONUS_HEAVY_ATTACK:"bonus_heavy_attack",BONUS_RESONANCE_LIBERATION:"bonus_resonance_liberation",BONUS_HEALING:"bonus_healing"},Se={CRIT_RATE:"暴擊",CRIT_DMG:"暴擊傷害",HP:"生命",HP_P:"生命百分比",ATK:"攻擊",ATK_P:"攻擊百分比",DEF:"防禦",DEF_P:"防禦百分比",ENERGY_REGEN:"共鳴效率",BONUS_PHYSICS:"物理傷害加成",BONUS_GLACIO:"冷凝傷害加成",BONUS_FUSION:"熱熔傷害加成",BONUS_ELECTRO:"導電傷害加成",BONUS_AERO:"氣動傷害加成",BONUS_SPECTRO:"衍射傷害加成",BONUS_HAVOC:"湮滅傷害加成",BONUS_RESONANCE_SKILL:"共鳴技能傷害加成",BONUS_BASIC_ATTACK:"普攻傷害加成",BONUS_HEAVY_ATTACK:"重擊傷害加成",BONUS_RESONANCE_LIBERATION:"共鳴解放傷害加成",BONUS_HEALING:"治療效果加成"},O={BASE:"基礎",ATTR:be.ATTR,MONSTER:"怪物",STAT:"屬性加成",RESONATOR:"共鳴者",WEAPON:"武器",ECHO:"聲骸",SONATA:"合鳴",MANUAL:"手動"},ot={PASSIVE:"被動",TUNE:"諧振",MAIN_SLOT:"首位裝配",MAIN_AFFIX:"主詞條",SUB_AFFIX:"副詞條"},Oe={HP:"生命",ATK:"攻擊",DEF:"防禦"},pe={NORMAL_ATTACK:"常態攻擊",RESONANCE_SKILL:"共鳴技能",FORTE_CIRCUIT:"共鳴回路",RESONANCE_LIBERATION:"共鳴解放",INTRO_SKILL:"變奏技能",OUTRO_SKILL:"延奏技能"},i={...pe,INHERENT_SKILL_1:"固有技能1",INHERENT_SKILL_2:"固有技能2",CHAIN1:"共鳴鏈1",CHAIN2:"共鳴鏈2",CHAIN3:"共鳴鏈3",CHAIN4:"共鳴鏈4",CHAIN5:"共鳴鏈5",CHAIN6:"共鳴鏈6"};class L{constructor(e={}){t(this,"no","");t(this,"name","");t(this,"star","");t(this,"type","");t(this,"passive",{name:"",description:"",passive_buffs:[]});t(this,"attrs",[]);!e||Object.keys(e).length===0||Object.assign(this,e)}duplicate(){const e=new L;return e.no=this.no,e.name=this.name,e.star=this.star,e.type=this.type,e.passive=JSON.parse(JSON.stringify(this.passive)),e.attrs=JSON.parse(JSON.stringify(this.attrs)),e}getMaxLevel(){const e=this.attrs;let s=d(0);for(const a of e){const u=d(a.lv);s=Math.max(s,u)}return s.toString()}getAtk(e){const s=this.attrs;for(const a of s)if(e===a.lv)return a.atk;return""}getStatBonus(e){const s=this.attrs;for(const a of s)if(e===a.lv){const u=Object.keys(a);for(const m of u)if(m!=="lv"&&m!=="atk")return{[m]:a[m]}}return{}}getPassiveStatBonus(e){const s=this.passive.passive_buffs;if(s.length===0)return{};const a=parseInt(e)-1;return a<0||a>4?{}:s[a]}getHtmlInfo(){let e="";return this.name&&(e=`【${this.name}】`),this.passive.name&&(e=`${e} ${this.passive.name}`),this.passive.description&&(e=`${e}

${this.passive.description}`),e=e.replace(/\n/g,"<br />"),e}}const I={教學長刃:"21010011","原初長刃·朴石":"21010012","暗夜長刃·玄明":"21010013",浩境粼光:"21010015",蒼鱗千嶂:"21010016","源能長刃·測壹":"21010023",異響空靈:"21010024",時和歲稔:"21010026","重破刃-41型":"21010034","遠行者長刃·辟路":"21010043",永夜長明:"21010044","戍關長刃·定軍":"21010053",鈞天正音:"21010063",東落:"21010064",紋秋:"21010074",凋亡頻移:"21010084",容赦的沉思錄:"21010094",教學迅刀:"21020011","原初迅刀·鳴雨":"21020012","暗夜迅刀·黑閃":"21020013",千古洑流:"21020015",赫奕流明:"21020016",心之錨:"21020017","源能迅刀·測貳":"21020023",行進序曲:"21020024",裁春:"21020026","瞬斬刀-18型":"21020034",不滅航路:"21020036","遠行者迅刀·旅跡":"21020043",不歸孤軍:"21020044","戍關迅刀·鎮海":"21020053",西升:"21020064",飛景:"21020074",永續坍縮:"21020084",風流的寓言詩:"21020094",教學佩槍:"21030011","原初佩槍·穿林":"21030012","暗夜佩槍·暗星":"21030013",停駐之煙:"21030015",死與舞:"21030016","源能佩槍·測叄":"21030023",華彩樂段:"21030024","穿擊槍-26型":"21030034","遠行者佩槍·洞察":"21030043",無眠烈火:"21030044","戍關佩槍·平雲":"21030053",飛逝:"21030064",奔雷:"21030074",悖論噴流:"21030084",敘別的羅曼史:"21030094",教學臂鎧:"21040011","原初臂鎧·磐岩":"21040012","暗夜臂鎧·夜芒":"21040013",擎淵怒濤:"21040015",諸方玄樞:"21040016","源能臂鎧·測肆":"21040023",呼嘯重音:"21040024",悲喜劇:"21040026","鋼影拳-21丁型":"21040034","遠行者臂鎧·破障":"21040043",袍澤之固:"21040044","戍關臂鎧·拔山":"21040053",駭行:"21040064",金掌:"21040074",塵雲旋臂:"21040084",酩酊的英雄志:"21040094",教學音感儀:"21050011","原初音感儀·聽浪":"21050012","暗夜矩陣·暝光":"21050013",漪瀾浮錄:"21050015",掣傀之手:"21050016",淵海回聲:"21050017","源能音感儀·測五":"21050023",奇幻變奏:"21050024",瓊枝冰綃:"21050026",大海的饋贈:"21050027","鳴動儀-25型":"21050034",星序協響:"21050036","遠行者矩陣·探幽":"21050043",今州守望:"21050044",和光回唱:"21050046","戍關音感儀·留光":"21050053",異度:"21050064",清音:"21050074",核熔星盤:"21050084",虛飾的華爾茲:"21050094"},Ae=Object.values(I),Ie=[],de=U("weapon",{state:()=>({}),actions:{getNames(n=!1){const e=Object.keys(I);if(n===!0)return e;const s=[];return e.forEach(a=>{Ie.includes(a)||s.push(a)}),s},getTunes(){return new Array("1","2","3","4","5")},getNoByName(n){return I[n]},getNameByNo(n){return ie(I,n)},async getInfoByNo(n){try{const e=re(`/data/weapons/${n}/info.json`);return Ae.includes(n)?new L(await e.get()):void 0}catch(e){throw e}},async getInfoByName(n){const e=this.getNoByName(n);return await this.getInfoByNo(e)}}}),Te=[{name:"角",cost:"4",sonatas:["浮星祛暗"],skill:{description:`使用聲骸技能，召喚「角」騰躍而起，對目標造成30.40%/34.96%/39.52%/44.08%/48.64%的衍射傷害並降下光雷，光雷對周圍目標造成最多五段，每段12.16%/13.98%/15.81%/17.63%/19.46%的衍射傷害。隨後「角」向下盤旋攻擊周圍敵人，連續兩次造成30.40%/34.96%/39.52%/44.08%/48.64%的衍射傷害。
施放聲骸技能時，獲得「光陰之祝」，持續15秒。 「光陰之祝」持續期間： ·自身的共鳴技能傷害加成提升16.00%；
·自身的共鳴技能命中目標後，目標每秒受到1次10.00%/11.50%/13.00%/14.50%/16.00%衍射傷害，此次傷害為角色的共鳴技能傷害，持續15秒。
技能冷卻：20秒`}},{name:"赫卡忒",cost:"4",sonatas:["高天共奏之曲"]},{name:"鳴鐘之龜",cost:"4",sonatas:["隱世回光","輕雲出月"],skill:{description:`使用聲骸技能，發動鳴鐘之龜的加護，對附近敵人造成基於自身防禦力91.20%/104.88%/118.56%/132.24%/145.92%的冷凝傷害，並獲得鳴鐘之盾，持續15秒。
鳴鐘之盾能為隊伍中登場角色提供50.00%的減傷和10.00%的傷害提升，受到3次攻擊後消失。 技能冷卻：20秒`}},{name:"無妄者",cost:"4",sonatas:["沉日劫明"]},{name:"無歸的謬誤",cost:"4",sonatas:["隱世回光"]},{name:"異構武裝",cost:"4",sonatas:["凌冽決斷之心"]},{name:"羅蕾萊",cost:"4",sonatas:["幽夜隱匿之帷"]},{name:"燎照之騎",cost:"4",sonatas:["熔山裂谷"]},{name:"夢魘·燎照之騎",cost:"4",sonatas:["熔山裂谷"]},{name:"雲閃之鱗",cost:"4",sonatas:["徹空冥雷"]},{name:"夢魘·雲閃之鱗",cost:"4",sonatas:["徹空冥雷"]},{name:"夢魘·朔雷之鱗",cost:"4",sonatas:["徹空冥雷","高天共奏之曲"]},{name:"朔雷之鱗",cost:"4",sonatas:["徹空冥雷"]},{name:"聚械機偶",cost:"4",sonatas:["不絕餘音"]},{name:"輝螢軍勢",cost:"4",sonatas:["凝夜白霜"]},{name:"嘆息古龍",cost:"4",sonatas:["無懼浪濤之勇"]},{name:"夢魘·無冠者",cost:"4",sonatas:["沉日劫明"]},{name:"無冠者",cost:"4",sonatas:["沉日劫明"]},{name:"夢魘·哀聲鷙",cost:"4",sonatas:["此間永駐之光"]},{name:"哀聲鷙",cost:"4",sonatas:["浮星祛暗"]},{name:"夢魘·無常凶鷺",cost:"4",sonatas:["幽夜隱匿之帷"]},{name:"無常凶鷺",cost:"4",sonatas:["輕雲出月"]},{name:"夢魘·飛廉之猩",cost:"4",sonatas:["嘯谷長風"]},{name:"飛廉之猩",cost:"4",sonatas:["嘯谷長風"]},{name:"遊鱗機樞",cost:"3"},{name:"巡哨機傀",cost:"3"},{name:"磐石守衛",cost:"3"},{name:"冥淵守衛",cost:"3"},{name:"奏諭樂師",cost:"3"},{name:"振鐸樂師",cost:"3"},{name:"堅岩鬥士",cost:"3"},{name:"刺玫菇",cost:"3"},{name:"車刃鐮",cost:"3"},{name:"踏光獸",cost:"3"},{name:"雪鬃狼",cost:"3"},{name:"戲猿",cost:"3"},{name:"暗鬃狼",cost:"3"},{name:"箭簇熊",cost:"3"},{name:"綠熔蜥",cost:"3"},{name:"紫羽鷺",cost:"3"},{name:"青羽鷺",cost:"3"},{name:"通行燈偶",cost:"1"},{name:"審判戰士",cost:"1"},{name:"鳴泣戰士",cost:"1"},{name:"巡徊獵手",cost:"1"},{name:"破霜獵手",cost:"1"},{name:"驚蟄獵手",cost:"1"},{name:"裂變幼岩",cost:"1"},{name:"先鋒幼岩",cost:"1"},{name:"刺玫菇 (稚形)",cost:"1"},{name:"衍射棱鏡",cost:"1"},{name:"湮滅棱鏡",cost:"1"},{name:"熱熔棱鏡",cost:"1"},{name:"冷凝棱鏡",cost:"1"},{name:"侏侏鴕",cost:"1"},{name:"融火蟲",cost:"1"},{name:"幼猿",cost:"1"},{name:"寒霜陸龜",cost:"1"},{name:"游弋蝶",cost:"1"},{name:"晶螯蠍",cost:"1"},{name:"火鬃狼",cost:"1"},{name:"碎獠豬",cost:"1"},{name:"綠熔蜥 (稚形)",cost:"1"},{name:"遁地鼠",cost:"1"},{name:"啾啾河豚",cost:"1"},{name:"咕咕河豚",cost:"1"},{name:"叮咚咚",cost:"1"},{name:"嗚咔咔",cost:"1"},{name:"阿嗞嗞",cost:"1"},{name:"咔嚓嚓",cost:"1"},{name:"呼咻咻",cost:"1"}],ye={凝夜白霜:{2:"冷凝傷害提升10%",5:"使用普攻或重擊時，冷凝傷害提升10%，該效果可疊加三層，持續15秒。"},熔山裂谷:{2:"熱熔傷害提升10%",5:"使用共鳴技能時，熱熔傷害提升30%，持續15秒。"},徹空冥雷:{2:"導電傷害提升10%",5:"使用重擊或共鳴技能時，各獲得一層導電傷害提升15%的效果，該效果可疊加兩層，每層各持續15秒。"},嘯谷長風:{2:"氣動傷害提升10%",5:"使用變奏技能登場時，氣動傷害提升30%，持續15秒。"},浮星祛暗:{2:"衍射傷害提升10%",5:"使用變奏技能登場時，衍射傷害提升30%，持續15秒。"},沉日劫明:{2:"湮滅傷害提升10%",5:"使用普攻或重擊時，湮滅傷害提升7.5%，該效果可疊加四層，持續15秒。"},隱世回光:{2:"治療效果提升10%",5:"自身為友方提供治療時，全隊共鳴者攻擊提升15%，持續30秒。"},輕雲出月:{2:"共鳴效率提升10%",5:"使用延奏技能後，下一個登場的共鳴者攻擊提升22.5%，持續15秒。"},不絕餘音:{2:"攻擊提升10%",5:"在場時，自身攻擊每1.5秒提升5%，該效果最多疊加四層。延奏技能傷害提升60%。"},凌冽決斷之心:{2:"共鳴技能傷害提升12%",5:"施放共鳴技能時，自身冷凝傷害提升22.5%，持續15秒；施放共鳴解放時，自身共鳴技能傷害提升18%，持續5秒，可疊加2層。"},此間永駐之光:{2:"衍射傷害提升10%",5:"角色為敵人添加【光噪效應】時，自身暴擊提升20%，持續15秒；攻擊存在10層【光噪效應】的敵人時，自身衍射傷害加成提升15%，持續15秒。"},幽夜隱匿之帷:{2:"湮滅屬性傷害提升10%",5:"角色觸發延奏技能離場時，額外對周圍敵人造成480%的湮滅傷害，該傷害為延奏技能傷害，並使下一個登場角色湮滅屬性傷害加成提升15%，持續15秒。"},高天共奏之曲:{2:"共鳴效率提升10%",5:"當前角色協同攻擊造成的傷害提升80%；協同攻擊命中敵人且暴擊時，隊伍中登場角色攻擊力提升20%，持續4秒。"},無懼浪濤之勇:{2:"共鳴效率提升10%%",5:"角色攻擊提升15%，共鳴效率達到250%後，當前角色全屬性傷害提升30%。"}},Be=[320,360,390,430,470,510,540,580],ke=[.064,.071,.079,.086,.094,.101,.109,.116],Re=[30,40,50],Ce=[.064,.071,.079,.086,.094,.101,.109,.116],Ue=[40,50,60],Le=[.081,.09,.1,.109,.118,.128,.138,.147],He=[.063,.069,.075,.081,.087,.093,.099,.105],Ke=[.126,.138,.15,.162,.174,.186,.198,.21],Pe=[.064,.071,.079,.086,.094,.101,.109,.116],ve=[.064,.071,.079,.086,.094,.101,.109,.116],$e=[.064,.071,.079,.086,.094,.101,.109,.116],De=[.064,.071,.079,.086,.094,.101,.109,.116],we=[.068,.076,.084,.092,.1,.108,.116,.124],D={hp:Be,hp_p:ke,atk:Re,atk_p:Ce,def:Ue,def_p:Le,crit_rate:He,crit_dmg:Ke,bonus_resonance_skill:Pe,bonus_basic_attack:ve,bonus_heavy_attack:$e,bonus_resonance_liberation:De,energy_regen:we},Fe={1:{hp:"2280"},3:{atk:"100"},4:{atk:"150"}},Ge={1:{hp_p:"0.228",atk_p:"0.18",def_p:"0.18"},3:{hp_p:"0.3",atk_p:"0.3",def_p:"0.38",bonus_glacio:"0.3",bonus_fusion:"0.3",bonus_electro:"0.3",bonus_aero:"0.3",bonus_spectro:"0.3",bonus_havoc:"0.3",energy_regen:"0.32"},4:{hp_p:"0.33",atk_p:"0.33",def_p:"0.418",crit_rate:"0.22",crit_dmg:"0.44",bonus_healing:"0.264"}},je=Fe,Me=Ge;function it(n){if(!n)return"";const e=n.toUpperCase(),s=Se[e];return s||""}function rt(n){return je[n]}function ct(n){return Me[n]}class xe{constructor(e={}){t(this,"name","");t(this,"cost","");t(this,"sonatas",[]);t(this,"skill",{description:""});!e||Object.keys(e).length===0||Object.assign(this,e)}getHtmlInfo(){var s;let e="";return this.name&&(e=`【${this.name}】`),(s=this.skill)!=null&&s.description&&(e=`${e}

${this.skill.description}`),e=e.replace(/\n/g,"<br />"),e}}const R=Object.keys(ye),A=[{name:"白板3C聲骸",cost:"3",sonatas:R},{name:"白板1C聲骸",cost:"1",sonatas:R},...Te],Ve=U("echo",{state:()=>({}),actions:{getEchoItemForCalculationByName(n){for(const e of A)if(e.name===n)return{title:n,value:e};return{title:n,value:void 0}},getEchoNames(){return A.map((e,s,a)=>e.name)},getEchoItemsForCalculation(){return A.map((e,s,a)=>({title:e.name,value:e}))},getSubAffixKeys(){return Object.keys(D)},getSubAffixValues(n){const e=D[n.toLowerCase()];return e||[]},getCosts(){return["4","3","1"]},getSonataNames(){return R},getAbbrs(){return Object.values(ge)},getInfoByName(n){for(const e of A)if(e.name===n)return new xe(e)}}}),Ye={凝夜白霜:{2:"冷凝傷害提升10%",5:"使用普攻或重擊時，冷凝傷害提升10%，該效果可疊加三層，持續15秒"},熔山裂谷:{2:"熱熔傷害提升10%",5:"使用共鳴技能時，熱熔傷害提升30%，持續15秒"},徹空冥雷:{2:"導電傷害提升10%",5:"使用重擊或共鳴技能時，各獲得一層導電傷害提升15%的效果，該效果可疊加兩層，每層各持續15秒"},嘯谷長風:{2:"氣動傷害提升10%",5:"使用變奏技能登場時，氣動傷害提升30%，持續15秒"},浮星祛暗:{2:"衍射傷害提升10%",5:"使用變奏技能登場時，衍射傷害提升30%，持續15秒"},沉日劫明:{2:"湮滅傷害提升10%",5:"使用普攻或重擊時，湮滅傷害提升7.5%，該效果可疊加四層，持續15秒"},隱世回光:{2:"治療效果提升10%",5:"自身為友方提供治療時，全隊共鳴者攻擊提升15%，持續30秒"},輕雲出月:{2:"共鳴效率提升10%",5:"使用延奏技能後，下一個登場的共鳴者攻擊提升22.5%，持續15秒"},不絕餘音:{2:"攻擊提升10%",5:"在場時，自身攻擊每1.5秒提升5%，該效果最多疊加四層。延奏技能傷害提升60%"},凌冽決斷之心:{2:"共鳴技能傷害提升12%",5:"施放共鳴技能時，自身冷凝傷害提升22.5%，持續15秒；施放共鳴解放時，自身共鳴技能傷害提升18%，持續5秒，可疊加2層"},高天共奏之曲:{2:"共鳴效率提升10%",5:"當前角色協同攻擊造成的傷害提升80%；協同攻擊命中敵人且暴擊時，隊伍中登場角色攻擊力提升20%，持續4秒"},此間永駐之光:{2:"衍射傷害提升10%",5:"角色為敵人添加【光噪效應】時，自身暴擊提升20%，持續15秒；攻擊存在10層【光噪效應】的敵人時，自身衍射傷害加成提升15%，持續15秒"}};class Je{constructor(){t(this,"name","");t(this,"piece_2","");t(this,"piece_5","")}getHtmlInfo(){let e="";return this.name&&(e=`${e}【${this.name}】

`),this.piece_2&&(e=`${e}2/2
${this.piece_2}

`),this.piece_5&&(e=`${e}5/5
${this.piece_5}`),e=e.replace(/\n/g,"<br />"),e}}function qe(n){const e=Ye[n];if(!e)return;const s=new Je;return s.name=n,s.piece_2=e[2]?e[2]:"",s.piece_5=e[5]?e[5]:"",s}class H{constructor(e={}){t(this,"id","");t(this,"category","");t(this,"source","");t(this,"suffix","");t(this,"type","");t(this,"value","");t(this,"stack","");t(this,"duration","");t(this,"target","");t(this,"element","");t(this,"skill_bonus_type","");t(this,"tooltip","");!e||Object.keys(e).length===0||Object.assign(this,e)}getId(){let e=this.type;e?this.element?this.skill_bonus_type?e=l.NONE:e=this.element:this.skill_bonus_type?e=this.skill_bonus_type:e=this.type:e=l.NONE;let s;return this.target?s=`[${e}-${this.target}]`:s=`[${e}]`,this.source&&(s=`${s}${this.source}`),this.suffix&&(s=`${s}-${this.suffix}`),s}async getHtmlToolTip(){let e,s,a;switch(this.category){case O.RESONATOR:if(e=et(),s=this.source.split("-"),s.length!==2||(a=await e.getInfoByName(s[0]),!a.name))return"";this.tooltip=a.getHtmlInfoBySkillType(s[1]);break;case O.WEAPON:if(e=de(),s=this.source.split("-"),s.length!==2||(a=await e.getInfoByName(s[0]),!a.name))return"";this.tooltip=a.getHtmlInfo();break;case O.ECHO:if(e=Ve(),!this.source)return"";a=e.getInfoByName(this.source),this.tooltip=a.getHtmlInfo();break;case O.SONATA:if(!this.source||(a=qe(this.source),!a))return"";this.tooltip=a.getHtmlInfo();break}return this.tooltip}updateId(){this.id=this.getId()}}class We extends H{isName(e){const s=this.source.split("-");return!!(s[0]&&s[0]===e)}}class _t extends We{}class Ze extends H{isName(e){return this.source===e}}class lt extends Ze{}var w,F,G,j,M,x,V,Y,J,q,W,Z,z,X,Q,ee,te,se,ne,ae,oe;oe=o.CRIT_RATE,ae=o.CRIT_DMG,ne=o.HP,se=o.HP_P,te=o.ATK,ee=o.ATK_P,Q=o.DEF,X=o.DEF_P,z=o.ENERGY_REGEN,Z=o.BONUS_PHYSICS,W=o.BONUS_GLACIO,q=o.BONUS_FUSION,J=o.BONUS_ELECTRO,Y=o.BONUS_AERO,V=o.BONUS_SPECTRO,x=o.BONUS_HAVOC,M=o.BONUS_RESONANCE_SKILL,j=o.BONUS_BASIC_ATTACK,G=o.BONUS_HEAVY_ATTACK,F=o.BONUS_RESONANCE_LIBERATION,w=o.BONUS_HEALING;const P=class P{constructor(e={}){t(this,oe,"");t(this,ae,"");t(this,ne,"");t(this,se,"");t(this,te,"");t(this,ee,"");t(this,Q,"");t(this,X,"");t(this,z,"");t(this,Z,"");t(this,W,"");t(this,q,"");t(this,J,"");t(this,Y,"");t(this,V,"");t(this,x,"");t(this,M,"");t(this,j,"");t(this,G,"");t(this,F,"");t(this,w,"");!e||Object.keys(e).length===0||Object.assign(this,e)}duplicate(){const e=new P;return e[o.CRIT_RATE]=this[o.CRIT_RATE],e[o.CRIT_DMG]=this[o.CRIT_DMG],e[o.HP]=this[o.HP],e[o.HP_P]=this[o.HP_P],e[o.ATK]=this[o.ATK],e[o.ATK_P]=this[o.ATK_P],e[o.DEF]=this[o.DEF],e[o.DEF_P]=this[o.DEF_P],e[o.ENERGY_REGEN]=this[o.ENERGY_REGEN],e[o.BONUS_PHYSICS]=this[o.BONUS_PHYSICS],e[o.BONUS_GLACIO]=this[o.BONUS_GLACIO],e[o.BONUS_FUSION]=this[o.BONUS_FUSION],e[o.BONUS_ELECTRO]=this[o.BONUS_ELECTRO],e[o.BONUS_AERO]=this[o.BONUS_AERO],e[o.BONUS_SPECTRO]=this[o.BONUS_SPECTRO],e[o.BONUS_HAVOC]=this[o.BONUS_HAVOC],e[o.BONUS_RESONANCE_SKILL]=this[o.BONUS_RESONANCE_SKILL],e[o.BONUS_BASIC_ATTACK]=this[o.BONUS_BASIC_ATTACK],e[o.BONUS_HEAVY_ATTACK]=this[o.BONUS_HEAVY_ATTACK],e[o.BONUS_RESONANCE_LIBERATION]=this[o.BONUS_RESONANCE_LIBERATION],e[o.BONUS_HEALING]=this[o.BONUS_HEALING],e}addStatBuff(e){Object.values(o).forEach(a=>{const u=p(this[a]),m=p(e[a]);this[a]=u.plus(m).toString()})}addByKey(e,s){this[e]!==void 0&&(this[e]=p(this[e]).plus(p(s)).toString())}getKeys(){const e=[];return Object.values(o).forEach(s=>{const a=this[s];d(a)>0&&e.push(s)}),e}getRowBuffs(e){const s=[];return this.getKeys().forEach(u=>{const m=d(this[u]);if(m===0)return;const c=new H;c.category=O.STAT,c.stack="1",c.value=m.toString(),e?c.source=`${e}-${c.category}`:c.source=c.category;let r="",N="",f="";switch(u){case o.CRIT_RATE:r=_.CRIT_RATE;break;case o.CRIT_DMG:r=_.CRIT_DMG;break;case o.HP:r=_.HP;break;case o.HP_P:r=_.HP_P;break;case o.ATK:r=_.ATK;break;case o.ATK_P:r=_.ATK_P;break;case o.DEF:r=_.DEF;break;case o.DEF_P:r=_.DEF_P;break;case o.BONUS_GLACIO:r=_.BONUS,N=b.GLACIO;break;case o.BONUS_FUSION:r=_.BONUS,N=b.FUSION;break;case o.BONUS_ELECTRO:r=_.BONUS,N=b.ELECTRO;break;case o.BONUS_AERO:r=_.BONUS,N=b.AERO;break;case o.BONUS_SPECTRO:r=_.BONUS,N=b.SPECTRO;break;case o.BONUS_HAVOC:r=_.BONUS,N=b.HAVOC;break;case o.BONUS_RESONANCE_SKILL:r=_.BONUS,f=l.SKILL;break;case o.BONUS_BASIC_ATTACK:r=_.BONUS,f=l.BASIC;break;case o.BONUS_HEAVY_ATTACK:r=_.BONUS,f=l.HEAVY;break;case o.BONUS_RESONANCE_LIBERATION:r=_.BONUS,f=l.LIBERATION;break;default:return}c.type=r,c.element=N,c.skill_bonus_type=f,c.updateId(),s.push(c)}),s}};let C=P;function ut(){return[...Object.values(b),l.BASIC,l.HEAVY,l.SKILL,l.LIBERATION,l.INTRO,l.OUTRO,l.ECHO,l.COORDINATED_ATTACK,l.SPECTRO_FRAZZLE]}function mt(){return Object.values(_)}class ze{constructor(e={}){t(this,"resonator_src","");t(this,"element","");t(this,"element_src","");t(this,"element_en","");t(this,"elementSrc","");t(this,"name","");t(this,"chain","");t(this,"weapon_name","");t(this,"weapon_rank","");t(this,"weapon_level","");t(this,"level","");t(this,"hp","");t(this,"attack","");t(this,"defense","");t(this,"crit_rate","");t(this,"crit_dmg","");t(this,"energy_regen","");t(this,"resonance_skill_dmg_bonus","");t(this,"basic_attack_dmg_bonus","");t(this,"heavy_attack_dmg_bonus","");t(this,"resonance_liberation_dmg_bonus","");t(this,"healing_bonus","");t(this,"physical_dmg_bonus","");t(this,"glacio_dmg_bonus","");t(this,"fusion_dmg_bonus","");t(this,"electro_dmg_bonus","");t(this,"aero_dmg_bonus","");t(this,"spectro_dmg_bonus","");t(this,"havoc_dmg_bonus","");t(this,"physical_dmg_res","");t(this,"glacio_dmg_res","");t(this,"fusion_dmg_res","");t(this,"electro_dmg_res","");t(this,"aero_dmg_res","");t(this,"spectro_dmg_res","");t(this,"havoc_dmg_res","");t(this,"normal_attack_lv","");t(this,"resonance_skill_lv","");t(this,"resonance_liberation_lv","");t(this,"forte_circuit_lv","");t(this,"intro_skill_lv","");t(this,"inherent_skill_1","");t(this,"inherent_skill_2","");t(this,"echo1","");t(this,"echo_hp","");t(this,"echo_hp_p","");t(this,"echo_atk","");t(this,"echo_atk_p","");t(this,"echo_def","");t(this,"echo_def_p","");t(this,"echo_crit_rate","");t(this,"echo_crit_dmg","");t(this,"echo_energy_regen","");t(this,"echo_sonata_1","");t(this,"echo_sonata_2","");t(this,"echo_sonata_3","");t(this,"echo_sonata_4","");t(this,"echo_sonata_5","");t(this,"echo_resonance_skill_dmg_bonus","");t(this,"echo_basic_attack_dmg_bonus","");t(this,"echo_heavy_attack_dmg_bonus","");t(this,"echo_resonance_liberation_dmg_bonus","");t(this,"echo_healing_bonus","");t(this,"echo_glacio_dmg_bonus","");t(this,"echo_fusion_dmg_bonus","");t(this,"echo_electro_dmg_bonus","");t(this,"echo_aero_dmg_bonus","");t(this,"echo_spectro_dmg_bonus","");t(this,"echo_havoc_dmg_bonus","");!e||Object.keys(e).length===0||Object.assign(this,e)}getElementSrc(){switch(this.element){case g.GLACIO:return"/assets/elements/glacio.png";case g.FUSION:return"/assets/elements/fusion.png";case g.ELECTRO:return"/assets/elements/electro.png";case g.AERO:return"/assets/elements/aero.png";case g.SPECTRO:return"/assets/elements/spectro.png";case g.HAVOC:return"/assets/elements/havoc.png";default:return""}}}class ft{constructor(e={}){!e||Object.keys(e).length===0||Object.keys(e).forEach(s=>{this[s]=new ze(e[s])})}}class K{constructor(e={}){t(this,"no","");t(this,"name","");t(this,"rank","");t(this,"is_permanent");t(this,"stat_bonus",new C);t(this,"element_zh_tw","");t(this,"element_en","");t(this,"attrs",[]);t(this,"skills",[]);t(this,"skill_infos",{});!e||Object.keys(e).length===0||Object.assign(this,e)}duplicate(){const e=new K;return e.no=this.no,e.name=this.name,e.rank=this.rank,e.is_permanent=this.is_permanent,this.stat_bonus.duplicate!==void 0?e.stat_bonus=this.stat_bonus.duplicate():e.stat_bonus=JSON.parse(JSON.stringify(this.stat_bonus)),e.element_zh_tw=this.element_zh_tw,e.element_en=this.element_en,e.attrs=JSON.parse(JSON.stringify(this.attrs)),e.skills=JSON.parse(JSON.stringify(this.skills)),e.skill_infos=JSON.parse(JSON.stringify(this.skill_infos)),e}getHp(e){const s=this.attrs;for(const a of s)if(a.lv===e)return a.hp;return""}getAtk(e){const s=this.attrs;for(const a of s)if(a.lv===e)return a.atk;return""}getDef(e){const s=this.attrs;for(const a of s)if(a.lv===e)return a.def;return""}getHtmlInfoBySkillType(e){let s="",a="";switch(e){case i.NORMAL_ATTACK:s=`【${i.NORMAL_ATTACK}】${this.skill_infos.normal_attack.name}<br /><br />`,a=this.skill_infos.normal_attack.description.replace(/\n/g,"<br />");break;case i.RESONANCE_SKILL:s=`【${i.RESONANCE_SKILL}】${this.skill_infos.resonance_skill.name}<br /><br />`,a=this.skill_infos.resonance_skill.description.replace(/\n/g,"<br />");break;case i.FORTE_CIRCUIT:s=`【${i.FORTE_CIRCUIT}】${this.skill_infos.forte_circuit.name}<br /><br />`,a=this.skill_infos.forte_circuit.description.replace(/\n/g,"<br />");break;case i.RESONANCE_LIBERATION:s=`【${i.RESONANCE_LIBERATION}】${this.skill_infos.resonance_liberation.name}<br /><br />`,a=this.skill_infos.resonance_liberation.description.replace(/\n/g,"<br />");break;case i.INTRO_SKILL:s=`【${i.INTRO_SKILL}】${this.skill_infos.intro_skill.name}<br /><br />`,a=this.skill_infos.intro_skill.description.replace(/\n/g,"<br />");break;case i.OUTRO_SKILL:s=`【${i.OUTRO_SKILL}】${this.skill_infos.outro_skill.name}<br /><br />`,a=this.skill_infos.outro_skill.description.replace(/\n/g,"<br />");break;case i.INHERENT_SKILL_1:s=`【${i.INHERENT_SKILL_1}】${this.skill_infos.inherent_skill_1.name}<br /><br />`,a=this.skill_infos.inherent_skill_1.description.replace(/\n/g,"<br />");break;case i.INHERENT_SKILL_2:s=`【${i.INHERENT_SKILL_2}】${this.skill_infos.inherent_skill_2.name}<br /><br />`,a=this.skill_infos.inherent_skill_2.description.replace(/\n/g,"<br />");break;case i.CHAIN1:s=`【${i.CHAIN1}】${this.skill_infos.chain1.name}<br /><br />`,a=this.skill_infos.chain1.description.replace(/\n/g,"<br />");break;case i.CHAIN2:s=`【${i.CHAIN2}】${this.skill_infos.chain2.name}<br /><br />`,a=this.skill_infos.chain2.description.replace(/\n/g,"<br />");break;case i.CHAIN3:s=`【${i.CHAIN3}】${this.skill_infos.chain3.name}<br /><br />`,a=this.skill_infos.chain3.description.replace(/\n/g,"<br />");break;case i.CHAIN4:s=`【${i.CHAIN4}】${this.skill_infos.chain4.name}<br /><br />`,a=this.skill_infos.chain4.description.replace(/\n/g,"<br />");break;case i.CHAIN5:s=`【${i.CHAIN5}】${this.skill_infos.chain5.name}<br /><br />`,a=this.skill_infos.chain5.description.replace(/\n/g,"<br />");break;case i.CHAIN6:s=`【${i.CHAIN6}】${this.skill_infos.chain6.name}<br /><br />`,a=this.skill_infos.chain6.description.replace(/\n/g,"<br />");break;default:return""}return s+a}getDamageSkillItems(){const e=[];return this.skills.forEach(a=>{if(a.id&&a.type==="Damage"){const u=a.skill_type;a.tooltip=this.getHtmlInfoBySkillType(u),e.push({title:a.id,value:a})}}),e}getDamageSkillItemById(e){const s=this.skills;for(const a of s)if(a.type==="Damage"&&a.id&&a.id===e){const u=a.skill_type;return a.tooltip=this.getHtmlInfoBySkillType(u),{title:a.id,value:a}}}}function Nt(){return Object.values(Oe)}function ht(){return[l.SKILL,l.BASIC,l.HEAVY,l.LIBERATION]}const ce=[{id:"五星 輝螢軍勢-1",element:"冷凝",base_attr:"攻擊",bonus_type:"聲骸",dmg:"200.16%"},{id:"五星 輝螢軍勢-2",element:"冷凝",base_attr:"攻擊",bonus_type:"聲骸",dmg:"200.16%"},{id:"五星 輝螢軍勢-3",element:"冷凝",base_attr:"攻擊",bonus_type:"聲骸",dmg:"266.88%"},{id:"五星 輝螢軍勢",element:"冷凝",base_attr:"攻擊",bonus_type:"聲骸",dmg:"667.20%"},{id:"五星 角-1",element:"衍射",base_attr:"攻擊",bonus_type:"聲骸",dmg:"48.86%"},{id:"五星 角-2",element:"衍射",base_attr:"攻擊",bonus_type:"聲骸",dmg:"19.46%"},{id:"五星 角-3",element:"衍射",base_attr:"攻擊",bonus_type:"聲骸",dmg:"48.86%"},{id:"五星 角-4",element:"衍射",base_attr:"攻擊",bonus_type:"共鳴技能",dmg:"16.00%"},{id:"五星 角",element:"衍射",base_attr:"攻擊",bonus_type:"聲骸",dmg:"243.44%"},{id:"五星 角 光陰之祝",element:"衍射",base_attr:"攻擊",bonus_type:"共鳴技能",dmg:"240.00%"},{id:"五星 燎照之騎-1",element:"熱熔",base_attr:"攻擊",bonus_type:"聲骸",dmg:"242.40%"},{id:"五星 燎照之騎-2",element:"熱熔",base_attr:"攻擊",bonus_type:"聲骸",dmg:"282.80%"},{id:"五星 燎照之騎-3",element:"熱熔",base_attr:"攻擊",bonus_type:"聲骸",dmg:"282.80%"},{id:"五星 飛廉之猩-1",element:"氣動",base_attr:"攻擊",bonus_type:"聲骸",dmg:"231.84%"},{id:"五星 飛廉之猩-2",element:"氣動",base_attr:"攻擊",bonus_type:"聲骸",dmg:"283.36%"},{id:"五星 聚械機偶-1",element:"導電",base_attr:"攻擊",bonus_type:"聲骸",dmg:"48.64%"},{id:"五星 聚械機偶-2",element:"導電",base_attr:"攻擊",bonus_type:"聲骸",dmg:"320.00%"},{id:"五星 聚械機偶-3",element:"導電",base_attr:"攻擊",bonus_type:"聲骸",dmg:"160.00%"},{id:"五星 雲閃之鱗-1",element:"導電",base_attr:"攻擊",bonus_type:"聲骸",dmg:"132.61%"},{id:"五星 雲閃之鱗-2",element:"導電",base_attr:"攻擊",bonus_type:"聲骸",dmg:"189.44%"},{id:"五星 雲閃之鱗-3",element:"導電",base_attr:"攻擊",bonus_type:"聲骸",dmg:"31.57%"},{id:"五星 朔雷之鱗-1",element:"導電",base_attr:"攻擊",bonus_type:"聲骸",dmg:"102.48%"},{id:"五星 朔雷之鱗-2",element:"導電",base_attr:"攻擊",bonus_type:"聲骸",dmg:"175.68%"},{id:"五星 無常凶鷺-1",element:"湮滅",base_attr:"攻擊",bonus_type:"聲骸",dmg:"310.56%"},{id:"五星 無常凶鷺-2",element:"湮滅",base_attr:"攻擊",bonus_type:"聲骸",dmg:"55.73%"},{id:"五星 鳴鐘之龜",element:"冷凝",base_attr:"防禦",bonus_type:"聲骸",dmg:"145.92%"},{id:"五星 無歸的謬誤-1",element:"衍射",base_attr:"生命",bonus_type:"聲骸",dmg:"15.86%"},{id:"五星 無歸的謬誤-2",element:"衍射",base_attr:"生命",bonus_type:"聲骸",dmg:"1.58%"},{id:"五星 無歸的謬誤-3",element:"衍射",base_attr:"生命",bonus_type:"聲骸",dmg:"19.82%"},{id:"五星 無妄者-1",element:"湮滅",base_attr:"攻擊",bonus_type:"聲骸",dmg:"54.08%"},{id:"五星 無妄者-2",element:"湮滅",base_attr:"攻擊",bonus_type:"聲骸",dmg:"270.40%"},{id:"五星 異構武裝-1",element:"冷凝",base_attr:"攻擊",bonus_type:"聲骸",dmg:"405.00%"}],k={散華:"1102",白芷:"1103",凌陽:"1104",折枝:"1105",釉瑚:"1106",珂萊塔:"1107",熾霞:"1202",安可:"1203",莫特斐:"1204",長離:"1205",布蘭特:"1206",卡卡羅:"1301",吟霖:"1302",淵武:"1303",今汐:"1304",相里要:"1305",秧秧:"1402",秋水:"1403",忌炎:"1404",鑒心:"1405","漂泊者·衍射(男)":"1501","漂泊者·衍射(女)":"1502",維里奈:"1503",守岸人:"1505",菲比:"1506",贊尼:"1507",桃祈:"1601",丹瑾:"1602",椿:"1603","漂泊者·湮滅(女)":"1604","漂泊者·湮滅(男)":"1605",洛可可:"1606"},Xe=[];function Qe(){const n=[];return ce.forEach(e=>{n.push({title:e.id,value:e})}),n}function bt(n){for(const e of ce)if(n===e.id)return{title:e.id,value:e}}const et=U("resonator",{state:()=>({}),actions:{getNames(n=!1){const e=Object.keys(k);if(n===!0)return e;const s=[];return e.forEach(a=>{Xe.includes(a)||s.push(a)}),s},getChains(){return new Array("0","1","2","3","4","5","6")},getLevels(){return new Array("1","20","20+","40","40+","50","50+","60","60+","70","70+","80","80+","90")},getSkillLevels(){return new Array("1","2","3","4","5","6","7","8","9","10")},getNoByName(n){return k[n]},getNameByNo(n){return ie(k,n)},getIconSrcByNo(n){return`/assets/resonators/${n}/icon.png`},getIconSrcByName(n){const e=this.getNoByName(n);return this.getIconSrcByNo(e)},async getInfoByNo(n){try{const e=re(`/data/resonators/${n}/info.json`);return new K(await e.get())}catch(e){throw e}},async getInfoByName(n){const e=this.getNoByName(n);return await this.getInfoByNo(e)},async getElementEnByNo(n){return(await this.getInfoByNo(n)).element_en},async getElementEnByName(n){const e=this.getNoByName(n);return await this.getElementEnByNo(e)},async getElementSrcByNo(n){return`/assets/elements/${await this.getElementEnByNo(n)}.png`},async getElementSrcByName(n){const e=this.getNoByName(n);return await this.getElementSrcByNo(e)},async getDamageSkillItems(n){return[...(await this.getInfoByName(n)).getDamageSkillItems(),...Qe()]}}});export{rt as A,_ as B,ct as C,at as D,b as E,Ee as F,ft as R,Oe as S,L as W,D as a,Nt as b,ht as c,de as d,ut as e,mt as f,it as g,Ve as h,ze as i,o as j,pe as k,l,re as m,We as n,_t as o,Ze as p,lt as q,H as r,Xe as s,C as t,et as u,K as v,O as w,be as x,bt as y,ot as z};
