var h=Object.defineProperty;var f=(o,s,t)=>s in o?h(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t;var e=(o,s,t)=>f(o,typeof s!="symbol"?s+"":s,t);import"./utils-DwyHwRSh.js";import{u as _}from"./resonator-CI3wZnhI.js";const v={普攻:"/assets/actions/left_click.svg",普攻xN:"/assets/actions/left_click.svg",空中攻擊:"/assets/actions/left_click.svg",重擊:"/assets/actions/hold_left_click.svg",空中重擊:"/assets/actions/hold_left_click.svg",共鳴技能:"/assets/actions/e.svg",共鳴解放:"/assets/actions/r.svg",聲骸:"/assets/actions/q.svg",延奏:"/assets/actions/num.svg",變奏:"",入場:"/assets/actions/num.svg",空中入場:"/assets/actions/num.svg",鉤索:"/assets/actions/t.svg",協同攻擊:"",閃避:"/assets/actions/shift.svg",跳:"/assets/actions/space.svg",無:""};class m{constructor(s){e(this,"resonatorName");e(this,"resonatorSrc");e(this,"actions",[]);e(this,"comments",[]);const t=_();this.resonatorName=s,this.resonatorSrc=t.getIconSrcByName(s)}}function d(o){let s=new m("");const t=[];let a=1;return o.forEach((n,i)=>{const c=n.resonator_name,r=n.action;if(!c||!r||r==="協同攻擊")return;s.resonatorName?n.resonator_name!==s.resonatorName&&(t.push(s),s=new m(c)):s=new m(c);const l=v[r]||"";let g;n.comment&&(g=a,s.comments.push({i:a,text:n.comment}),a+=1);const u={name:r,src:l,skillID:n.skill_id,timeStart:n.time_start,timeEnd:n.time_end,index0Based:i.toString(),supIndex:g};s.actions.push(u)}),t.push(s),t}class S{constructor(s){e(this,"resonators",[]);e(this,"rows",[]);Object.assign(this,s)}getResonatorEcho1(s){for(const t of this.resonators)if(s===t.resonator_name)return t.resonator_echo_1;return""}getResonatorNames(){const s=[];return this.resonators.forEach(t=>{s.push(t.resonator_name)}),s}getRotation(){const s=this.rows;return d(s)}getRotationIndices(){const s=[];return this.getRotation().forEach(a=>{a.actions.forEach(i=>{const c=i.index0Based;s.push(c)})}),s}}export{S as T};
