import{_ as w}from"./ResonatorInfo-Bp1JNIMt.js";import{_ as C}from"./ImageDownloadPanel.vue_vue_type_script_setup_true_lang-CAuF5bkr.js";import{_ as N}from"./ResonatorTier-CEn9FYd-.js";import{m as I,u as $}from"./resonator-CXsr1PAR.js";import{ai as k,d as B,k as R,s as T,n as V,p as v,e as f,o as p,w as n,a as l,c as x,u as h,F as j,h as q,aj as F,V as b,i as P,g as L,t as M}from"./index-B7H-dTR6.js";import{T as W}from"./template-BqQIXaB9.js";import{T as z}from"./damage-DYLwdQle.js";import"./utils-Car4rOKU.js";import"./echo-sx3494JG.js";import"./sonata-4OWiKWAQ.js";import"./VDataTable-DIj9DNy7.js";import"./VTextField-BgqOEeox.js";import"./index-CGQif2Rh.js";import"./VList-DYo7Hv4k.js";import"./VAvatar-BXfk-wS8.js";import"./VOverlay-DYT_x8AK.js";import"./VTooltip-D_StNq-J.js";import"./affix-NmzP8Gk5.js";import"./echoes-CJpOD3cs.js";import"./rotation-DVE9hjps.js";const A=k("echoComparison",{state:()=>({}),actions:{async getEchoComparison(g,r,_){const o=await I(`/data/calculation/template/${g}/${r}/echo_comparison/${_}.json`).get(),s=[];return o.damage_distributions.forEach(u=>{const t=new z(u);s.push(t)}),o.damage_distributions=s,o.resonator_template=new W(o.resonator_template),o}}}),G=["id"],lo=B({__name:"[resonator_no]",setup(g){const r=R(),_=r.params.id,D=r.params.affix_policy,o=r.params.resonator_no,s=$(),u=A(),t=s.getNameByNo(o),m=T([]),y=V([]);return v(async()=>{const e=await u.getEchoComparison(_,D,o);m.value=e.damage_distributions;const E=e.resonator_template.getResonatorEcho1(t);m.value.forEach(async d=>{const i=d.resonators[t].resonator_id,a=e.resonator_models[i],c=await s.getElementSrcByName(t);a.resonatorID=i,a.echo1=E,a.elementSrc=c,y.push(a)})}),(e,E)=>{const d=N,i=C,a=w;return p(),f(b,null,{default:n(()=>[l(i,{fname:e.$t("template.header.echo_damage_comparison",{name:h(t)})},{default:n(()=>[(p(),f(d,{title:e.$t("template.header.echo_damage_comparison",{name:h(t)}),resonatorNo:h(o),teamDamageDistributions:m.value,isWarning:!1,toSort:!1,key:m.value.length},null,8,["title","resonatorNo","teamDamageDistributions"]))]),_:1},8,["fname"]),(p(!0),x(j,null,q(y,(c,S)=>(p(),f(F,{key:S},{default:n(()=>[l(b,null,{default:n(()=>[l(P,{class:"mb-2"},{default:n(()=>[L("h2",{id:`resonator${S}`},M(c.resonatorID),9,G)]),_:2},1024)]),_:2},1024),l(a,{resonator:c},null,8,["resonator"])]),_:2},1024))),128))]),_:1})}}});export{lo as default};
