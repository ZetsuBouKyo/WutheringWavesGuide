import{d as P,S as j,G as D,c as L,Q as x,o as v,I as e,e as V,J as o,T as E,L as l,w as d,a as c,M as N,U as F,b as B,O as H,E as M,P as z,H as A,R as J}from"./index-CLO620bX.js";import{R as G,S as K,a as U,u as Q}from"./resonator-BEbILlhW.js";import{g as q,a as W,V as X,j as h}from"./VTooltip-BknPKQzR.js";import{V as C}from"./VDataTable-CXEzddBs.js";import{V as Y,c as Z,b as ee,a as te}from"./VExpansionPanels-CCcikXFx.js";import{_ as ne}from"./DocHeaders-DlIAd8Co.js";import{V as b}from"./VList-Cvukp5Vg.js";import"./VTextField-BoLNhwR5.js";import"./index-BpA_PkR6.js";import"./VAvatar-CjlGo4Xc.js";const oe=["innerHTML"],se={class:"text-highlight font-weight-bold"},le=P({__name:"ResonatorSkillData",props:{info:{type:Object,default:new G},type:{type:String,default:""}},setup(p){const{t}=j(),m=p;function I(n){if(!n.includes("%"))return"";const u=g=>Function('"use strict";return ('+g+")")(),f=n.replace(/[^\d.%+\-*/]/g,"").replace(/(\d+(\.\d+)?)%/g,(g,i)=>(parseFloat(i)/100).toString());return(u(f)*100).toFixed(2)+"%"}const T=[t("general.element"),t("general.base_attr"),t("general.skill_bonus_type"),t("general.resonance_energy_regen"),t("general.concerto_regen")],_={},a={},r=D([]),S=m.info.skills;for(const n of S){const u=n.id,f=n.type,s=n.lv10,g=n.skill_type;if(f!=="Damage"||!s||!m.type||g!==K[m.type.toUpperCase()])continue;const i={},w=[];if(n.bonus_type&&w.push(n.bonus_type),n.bonus_type_2&&w.push(n.bonus_type_2),n.coordinated&&w.push(U.COORDINATED_ATTACK),i[t("general.id")]=u,i[t("general.element")]=n.element,i[t("general.base_attr")]=n.base_attr,i[t("general.skill_bonus_type")]=w.join(", "),i.LV10=s,i[t("general.resonance_energy_regen")]=n.resonance_energy_regen,i[t("general.concerto_regen")]=n.concerto_regen,r.push(i),a[u]=n,s in _){const O=_[s][0];for(const R of T)i[R]!==O[R]&&_[s].push(i)}else _[s]=[i]}function k(n){const u=[],f=n.match(/\d+(\.\d+)?%/g)||[];for(const g of f){const i=_[g];if(i)for(const w of i)u.push(w)}const s=I(n);if(s in _){const g=_[s],i=JSON.parse(JSON.stringify(g[g.length-1]));i[t("general.id")]=t("general.sum"),u.push(i)}return u}const $=D([]),y=m.info.skill_infos[m.type].skill_list;for(const n of y){const u={};let f=n.name;f===t("general.skill_damage")&&(f=m.info.skill_infos[m.type].name),a[f]&&(a[f].element,a[f].base_attr,a[f].resonance_energy_regen,a[f].concerto_regen),u[t("general.name")]=n.name;const s=q(n.format,n.param[0][9]);u.LV10=s,$.push(u)}return(n,u)=>p.info&&p.type?(v(),L("div",{class:"f-flex flex-column",key:p.type},[e("div",{class:E(`d-flex text-${p.info.element_en} font-weight-bold my-1`)},o(n.$t(p.info.skill_infos[p.type].name)),3),e("div",{class:"bg-blue-grey-darken-4 pa-2",innerHTML:l(W)(p.info.skill_infos[p.type].description)},null,8,oe),$.length>0?(v(),V(C,{key:0,class:"table my-1",items:$,"disable-sort":"","hide-default-footer":"","items-per-page":$.length+1},{"item.LV10":d(({item:f})=>[k(f.LV10).length>0?(v(),V(X,{key:0,location:"left"},{activator:d(({props:s})=>[e("span",N(s,{class:"cursor-pointer"}),o(f.LV10),17)]),default:d(()=>[c(C,{class:"table",items:k(f.LV10),"disable-sort":"","hide-default-footer":""},{item:d(({item:s,index:g})=>[e("tr",{class:E({"text-highlight font-weight-bold":s[l(t)("general.id")]===l(t)("general.sum")})},[e("td",null,o(s[l(t)("general.id")]),1),e("td",null,o(s[l(t)("general.element")]),1),e("td",null,o(s[l(t)("general.base_attr")]),1),e("td",null,o(s[l(t)("general.skill_bonus_type")]),1),e("td",null,o(s.LV10),1),e("td",null,o(s[l(t)("general.resonance_energy_regen")]),1),e("td",null,o(s[l(t)("general.concerto_regen")]),1)],2)]),_:2},1032,["items"])]),_:2},1024)):(v(),L("span",F(N({key:1},m)),o(f.LV10),17))]),_:1},8,["items","items-per-page"])):x("",!0),r.length>0?(v(),V(Y,{key:1},{default:d(()=>[c(te,null,{default:d(()=>[c(Z,null,{default:d(()=>[e("span",se,o(n.$t("general.detailed_skill_info")),1)]),_:1}),c(ee,null,{default:d(()=>[c(C,{class:"table my-1",items:r,"disable-sort":"","hide-default-footer":"","items-per-page":r.length+1},null,8,["items","items-per-page"])]),_:1})]),_:1})]),_:1})):x("",!0)])):x("",!0)}}),ae=B(le,[["__scopeId","data-v-823c31f3"]]),re={class:"ml-4 text-truncate"},ie={class:"ml-4 text-truncate"},ce={class:"ml-4 text-truncate"},fe={class:"ml-4 text-truncate"},_e={class:"ml-4 text-truncate"},de={class:"ml-4 text-truncate"},ue={key:0,class:"d-flex flex-column w-100"},pe={class:"f-flex flex-row my-1"},me={class:"f-flex flex-row my-1"},ge={id:"skill"},ke={class:"f-flex flex-row my-1"},ye={id:"normal_attack"},he={class:"f-flex flex-row my-1"},be={id:"resonance_skill"},ve={class:"f-flex flex-row my-1"},$e={id:"forte_circuit"},we={class:"f-flex flex-row my-1"},xe={id:"resonance_liberation"},Ve={class:"f-flex flex-row my-1"},Te={id:"intro_skill"},Se={class:"f-flex flex-row my-1"},Ce={id:"outro_skill"},Le=P({__name:"wiki",setup(p){const t=H(),m=Q(),T=M().params.resonator_no,_=z(void 0);return A(async()=>{_.value=await m.getInfoByNo(T)}),(a,r)=>{const S=ne,k=ae,$=J;return v(),V($,null,{left:d(()=>[c(S,null,{default:d(()=>[c(b,{title:a.$t("resonator.header.skill"),onClick:r[0]||(r[0]=y=>l(h)(l(t),"#skill"))},null,8,["title"]),c(b,{onClick:r[1]||(r[1]=y=>l(h)(l(t),"#normal_attack"))},{default:d(()=>[e("span",re,o(a.$t("resonator.header.normal_attack")),1)]),_:1}),c(b,{onClick:r[2]||(r[2]=y=>l(h)(l(t),"#resonance_skill"))},{default:d(()=>[e("span",ie,o(a.$t("resonator.header.resonance_skill")),1)]),_:1}),c(b,{onClick:r[3]||(r[3]=y=>l(h)(l(t),"#forte_circuit"))},{default:d(()=>[e("span",ce,o(a.$t("resonator.header.forte_circuit")),1)]),_:1}),c(b,{onClick:r[4]||(r[4]=y=>l(h)(l(t),"#resonance_liberation"))},{default:d(()=>[e("span",fe,o(a.$t("resonator.header.resonance_liberation")),1)]),_:1}),c(b,{onClick:r[5]||(r[5]=y=>l(h)(l(t),"#intro_skill"))},{default:d(()=>[e("span",_e,o(a.$t("resonator.header.intro_skill")),1)]),_:1}),c(b,{onClick:r[6]||(r[6]=y=>l(h)(l(t),"#outro_skill"))},{default:d(()=>[e("span",de,o(a.$t("resonator.header.outro_skill")),1)]),_:1})]),_:1})]),right:d(()=>[_.value!==void 0?(v(),L("div",ue,[e("div",pe,[e("h1",null,o(a.$t(_.value.name)),1)]),e("div",me,[e("h2",ge,o(a.$t("resonator.header.skill")),1)]),e("div",ke,[e("h3",ye,o(a.$t("resonator.header.normal_attack")),1),c(k,{class:"my-1",info:_.value,type:"normal_attack"},null,8,["info"])]),e("div",he,[e("h3",be,o(a.$t("resonator.header.resonance_skill")),1),c(k,{class:"my-1",info:_.value,type:"resonance_skill"},null,8,["info"])]),e("div",ve,[e("h3",$e,o(a.$t("resonator.header.forte_circuit")),1),c(k,{class:"my-1",info:_.value,type:"forte_circuit"},null,8,["info"])]),e("div",we,[e("h3",xe,o(a.$t("resonator.header.resonance_liberation")),1),c(k,{class:"my-1",info:_.value,type:"resonance_liberation"},null,8,["info"])]),e("div",Ve,[e("h3",Te,o(a.$t("resonator.header.intro_skill")),1),c(k,{class:"my-1",info:_.value,type:"intro_skill"},null,8,["info"])]),e("div",Se,[e("h3",Ce,o(a.$t("resonator.header.outro_skill")),1),c(k,{class:"my-1",info:_.value,type:"outro_skill"},null,8,["info"])])])):x("",!0)]),_:1})}}}),He=B(Le,[["__scopeId","data-v-750833db"]]);export{He as default};
