import{d as z,x as F,y as E,c as b,l as L,o as p,j as e,e as w,t,z as N,u as a,w as u,a as r,m as P,A as O,b as B,v as A,p as H,k as M,s as J,F as S,h as T,n as q,q as G}from"./index-DBOlYmFe.js";import{S as U}from"./echo-CGD1YSsE.js";import{R as K,S as Q,u as W}from"./resonator-Be-vQPVU.js";import{g as X,a as Y,t as Z,j as k}from"./utils-Car4rOKU.js";import{V}from"./VDataTable-BXqoPsQ7.js";import{V as ee}from"./VTooltip-CukyjGQv.js";import{V as te,c as ne,b as le,a as se}from"./VExpansionPanels-DwDmiPgY.js";import{_ as oe}from"./DocHeaders-DVCO8ZuR.js";import"./weapon-D3Ij5fVZ.js";import"./sonata-CWORC-Gu.js";import{V as ae}from"./VSheet-Cj4WYDAK.js";import{V as re}from"./VCard-Dp96tMQI.js";import{V as ie}from"./VAvatar-DpB0SAdm.js";import{V as v}from"./VList-DqMoKN8k.js";import"./VTextField-3J0dxVMv.js";import"./index-DdL2vDM8.js";import"./VOverlay-C-twnjrH.js";const de=["innerHTML"],ue={class:"text-highlight font-weight-bold"},ce=z({__name:"ResonatorSkillData",props:{info:{type:Object,default:new K},type:{type:String,default:""}},setup(y){const{t:o}=F(),$=y;function R(l){if(!l.includes("%"))return"";const _=c=>Function('"use strict";return ('+c+")")(),d=l.replace(/[^\d.%+\-*/]/g,"").replace(/(\d+(\.\d+)?)%/g,(c,h)=>(parseFloat(h)/100).toString());return(_(d)*100).toFixed(2)+"%"}const I=[o("general.element"),o("general.base_attr"),o("general.skill_bonus_type"),o("general.resonance_energy_regen"),o("general.concerto_regen")],s={},g={},n=E([]),i=$.info.skills;for(const l of i){const _=l.id,d=l.lv10,f=l.skill_type;if(!d||!$.type||f!==Q[$.type.toUpperCase()])continue;const c={},h=[];if(l.bonus_type&&h.push(l.bonus_type),l.bonus_type_2&&h.push(l.bonus_type_2),l.coordinated&&h.push(U.COORDINATED_ATTACK),c[o("general.id")]=_,c[o("general.element")]=l.element,c[o("general.base_attr")]=l.base_attr,c[o("general.skill_bonus_type")]=h.join(", "),c.LV10=d,c[o("general.resonance_energy_regen")]=l.resonance_energy_regen,c[o("general.concerto_regen")]=l.concerto_regen,n.push(c),g[_]=l,d in s){const j=s[d][0];for(const D of I)c[D]!==j[D]&&s[d].push(c)}else s[d]=[c]}function x(l){const _=[],d=l.match(/\d+(\.\d+)?%/g)||[];for(const c of d){const h=s[c];if(h)for(const j of h)_.push(j)}const f=R(l);if(f in s){const c=s[f],h=JSON.parse(JSON.stringify(c[c.length-1]));h[o("general.id")]=o("general.sum"),_.push(h)}return _}const m=E([]),C=$.info.skill_infos[$.type].skill_list;if(C)for(const l of C){const _={};let d=l.name;d===o("general.skill_damage")&&(d=$.info.skill_infos[$.type].name),g[d]&&(g[d].element,g[d].base_attr,g[d].resonance_energy_regen,g[d].concerto_regen),_[o("general.name")]=l.name;const f=X(l.format,l.param[0][9]);_.LV10=f,m.push(_)}return(l,_)=>y.info&&y.type?(p(),b("div",{class:"d-flex flex-column",key:y.type},[e("div",{class:N(`d-flex text-${y.info.element_en} font-weight-bold my-1`)},t(l.$t(y.info.skill_infos[y.type].name)),3),e("div",{class:"bg-blue-grey-darken-4 pa-2",innerHTML:a(Y)(y.info.skill_infos[y.type].description)},null,8,de),m.length>0?(p(),w(V,{key:0,class:"table my-1",items:m,"disable-sort":"","hide-default-footer":"","items-per-page":m.length+1},{"item.LV10":u(({item:d})=>[x(d.LV10).length>0?(p(),w(ee,{key:0,location:"left"},{activator:u(({props:f})=>[e("span",P(f,{class:"cursor-pointer"}),t(d.LV10),17)]),default:u(()=>[r(V,{class:"table",items:x(d.LV10),"disable-sort":"","hide-default-footer":""},{item:u(({item:f,index:c})=>[e("tr",{class:N({"text-highlight font-weight-bold":f[a(o)("general.id")]===a(o)("general.sum")})},[e("td",null,t(f[a(o)("general.id")]),1),e("td",null,t(f[a(o)("general.element")]),1),e("td",null,t(f[a(o)("general.base_attr")]),1),e("td",null,t(f[a(o)("general.skill_bonus_type")]),1),e("td",null,t(f.LV10),1),e("td",null,t(f[a(o)("general.resonance_energy_regen")]),1),e("td",null,t(f[a(o)("general.concerto_regen")]),1)],2)]),_:2},1032,["items"])]),_:2},1024)):(p(),b("span",O(P({key:1},$)),t(d.LV10),17))]),_:1},8,["items","items-per-page"])):L("",!0),n.length>0?(p(),w(te,{key:1},{default:u(()=>[r(se,null,{default:u(()=>[r(ne,null,{default:u(()=>[e("span",ue,t(l.$t("general.detailed_skill_info")),1)]),_:1}),r(le,null,{default:u(()=>[r(V,{class:"table my-1",items:n,"disable-sort":"","hide-default-footer":"","items-per-page":n.length+1},null,8,["items","items-per-page"])]),_:1})]),_:1})]),_:1})):L("",!0)])):L("",!0)}}),fe=B(ce,[["__scopeId","data-v-b77ae2b5"]]),_e={class:"ml-4 text-truncate"},me={class:"ml-4 text-truncate"},he={class:"ml-4 text-truncate"},pe={class:"ml-4 text-truncate"},ge={class:"ml-4 text-truncate"},ke={class:"ml-4 text-truncate"},ve={class:"d-flex flex-column w-100"},ye={class:"d-flex flex-row my-1"},$e={id:"resonator"},be={class:"d-flex flex-row"},we={class:"d-flex w-33 mr-1"},Ve=["src"],xe={class:"d-flex flex-column w-33 mr-1"},Ce={class:"d-flex flex-column w-33"},Se={class:"d-flex flex-row mt-16 mb-4"},Te={id:"materials"},Le={class:"d-flex flex-column"},Ie={class:"d-flex flex-row my-1"},je={class:"d-flex flex-column"},Ne={class:"mr-2 text-truncate text-center"},Re={class:"mr-2 text-truncate text-center"},De={class:"d-flex flex-row mt-16 mb-4"},Ee={id:"skill"},Pe={class:"d-flex flex-column my-1"},ze={id:"normal_attack"},Be={class:"d-flex flex-column my-1"},Fe={id:"resonance_skill"},Oe={class:"d-flex flex-column my-1"},Ae={id:"forte_circuit"},He={class:"d-flex flex-column my-1"},Me={id:"resonance_liberation"},Je={class:"d-flex flex-column my-1"},qe={id:"intro_skill"},Ge={class:"d-flex flex-column my-1"},Ue={id:"outro_skill"},Ke={class:"d-flex flex-row mt-16 mb-4"},Qe={id:"inherent_skill"},We={class:"d-flex flex-column my-1"},Xe={id:"outro_skill"},Ye={class:"d-flex flex-column my-1"},Ze={id:"outro_skill"},et={class:"d-flex flex-row mt-16 mb-4"},tt={id:"chain"},nt={class:"d-flex flex-column my-1"},lt={id:"outro_skill"},st=z({__name:"wiki",setup(y){const o=A(),$=W(),I=H().params.resonator_no,s=M(void 0);function g(n){return n.replace("CV：","")}return J(async()=>{s.value=await $.getInfoByNo(I)}),(n,i)=>{const x=oe,m=fe,C=G;return s.value!==void 0?(p(),w(C,{key:0},{left:u(()=>[r(x,null,{default:u(()=>[r(v,{title:n.$t(s.value.name),onClick:i[0]||(i[0]=l=>a(k)(a(o),"#resonator"))},null,8,["title"]),r(v,{title:n.$t("resonator.header.materials"),onClick:i[1]||(i[1]=l=>a(k)(a(o),"#materials"))},null,8,["title"]),r(v,{title:n.$t("resonator.header.skill"),onClick:i[2]||(i[2]=l=>a(k)(a(o),"#skill"))},null,8,["title"]),r(v,{onClick:i[3]||(i[3]=l=>a(k)(a(o),"#normal_attack"))},{default:u(()=>[e("span",_e,t(n.$t("resonator.header.normal_attack")),1)]),_:1}),r(v,{onClick:i[4]||(i[4]=l=>a(k)(a(o),"#resonance_skill"))},{default:u(()=>[e("span",me,t(n.$t("resonator.header.resonance_skill")),1)]),_:1}),r(v,{onClick:i[5]||(i[5]=l=>a(k)(a(o),"#forte_circuit"))},{default:u(()=>[e("span",he,t(n.$t("resonator.header.forte_circuit")),1)]),_:1}),r(v,{onClick:i[6]||(i[6]=l=>a(k)(a(o),"#resonance_liberation"))},{default:u(()=>[e("span",pe,t(n.$t("resonator.header.resonance_liberation")),1)]),_:1}),r(v,{onClick:i[7]||(i[7]=l=>a(k)(a(o),"#intro_skill"))},{default:u(()=>[e("span",ge,t(n.$t("resonator.header.intro_skill")),1)]),_:1}),r(v,{onClick:i[8]||(i[8]=l=>a(k)(a(o),"#outro_skill"))},{default:u(()=>[e("span",ke,t(n.$t("resonator.header.outro_skill")),1)]),_:1}),r(v,{title:n.$t("resonator.header.inherent_skill"),onClick:i[9]||(i[9]=l=>a(k)(a(o),"#inherent_skill"))},null,8,["title"]),r(v,{title:n.$t("resonator.header.chain"),onClick:i[10]||(i[10]=l=>a(k)(a(o),"#chain"))},null,8,["title"])]),_:1})]),right:u(()=>[e("div",ve,[e("div",ye,[e("h1",$e,t(n.$t(s.value.name)),1)]),e("div",be,[e("div",we,[e("img",{class:"background w-100",src:s.value.background},null,8,Ve)]),e("div",xe,[r(V,{headers:[],"disable-sort":"","hide-default-footer":"","items-per-page":2},{body:u(()=>[e("tr",null,[e("td",null,t(n.$t("general.rarity")),1),e("td",null,t("★".repeat(s.value.rarity)),1)]),e("tr",null,[e("td",null,t(n.$t("general.element")),1),e("td",{class:N(`text-${s.value.element_en} font-weight-bold`)},t(n.$t(s.value.element_zh_tw)),3)]),e("tr",null,[e("td",null,t(n.$t("general.weapon")),1),e("td",null,t(n.$t(s.value.weapon_zh_tw)),1)]),e("tr",null,[e("td",null,t(n.$t("general.birth")),1),e("td",null,t(n.$t(s.value.chara_info.birth)),1)]),e("tr",null,[e("td",null,t(n.$t("general.sex")),1),e("td",null,t(n.$t(s.value.chara_info.sex)),1)]),e("tr",null,[e("td",null,t(n.$t("general.country")),1),e("td",null,t(n.$t(s.value.chara_info.country)),1)]),e("tr",null,[e("td",null,t(n.$t("general.influence")),1),e("td",null,t(n.$t(s.value.chara_info.influence)),1)]),e("tr",null,[e("td",null,t(n.$t("general.cvnamecn")),1),e("td",null,t(n.$t(g(s.value.chara_info.cvnamecn))),1)]),e("tr",null,[e("td",null,t(n.$t("general.cvnamejp")),1),e("td",null,t(n.$t(g(s.value.chara_info.cvnamejp))),1)]),e("tr",null,[e("td",null,t(n.$t("general.cvnameko")),1),e("td",null,t(n.$t(g(s.value.chara_info.cvnameko))),1)]),e("tr",null,[e("td",null,t(n.$t("general.cvnameen")),1),e("td",null,t(n.$t(g(s.value.chara_info.cvnameen))),1)])]),_:1})]),e("div",Ce,[r(V,{headers:[],"disable-sort":"","hide-default-footer":"","items-per-page":2},{body:u(()=>[e("tr",null,[e("td",null,t(n.$t("general.level")),1),e("td",null,t(n.$t("general.hp")),1),e("td",null,t(n.$t("general.atk")),1),e("td",null,t(n.$t("general.def")),1)]),(p(!0),b(S,null,T(s.value.attrs,l=>(p(),b("tr",null,[e("td",null,t(l.lv),1),e("td",null,t(l.hp),1),e("td",null,t(l.atk),1),e("td",null,t(l.def),1)]))),256))]),_:1})])]),e("div",Se,[e("h2",Te,t(n.$t("resonator.header.materials")),1)]),(p(),b(S,null,T(["levels","ascensions","skills"],l=>e("div",Le,[e("div",Ie,[e("h3",null,t(n.$t(`resonator.header.upgrade.${l}`)),1)]),r(ae,{class:"d-flex flex-wrap justify-start"},{default:u(()=>[(p(!0),b(S,null,T(Object.keys(s.value.consume[l]),_=>(p(),w(re,{class:"ma-2 pa-2"},{default:u(()=>[r(ie,{width:"100",src:s.value.consume[l][_].icon},null,8,["src"]),r(q,{"no-gutters":"",align:"center",justify:"center"},{default:u(()=>[e("div",je,[e("span",Ne,t(n.$t(s.value.consume[l][_].name)),1),e("span",Re,t(a(Z)(s.value.consume[l][_].value,0)),1)])]),_:2},1024)]),_:2},1024))),256))]),_:2},1024)])),64)),e("div",De,[e("h2",Ee,t(n.$t("resonator.header.skill")),1)]),e("div",Pe,[e("h3",ze,t(n.$t("resonator.header.normal_attack")),1),r(m,{class:"my-1",info:s.value,type:"normal_attack"},null,8,["info"])]),e("div",Be,[e("h3",Fe,t(n.$t("resonator.header.resonance_skill")),1),r(m,{class:"my-1",info:s.value,type:"resonance_skill"},null,8,["info"])]),e("div",Oe,[e("h3",Ae,t(n.$t("resonator.header.forte_circuit")),1),r(m,{class:"my-1",info:s.value,type:"forte_circuit"},null,8,["info"])]),e("div",He,[e("h3",Me,t(n.$t("resonator.header.resonance_liberation")),1),r(m,{class:"my-1",info:s.value,type:"resonance_liberation"},null,8,["info"])]),e("div",Je,[e("h3",qe,t(n.$t("resonator.header.intro_skill")),1),r(m,{class:"my-1",info:s.value,type:"intro_skill"},null,8,["info"])]),e("div",Ge,[e("h3",Ue,t(n.$t("resonator.header.outro_skill")),1),r(m,{class:"my-1",info:s.value,type:"outro_skill"},null,8,["info"])]),e("div",Ke,[e("h2",Qe,t(n.$t("resonator.header.inherent_skill")),1)]),e("div",We,[e("h3",Xe,t(n.$t("resonator.header.inherent_skill_1")),1),r(m,{class:"my-1",info:s.value,type:"inherent_skill_1"},null,8,["info"])]),e("div",Ye,[e("h3",Ze,t(n.$t("resonator.header.inherent_skill_2")),1),r(m,{class:"my-1",info:s.value,type:"inherent_skill_2"},null,8,["info"])]),e("div",et,[e("h2",tt,t(n.$t("resonator.header.chain")),1)]),(p(),b(S,null,T(6,l=>e("div",nt,[e("h3",lt,t(n.$t("resonator.header.chain_nth",{n:l})),1),r(m,{class:"my-1",info:s.value,type:`chain${l}`},null,8,["info","type"])])),64))])]),_:1})):L("",!0)}}}),bt=B(st,[["__scopeId","data-v-6d41070f"]]);export{bt as default};
